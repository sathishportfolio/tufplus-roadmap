var tP=Object.defineProperty,nP=Object.defineProperties;var iP=Object.getOwnPropertyDescriptors;var Kb=Object.getOwnPropertySymbols,rP=Object.getPrototypeOf,sP=Object.prototype.hasOwnProperty,oP=Object.prototype.propertyIsEnumerable,aP=Reflect.get;var Qb=(n,e,t)=>e in n?tP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})sP.call(e,t)&&Qb(n,t,e[t]);if(Kb)for(var t of Kb(e))oP.call(e,t)&&Qb(n,t,e[t]);return n},ce=(n,e)=>nP(n,iP(e));var ki=(n,e,t)=>aP(rP(n),t,e);var b=(n,e,t)=>new Promise((i,r)=>{var s=c=>{try{a(t.next(c))}catch(u){r(u)}},o=c=>{try{a(t.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});function Jb(n,e){return Object.is(n,e)}var Qe=null,Gl=!1,zl=1,Wn=Symbol("SIGNAL");function me(n){let e=Qe;return Qe=n,e}function Yb(){return Qe}var Ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pp(n){if(Gl)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(n);let e=Qe.nextProducerIndex++;if(Ql(Qe),e<Qe.producerNode.length&&Qe.producerNode[e]!==n&&Ia(Qe)){let t=Qe.producerNode[e];Kl(t,Qe.producerIndexOfThis[e])}Qe.producerNode[e]!==n&&(Qe.producerNode[e]=n,Qe.producerIndexOfThis[e]=Ia(Qe)?tI(n,Qe,e):0),Qe.producerLastReadVersion[e]=n.version}function cP(){zl++}function Zb(n){if(!(Ia(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===zl)){if(!n.producerMustRecompute(n)&&!xp(n)){n.dirty=!1,n.lastCleanEpoch=zl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=zl}}function Xb(n){if(n.liveConsumerNode===void 0)return;let e=Gl;Gl=!0;try{for(let t of n.liveConsumerNode)t.dirty||lP(t)}finally{Gl=e}}function eI(){return Qe?.consumerAllowSignalWrites!==!1}function lP(n){n.dirty=!0,Xb(n),n.consumerMarkedDirty?.(n)}function Wl(n){return n&&(n.nextProducerIndex=0),me(n)}function Op(n,e){if(me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ia(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Kl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function xp(n){Ql(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Zb(t),i!==t.version))return!0}return!1}function kp(n){if(Ql(n),Ia(n))for(let e=0;e<n.producerNode.length;e++)Kl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function tI(n,e,t){if(nI(n),n.liveConsumerNode.length===0&&iI(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=tI(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Kl(n,e){if(nI(n),n.liveConsumerNode.length===1&&iI(n))for(let i=0;i<n.producerNode.length;i++)Kl(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ql(r),r.producerIndexOfThis[i]=e}}function Ia(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ql(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function nI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function iI(n){return n.producerNode!==void 0}function rI(n){let e=Object.create(uP);e.computation=n;let t=()=>{if(Zb(e),Pp(e),e.value===ql)throw e.error;return e.value};return t[Wn]=e,t}var Rp=Symbol("UNSET"),Np=Symbol("COMPUTING"),ql=Symbol("ERRORED"),uP=ce(k({},Ea),{value:Rp,dirty:!0,error:null,equal:Jb,producerMustRecompute(n){return n.value===Rp||n.value===Np},producerRecomputeValue(n){if(n.value===Np)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Np;let t=Wl(n),i;try{i=n.computation()}catch(r){i=ql,n.error=r}finally{Op(n,t)}if(e!==Rp&&e!==ql&&i!==ql&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function dP(){throw new Error}var sI=dP;function oI(){sI()}function aI(n){sI=n}var hP=null;function cI(n){let e=Object.create(uI);e.value=n;let t=()=>(Pp(e),e.value);return t[Wn]=e,t}function Fp(n,e){eI()||oI(),n.equal(n.value,e)||(n.value=e,fP(n))}function lI(n,e){eI()||oI(),Fp(n,e(n.value))}var uI=ce(k({},Ea),{equal:Jb,value:void 0});function fP(n){n.version++,cP(),Xb(n),hP?.()}function Q(n){return typeof n=="function"}function ws(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Jl=ws(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Dr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Q(i))try{i()}catch(s){e=s instanceof Jl?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{dI(s)}catch(o){e=e??[],o instanceof Jl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Dr(t,e)}remove(e){let{_finalizers:t}=this;t&&Dr(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var Lp=Le.EMPTY;function Yl(n){return n instanceof Le||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function dI(n){Q(n)?n():n.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bs={setTimeout(n,e,...t){let{delegate:i}=bs;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=bs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Zl(n){bs.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(n);else throw n})}function Da(){}var hI=Vp("C",void 0,void 0);function fI(n){return Vp("E",void 0,n)}function pI(n){return Vp("N",n,void 0)}function Vp(n,e,t){return{kind:n,value:e,error:t}}var Tr=null;function Is(n){if(ln.useDeprecatedSynchronousErrorHandling){let e=!Tr;if(e&&(Tr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Tr;if(Tr=null,t)throw i}}else n()}function gI(n){ln.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=n)}var Cr=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yl(e)&&e.add(this)):this.destination=mP}static create(e,t,i){return new Es(e,t,i)}next(e){this.isStopped?Up(pI(e),this):this._next(e)}error(e){this.isStopped?Up(fI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Up(hI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pP=Function.prototype.bind;function Bp(n,e){return pP.call(n,e)}var jp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Xl(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Xl(i)}else Xl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xl(t)}}},Es=class extends Cr{constructor(e,t,i){super();let r;if(Q(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ln.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Bp(e.next,s),error:e.error&&Bp(e.error,s),complete:e.complete&&Bp(e.complete,s)}):r=e}this.destination=new jp(r)}};function Xl(n){ln.useDeprecatedSynchronousErrorHandling?gI(n):Zl(n)}function gP(n){throw n}function Up(n,e){let{onStoppedNotification:t}=ln;t&&bs.setTimeout(()=>t(n,e))}var mP={closed:!0,next:Da,error:gP,complete:Da};var Ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(n){return n}function Ts(...n){return $p(n)}function $p(n){return n.length===0?kt:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Y=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=yP(t)?t:new Es(t,i,r);return Is(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=mI(i),new i((r,s)=>{let o=new Es({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Ds](){return this}pipe(...t){return $p(t)(this)}toPromise(t){return t=mI(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function mI(n){var e;return(e=n??ln.Promise)!==null&&e!==void 0?e:Promise}function _P(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}function yP(n){return n&&n instanceof Cr||_P(n)&&Yl(n)}function Hp(n){return Q(n?.lift)}function ye(n){return e=>{if(Hp(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,i,r){return new Gp(n,e,t,i,r)}var Gp=class extends Cr{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Cs(){return ye((n,e)=>{let t=null;n._refCount++;let i=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ss=class extends Y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Cs()(this)}};var _I=ws(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class n extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new eu(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new _I}next(t){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Lp:(this.currentObservers=null,s.push(t),new Le(()=>{this.currentObservers=null,Dr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return n.create=(e,t)=>new eu(e,t),n})(),eu=class extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Lp}};var Ye=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var zp={now(){return(zp.delegate||Date).now()},delegate:void 0};var tu=class extends Le{constructor(e,t){super()}schedule(e,t=0){return this}};var Ta={setInterval(n,e,...t){let{delegate:i}=Ta;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ta;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var As=class extends tu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Ta.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Ta.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Dr(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ms=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Ms.now=zp.now;var Rs=class extends Ms{constructor(e,t=Ms.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var nu=new Rs(As),qp=nu;var iu=class extends As{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var ru=class extends Rs{};var Wp=new ru(iu);var It=new Y(n=>n.complete());function su(n){return n&&Q(n.schedule)}function yI(n){return n[n.length-1]}function ou(n){return Q(yI(n))?n.pop():void 0}function Fi(n){return su(yI(n))?n.pop():void 0}function Kp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function wI(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{u(i.next(h))}catch(p){o(p)}}function c(h){try{u(i.throw(h))}catch(p){o(p)}}function u(h){h.done?s(h.value):r(h.value).then(a,c)}u((i=i.apply(n,e||[])).next())})}function vI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(n){return this instanceof Sr?(this.v=n,this):new Sr(n)}function bI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(_){return function(I){return Promise.resolve(I).then(_,p)}}function a(_,I){i[_]&&(r[_]=function(A){return new Promise(function(M,P){s.push([_,A,M,P])>1||c(_,A)})},I&&(r[_]=I(r[_])))}function c(_,I){try{u(i[_](I))}catch(A){m(s[0][3],A)}}function u(_){_.value instanceof Sr?Promise.resolve(_.value.v).then(h,p):m(s[0][2],_)}function h(_){c("next",_)}function p(_){c("throw",_)}function m(_,I){_(I),s.shift(),s.length&&c(s[0][0],s[0][1])}}function II(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vI=="function"?vI(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ns=n=>n&&typeof n.length=="number"&&typeof n!="function";function au(n){return Q(n?.then)}function cu(n){return Q(n[Ds])}function lu(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function uu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var du=vP();function hu(n){return Q(n?.[du])}function fu(n){return bI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Sr(t.read());if(r)return yield Sr(void 0);yield yield Sr(i)}}finally{t.releaseLock()}})}function pu(n){return Q(n?.getReader)}function Re(n){if(n instanceof Y)return n;if(n!=null){if(cu(n))return wP(n);if(Ns(n))return bP(n);if(au(n))return IP(n);if(lu(n))return EI(n);if(hu(n))return EP(n);if(pu(n))return DP(n)}throw uu(n)}function wP(n){return new Y(e=>{let t=n[Ds]();if(Q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bP(n){return new Y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function IP(n){return new Y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Zl)})}function EP(n){return new Y(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function EI(n){return new Y(e=>{TP(n,e).catch(t=>e.error(t))})}function DP(n){return EI(fu(n))}function TP(n,e){var t,i,r,s;return wI(this,void 0,void 0,function*(){try{for(t=II(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function Mt(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Li(n,e=0){return ye((t,i)=>{t.subscribe(he(i,r=>Mt(i,n,()=>i.next(r),e),()=>Mt(i,n,()=>i.complete(),e),r=>Mt(i,n,()=>i.error(r),e)))})}function Vi(n,e=0){return ye((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function DI(n,e){return Re(n).pipe(Vi(e),Li(e))}function TI(n,e){return Re(n).pipe(Vi(e),Li(e))}function CI(n,e){return new Y(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function SI(n,e){return new Y(t=>{let i;return Mt(t,e,()=>{i=n[du](),Mt(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>Q(i?.return)&&i.return()})}function gu(n,e){if(!n)throw new Error("Iterable cannot be null");return new Y(t=>{Mt(t,e,()=>{let i=n[Symbol.asyncIterator]();Mt(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function AI(n,e){return gu(fu(n),e)}function MI(n,e){if(n!=null){if(cu(n))return DI(n,e);if(Ns(n))return CI(n,e);if(au(n))return TI(n,e);if(lu(n))return gu(n,e);if(hu(n))return SI(n,e);if(pu(n))return AI(n,e)}throw uu(n)}function Te(n,e){return e?MI(n,e):Re(n)}function z(...n){let e=Fi(n);return Te(n,e)}function Ps(n,e){let t=Q(n)?n:()=>n,i=r=>r.error(t());return new Y(e?r=>e.schedule(i,0,r):i)}function Qp(n){return!!n&&(n instanceof Y||Q(n.lift)&&Q(n.subscribe))}var Kn=ws(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function RI(n){return n instanceof Date&&!isNaN(n)}function J(n,e){return ye((t,i)=>{let r=0;t.subscribe(he(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:CP}=Array;function SP(n,e){return CP(e)?n(...e):n(e)}function Os(n){return J(e=>SP(n,e))}var{isArray:AP}=Array,{getPrototypeOf:MP,prototype:RP,keys:NP}=Object;function mu(n){if(n.length===1){let e=n[0];if(AP(e))return{args:e,keys:null};if(PP(e)){let t=NP(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function PP(n){return n&&typeof n=="object"&&MP(n)===RP}function _u(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function xs(...n){let e=Fi(n),t=ou(n),{args:i,keys:r}=mu(n);if(i.length===0)return Te([],e);let s=new Y(OP(i,e,r?o=>_u(r,o):kt));return t?s.pipe(Os(t)):s}function OP(n,e,t=kt){return i=>{NI(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)NI(e,()=>{let u=Te(n[c],e),h=!1;u.subscribe(he(i,p=>{s[c]=p,h||(h=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function NI(n,e,t){n?Mt(t,n,e):e()}function PI(n,e,t,i,r,s,o,a){let c=[],u=0,h=0,p=!1,m=()=>{p&&!c.length&&!u&&e.complete()},_=A=>u<i?I(A):c.push(A),I=A=>{s&&e.next(A),u++;let M=!1;Re(t(A,h++)).subscribe(he(e,P=>{r?.(P),s?_(P):e.next(P)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<i;){let P=c.shift();o?Mt(e,o,()=>I(P)):I(P)}m()}catch(P){e.error(P)}}))};return n.subscribe(he(e,_,()=>{p=!0,m()})),()=>{a?.()}}function Pe(n,e,t=1/0){return Q(e)?Pe((i,r)=>J((s,o)=>e(i,s,r,o))(Re(n(i,r))),t):(typeof e=="number"&&(t=e),ye((i,r)=>PI(i,r,n,t)))}function ks(n=1/0){return Pe(kt,n)}function OI(){return ks(1)}function Bi(...n){return OI()(Te(n,Fi(n)))}function yu(n){return new Y(e=>{Re(n()).subscribe(e)})}function Jp(...n){let e=ou(n),{args:t,keys:i}=mu(n),r=new Y(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let h=0;h<o;h++){let p=!1;Re(t[h]).subscribe(he(s,m=>{p||(p=!0,u--),a[h]=m},()=>c--,void 0,()=>{(!c||!p)&&(u||s.next(i?_u(i,a):a),s.complete())}))}});return e?r.pipe(Os(e)):r}var xP=["addListener","removeListener"],kP=["addEventListener","removeEventListener"],FP=["on","off"];function Ca(n,e,t,i){if(Q(t)&&(i=t,t=void 0),i)return Ca(n,e,t).pipe(Os(i));let[r,s]=BP(n)?kP.map(o=>a=>n[o](e,a,t)):LP(n)?xP.map(xI(n,e)):VP(n)?FP.map(xI(n,e)):[];if(!r&&Ns(n))return Pe(o=>Ca(o,e,t))(Re(n));if(!r)throw new TypeError("Invalid event target");return new Y(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function xI(n,e){return t=>i=>n[t](e,i)}function LP(n){return Q(n.addListener)&&Q(n.removeListener)}function VP(n){return Q(n.on)&&Q(n.off)}function BP(n){return Q(n.addEventListener)&&Q(n.removeEventListener)}function Yp(n=0,e,t=qp){let i=-1;return e!=null&&(su(e)?t=e:i=e),new Y(r=>{let s=RI(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}var{isArray:UP}=Array;function kI(n){return n.length===1&&UP(n[0])?n[0]:n}function st(n,e){return ye((t,i)=>{let r=0;t.subscribe(he(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Zp(...n){return n=kI(n),n.length===1?Re(n[0]):new Y(jP(n))}function jP(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(Re(n[i]).subscribe(he(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}function Ui(n){return ye((e,t)=>{let i=null,r=!1,s;i=e.subscribe(he(t,void 0,void 0,o=>{s=Re(n(o,Ui(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function FI(n,e,t,i,r){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(he(o,h=>{let p=u++;c=a?n(c,h,p):(a=!0,h),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Qn(n,e){return Q(e)?Pe(n,e,1):Pe(n,1)}function ji(n){return ye((e,t)=>{let i=!1;e.subscribe(he(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Jt(n){return n<=0?()=>It:ye((e,t)=>{let i=0;e.subscribe(he(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Xp(n){return J(()=>n)}function vu(n=$P){return ye((e,t)=>{let i=!1;e.subscribe(he(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function $P(){return new Kn}function eg(...n){return e=>Bi(e,z(...n))}function Jn(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function In(n,e){let t=arguments.length>=2;return i=>i.pipe(n?st((r,s)=>n(r,s,i)):kt,Jt(1),t?ji(e):vu(()=>new Kn))}function Fs(n){return n<=0?()=>It:ye((e,t)=>{let i=[];e.subscribe(he(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function tg(n,e){let t=arguments.length>=2;return i=>i.pipe(n?st((r,s)=>n(r,s,i)):kt,Fs(1),t?ji(e):vu(()=>new Kn))}function wu(n,e){return ye(FI(n,e,arguments.length>=2,!0))}function Sa(...n){let e=Fi(n);return ye((t,i)=>{(e?Bi(n,t,e):Bi(n,t)).subscribe(i)})}function ft(n,e){return ye((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(he(i,c=>{r?.unsubscribe();let u=0,h=s++;Re(n(c,h)).subscribe(r=he(i,p=>i.next(e?e(c,p,h,u++):p),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ar(n){return ye((e,t)=>{Re(n).subscribe(he(t,()=>t.complete(),Da)),!t.closed&&e.subscribe(t)})}function je(n,e,t){let i=Q(n)||e||t?{next:n,error:e,complete:t}:n;return i?ye((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(he(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):kt}var bE="https://g.co/ng/security#xss",G=class extends Error{constructor(e,t){super(cd(e,t)),this.code=e}};function cd(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function $a(n){return{toString:n}.toString()}var bu="__parameters__";function HP(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function IE(n,e,t){return $a(()=>{let i=HP(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,h){let p=c.hasOwnProperty(bu)?c[bu]:Object.defineProperty(c,bu,{value:[]})[bu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Zn=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function GP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Tt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Tt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function _g(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var zP=Ae({__forward_ref__:Ae});function fn(n){return n.__forward_ref__=fn,n.toString=function(){return Tt(this())},n}function Et(n){return EE(n)?n():n}function EE(n){return typeof n=="function"&&n.hasOwnProperty(zP)&&n.__forward_ref__===fn}function qP(n,e,t){n!=e&&WP(t,n,e,"==")}function WP(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(i==null?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Vt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ld(n){return LI(n,TE)||LI(n,CE)}function DE(n){return ld(n)!==null}function LI(n,e){return n.hasOwnProperty(e)?n[e]:null}function KP(n){let e=n&&(n[TE]||n[CE]);return e||null}function VI(n){return n&&(n.hasOwnProperty(BI)||n.hasOwnProperty(QP))?n[BI]:null}var TE=Ae({\u0275prov:Ae}),BI=Ae({\u0275inj:Ae}),CE=Ae({ngInjectableDef:Ae}),QP=Ae({ngInjectorDef:Ae}),B=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function SE(n){return n&&!!n.\u0275providers}var JP=Ae({\u0275cmp:Ae}),YP=Ae({\u0275dir:Ae}),ZP=Ae({\u0275pipe:Ae}),XP=Ae({\u0275mod:Ae}),xu=Ae({\u0275fac:Ae}),Ma=Ae({__NG_ELEMENT_ID__:Ae}),UI=Ae({__NG_ENV_ID__:Ae});function Nt(n){return typeof n=="string"?n:n==null?"":String(n)}function eO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Nt(n)}function tO(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new G(-200,n)}function hm(n,e){throw new G(-201,!1)}var le=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(le||{}),yg;function AE(){return yg}function Rt(n){let e=yg;return yg=n,e}function ME(n,e,t){let i=ld(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&le.Optional)return null;if(e!==void 0)return e;hm(n,"Injector")}var nO={},Oa=nO,vg="__NG_DI_FLAG__",ku="ngTempTokenPath",iO="ngTokenPath",rO=/\n/gm,sO="\u0275",jI="__source",Us;function oO(){return Us}function $i(n){let e=Us;return Us=n,e}function aO(n,e=le.Default){if(Us===void 0)throw new G(-203,!1);return Us===null?ME(n,void 0,e):Us.get(n,e&le.Optional?null:void 0,e)}function H(n,e=le.Default){return(AE()||aO)(Et(n),e)}function O(n,e=le.Default){return H(n,ud(e))}function ud(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wg(n){let e=[];for(let t=0;t<n.length;t++){let i=Et(n[t]);if(Array.isArray(i)){if(i.length===0)throw new G(900,!1);let r,s=le.Default;for(let o=0;o<i.length;o++){let a=i[o],c=cO(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(H(r,s))}else e.push(H(i))}return e}function RE(n,e){return n[vg]=e,n.prototype[vg]=e,n}function cO(n){return n[vg]}function lO(n,e,t,i){let r=n[ku];throw e[jI]&&r.unshift(e[jI]),n.message=uO(`
`+n.message,r,t,i),n[iO]=r,n[ku]=null,n}function uO(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==sO?n.slice(2):n;let r=Tt(e);if(Array.isArray(e))r=e.map(Tt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(rO,`
  `)}`}var gt=RE(IE("Optional"),8);var fm=RE(IE("SkipSelf"),4);function Pr(n,e){let t=n.hasOwnProperty(xu);return t?n[xu]:null}function pm(n,e){n.forEach(t=>Array.isArray(t)?pm(t,e):e(t))}function NE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Fu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function dO(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function hO(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function dd(n,e,t){let i=Ha(n,e);return i>=0?n[i|1]=t:(i=~i,hO(n,i,e,t)),i}function ng(n,e){let t=Ha(n,e);if(t>=0)return n[t|1]}function Ha(n,e){return fO(n,e,1)}function fO(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var $s={},Dt=[],Hs=new B(""),PE=new B("",-1),OE=new B(""),Lu=class{get(e,t=Oa){if(t===Oa){let i=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw i.name="NullInjectorError",i}return t}},xE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(xE||{}),Tn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Tn||{}),zi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(zi||{});function pO(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function bg(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];gO(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function kE(n){return n===3||n===4||n===6}function gO(n){return n.charCodeAt(0)===64}function xa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?$I(n,t,r,null,e[++i]):$I(n,t,r,null,null))}}return n}function $I(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var FE="ng-template";function mO(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&pO(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(gm(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function gm(n){return n.type===4&&n.value!==FE}function _O(n,e,t){let i=n.type===4&&!t?FE:n.value;return e===i}function yO(n,e,t){let i=4,r=n.attrs,s=r!==null?bO(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!un(i)&&!un(c))return!1;if(o&&un(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!_O(n,c,t)||c===""&&e.length===1){if(un(i))return!1;o=!0}}else if(i&8){if(r===null||!mO(n,r,c,t)){if(un(i))return!1;o=!0}}else{let u=e[++a],h=vO(c,r,gm(n),t);if(h===-1){if(un(i))return!1;o=!0;continue}if(u!==""){let p;if(h>s?p="":p=r[h+1].toLowerCase(),i&2&&u!==p){if(un(i))return!1;o=!0}}}}return un(i)||o}function un(n){return(n&1)===0}function vO(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return IO(e,n)}function LE(n,e,t=!1){for(let i=0;i<e.length;i++)if(yO(n,e[i],t))return!0;return!1}function wO(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function bO(n){for(let e=0;e<n.length;e++){let t=n[e];if(kE(t))return e}return n.length}function IO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function EO(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function HI(n,e){return n?":not("+e.trim()+")":e}function DO(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!un(o)&&(e+=HI(s,r),r=""),i=o,s=s||!un(i);t++}return r!==""&&(e+=HI(s,r)),e}function TO(n){return n.map(DO).join(",")}function CO(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!un(r))break;r=s}i++}return{attrs:e,classes:t}}function Pt(n){return $a(()=>{let e=HE(n),t=ce(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Tn.Emulated,styles:n.styles||Dt,_:null,schemas:n.schemas||null,tView:null,id:""});GE(t);let i=n.dependencies;return t.directiveDefs=zI(i,!1),t.pipeDefs=zI(i,!0),t.id=MO(t),t})}function SO(n){return qi(n)||BE(n)}function AO(n){return n!==null}function Bt(n){return $a(()=>({type:n.type,bootstrap:n.bootstrap||Dt,declarations:n.declarations||Dt,imports:n.imports||Dt,exports:n.exports||Dt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function GI(n,e){if(n==null)return $s;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=zi.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==zi.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Oe(n){return $a(()=>{let e=HE(n);return GE(e),e})}function VE(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function qi(n){return n[JP]||null}function BE(n){return n[YP]||null}function UE(n){return n[ZP]||null}function jE(n){let e=qi(n)||BE(n)||UE(n);return e!==null?e.standalone:!1}function $E(n,e){let t=n[XP]||null;if(!t&&e===!0)throw new Error(`Type ${Tt(n)} does not have '\u0275mod' property.`);return t}function HE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||$s,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Dt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:GI(n.inputs,e),outputs:GI(n.outputs),debugInfo:null}}function GE(n){n.features?.forEach(e=>e(n))}function zI(n,e){if(!n)return null;let t=e?UE:SO;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(AO)}function MO(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function pn(n){return{\u0275providers:n}}function RO(...n){return{\u0275providers:zE(!0,n),\u0275fromNgModule:!0}}function zE(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return pm(e,o=>{let a=o;Ig(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&qE(r,s),t}function qE(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];mm(r,s=>{e(s,i)})}}function Ig(n,e,t,i){if(n=Et(n),!n)return!1;let r=null,s=VI(n),o=!s&&qi(n);if(!s&&!o){let c=n.ngModule;if(s=VI(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Ig(u,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{pm(s.imports,h=>{Ig(h,e,t,i)&&(u||=[],u.push(h))})}finally{}u!==void 0&&qE(u,e)}if(!a){let u=Pr(r)||(()=>new r);e({provide:r,useFactory:u,deps:Dt},r),e({provide:OE,useValue:r,multi:!0},r),e({provide:Hs,useValue:()=>H(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=n;mm(c,h=>{e(h,u)})}}else return!1;return r!==n&&n.providers!==void 0}function mm(n,e){for(let t of n)SE(t)&&(t=t.\u0275providers),Array.isArray(t)?mm(t,e):e(t)}var NO=Ae({provide:String,useValue:Ae});function WE(n){return n!==null&&typeof n=="object"&&NO in n}function PO(n){return!!(n&&n.useExisting)}function OO(n){return!!(n&&n.useFactory)}function Gs(n){return typeof n=="function"}function xO(n){return!!n.useClass}var hd=new B(""),Su={},kO={},ig;function _m(){return ig===void 0&&(ig=new Lu),ig}var pt=class{},ka=class extends pt{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dg(e,o=>this.processProvider(o)),this.records.set(PE,Ls(void 0,this)),r.has("environment")&&this.records.set(pt,Ls(void 0,this));let s=this.records.get(hd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(OE,Dt,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=$i(this),i=Rt(void 0),r;try{return e()}finally{$i(t),Rt(i)}}get(e,t=Oa,i=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(UI))return e[UI](this);i=ud(i);let r,s=$i(this),o=Rt(void 0);try{if(!(i&le.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=UO(e)&&ld(e);u&&this.injectableDefInScope(u)?c=Ls(Eg(e),Su):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&le.Self?_m():this.parent;return t=i&le.Optional&&t===Oa?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ku]=a[ku]||[]).unshift(Tt(e)),s)throw a;return lO(a,e,"R3InjectorError",this.source)}else throw a}finally{Rt(o),$i(s)}}resolveInjectorInitializers(){let e=me(null),t=$i(this),i=Rt(void 0),r;try{let s=this.get(Hs,Dt,le.Self);for(let o of s)o()}finally{$i(t),Rt(i),me(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Tt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Et(e);let t=Gs(e)?e:Et(e&&e.provide),i=LO(e);if(!Gs(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Ls(void 0,Su,!0),r.factory=()=>wg(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=me(null);try{return t.value===Su&&(t.value=kO,t.value=t.factory()),typeof t.value=="object"&&t.value&&BO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Et(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Eg(n){let e=ld(n),t=e!==null?e.factory:Pr(n);if(t!==null)return t;if(n instanceof B)throw new G(204,!1);if(n instanceof Function)return FO(n);throw new G(204,!1)}function FO(n){if(n.length>0)throw new G(204,!1);let t=KP(n);return t!==null?()=>t.factory(n):()=>new n}function LO(n){if(WE(n))return Ls(void 0,n.useValue);{let e=KE(n);return Ls(e,Su)}}function KE(n,e,t){let i;if(Gs(n)){let r=Et(n);return Pr(r)||Eg(r)}else if(WE(n))i=()=>Et(n.useValue);else if(OO(n))i=()=>n.useFactory(...wg(n.deps||[]));else if(PO(n))i=()=>H(Et(n.useExisting));else{let r=Et(n&&(n.useClass||n.provide));if(VO(n))i=()=>new r(...wg(n.deps));else return Pr(r)||Eg(r)}return i}function Ls(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function VO(n){return!!n.deps}function BO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function UO(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function Dg(n,e){for(let t of n)Array.isArray(t)?Dg(t,e):t&&SE(t)?Dg(t.\u0275providers,e):e(t)}function tn(n,e){n instanceof ka&&n.assertNotDestroyed();let t,i=$i(n),r=Rt(void 0);try{return e()}finally{$i(i),Rt(r)}}function QE(){return AE()!==void 0||oO()!=null}function jO(n){if(!QE())throw new G(-203,!1)}function $O(n){return typeof n=="function"}var ni=0,oe=1,X=2,Ct=3,hn=4,St=5,Fa=6,Vu=7,Zt=8,zs=9,Cn=10,Ee=11,La=12,qI=13,eo=14,Lt=15,qs=16,Vs=17,Ws=18,fd=19,JE=20,Hi=21,rg=22,Yt=23,Ze=25,YE=1;var Or=7,Bu=8,Uu=9,Ft=10,ju=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ju||{});function Gi(n){return Array.isArray(n)&&typeof n[YE]=="object"}function ii(n){return Array.isArray(n)&&n[YE]===!0}function ym(n){return(n.flags&4)!==0}function pd(n){return n.componentOffset>-1}function gd(n){return(n.flags&1)===1}function Wi(n){return!!n.template}function Tg(n){return(n[X]&512)!==0}var Cg=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function ZE(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function ri(){return XE}function XE(n){return n.type.prototype.ngOnChanges&&(n.setInput=GO),HO}ri.ngInherit=!0;function HO(){let n=tD(this),e=n?.current;if(e){let t=n.previous;if(t===$s)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function GO(n,e,t,i,r){let s=this.declaredInputs[i],o=tD(n)||zO(n,{previous:$s,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Cg(u&&u.currentValue,t,c===$s),ZE(n,e,r,t)}var eD="__ngSimpleChanges__";function tD(n){return n[eD]||null}function zO(n,e){return n[eD]=e}var WI=null;var En=function(n,e,t){WI?.(n,e,t)},qO="svg",WO="math";function Xt(n){for(;Array.isArray(n);)n=n[ni];return n}function md(n,e){return Xt(e[n])}function nn(n,e){return Xt(e[n.index])}function vm(n,e){return n.data[e]}function KO(n,e){return n[e]}function Qi(n,e){let t=e[n];return Gi(t)?t:t[ni]}function wm(n){return(n[X]&128)===128}function QO(n){return ii(n[Ct])}function xr(n,e){return e==null?null:n[e]}function nD(n){n[Vs]=0}function iD(n){n[X]&1024||(n[X]|=1024,wm(n)&&yd(n))}function JO(n,e){for(;n>0;)e=e[eo],n--;return e}function _d(n){return!!(n[X]&9216||n[Yt]?.dirty)}function Sg(n){n[Cn].changeDetectionScheduler?.notify(8),n[X]&64&&(n[X]|=1024),_d(n)&&yd(n)}function yd(n){n[Cn].changeDetectionScheduler?.notify(0);let e=kr(n);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!wm(e)));)e=kr(e)}function rD(n,e){if((n[X]&256)===256)throw new G(911,!1);n[Hi]===null&&(n[Hi]=[]),n[Hi].push(e)}function YO(n,e){if(n[Hi]===null)return;let t=n[Hi].indexOf(e);t!==-1&&n[Hi].splice(t,1)}function kr(n){let e=n[Ct];return ii(e)?e[Ct]:e}var ue={lFrame:gD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sD=!1;function ZO(){return ue.lFrame.elementDepthCount}function XO(){ue.lFrame.elementDepthCount++}function ex(){ue.lFrame.elementDepthCount--}function oD(){return ue.bindingsEnabled}function aD(){return ue.skipHydrationRootTNode!==null}function tx(n){return ue.skipHydrationRootTNode===n}function nx(){ue.skipHydrationRootTNode=null}function ae(){return ue.lFrame.lView}function $e(){return ue.lFrame.tView}function gn(n){return ue.lFrame.contextLView=n,n[Zt]}function mn(n){return ue.lFrame.contextLView=null,n}function mt(){let n=cD();for(;n!==null&&n.type===64;)n=n.parent;return n}function cD(){return ue.lFrame.currentTNode}function Va(){let n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Sn(n,e){let t=ue.lFrame;t.currentTNode=n,t.isParent=e}function bm(){return ue.lFrame.isParent}function Im(){ue.lFrame.isParent=!1}function lD(){return sD}function KI(n){sD=n}function uD(){let n=ue.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function vd(){return ue.lFrame.bindingIndex}function ix(n){return ue.lFrame.bindingIndex=n}function to(){return ue.lFrame.bindingIndex++}function Ga(n){let e=ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function rx(){return ue.lFrame.inI18n}function dD(n){ue.lFrame.inI18n=n}function sx(n,e){let t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ag(e)}function ox(){return ue.lFrame.currentDirectiveIndex}function Ag(n){ue.lFrame.currentDirectiveIndex=n}function ax(n){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function hD(n){ue.lFrame.currentQueryIndex=n}function cx(n){let e=n[oe];return e.type===2?e.declTNode:e.type===1?n[St]:null}function fD(n,e,t){if(t&le.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&le.Host);)if(r=cx(s),r===null||(s=s[eo],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=ue.lFrame=pD();return i.currentTNode=e,i.lView=n,!0}function Em(n){let e=pD(),t=n[oe];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function pD(){let n=ue.lFrame,e=n===null?null:n.child;return e===null?gD(n):e}function gD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function mD(){let n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var _D=mD;function Dm(){let n=mD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function lx(n){return(ue.lFrame.contextLView=JO(n,ue.lFrame.contextLView))[Zt]}function si(){return ue.lFrame.selectedIndex}function Fr(n){ue.lFrame.selectedIndex=n}function wd(){let n=ue.lFrame;return vm(n.tView,n.selectedIndex)}function ux(){return ue.lFrame.currentNamespace}var yD=!0;function za(){return yD}function qa(n){yD=n}function dx(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=XE(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function bd(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Au(n,e,t){vD(n,e,3,t)}function Mu(n,e,t,i){(n[X]&3)===t&&vD(n,e,t,i)}function sg(n,e){let t=n[X];(t&3)===e&&(t&=16383,t+=1,n[X]=t)}function vD(n,e,t,i){let r=i!==void 0?n[Vs]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[Vs]+=65536),(a<s||s==-1)&&(hx(n,t,e,c),n[Vs]=(n[Vs]&4294901760)+c+2),c++}function QI(n,e){En(4,n,e);let t=me(null);try{e.call(n)}finally{me(t),En(5,n,e)}}function hx(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[X]>>14<n[Vs]>>16&&(n[X]&3)===e&&(n[X]+=16384,QI(a,s)):QI(a,s)}var js=-1,Lr=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function fx(n){return n instanceof Lr}function px(n){return(n.flags&8)!==0}function gx(n){return(n.flags&16)!==0}var og={},Mg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ud(i);let r=this.injector.get(e,og,i);return r!==og||t===og?r:this.parentInjector.get(e,t,i)}};function wD(n){return n!==js}function $u(n){return n&32767}function mx(n){return n>>16}function Hu(n,e){let t=mx(n),i=e;for(;t>0;)i=i[eo],t--;return i}var Rg=!0;function Gu(n){let e=Rg;return Rg=n,e}var _x=256,bD=_x-1,ID=5,yx=0,Dn={};function vx(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ma)&&(i=t[Ma]),i==null&&(i=t[Ma]=yx++);let r=i&bD,s=1<<r;e.data[n+(r>>ID)]|=s}function zu(n,e){let t=ED(n,e);if(t!==-1)return t;let i=e[oe];i.firstCreatePass&&(n.injectorIndex=e.length,ag(i.data,n),ag(e,null),ag(i.blueprint,null));let r=Tm(n,e),s=n.injectorIndex;if(wD(r)){let o=$u(r),a=Hu(r,e),c=a[oe].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function ag(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ED(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Tm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=AD(r),i===null)return js;if(t++,r=r[eo],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return js}function Ng(n,e,t){vx(n,e,t)}function wx(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(kE(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function DD(n,e,t){if(t&le.Optional||n!==void 0)return n;hm(e,"NodeInjector")}function TD(n,e,t,i){if(t&le.Optional&&i===void 0&&(i=null),!(t&(le.Self|le.Host))){let r=n[zs],s=Rt(void 0);try{return r?r.get(e,i,t&le.Optional):ME(e,i,t&le.Optional)}finally{Rt(s)}}return DD(i,e,t)}function CD(n,e,t,i=le.Default,r){if(n!==null){if(e[X]&2048&&!(i&le.Self)){let o=Tx(n,e,t,i,Dn);if(o!==Dn)return o}let s=SD(n,e,t,i,Dn);if(s!==Dn)return s}return TD(e,t,i,r)}function SD(n,e,t,i,r){let s=Ex(t);if(typeof s=="function"){if(!fD(e,n,i))return i&le.Host?DD(r,t,i):TD(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&le.Optional))hm(t);else return o}finally{_D()}}else if(typeof s=="number"){let o=null,a=ED(n,e),c=js,u=i&le.Host?e[Lt][St]:null;for((a===-1||i&le.SkipSelf)&&(c=a===-1?Tm(n,e):e[a+8],c===js||!YI(i,!1)?a=-1:(o=e[oe],a=$u(c),e=Hu(c,e)));a!==-1;){let h=e[oe];if(JI(s,a,h.data)){let p=bx(a,e,t,o,i,u);if(p!==Dn)return p}c=e[a+8],c!==js&&YI(i,e[oe].data[a+8]===u)&&JI(s,a,e)?(o=h,a=$u(c),e=Hu(c,e)):a=-1}}return r}function bx(n,e,t,i,r,s){let o=e[oe],a=o.data[n+8],c=i==null?pd(a)&&Rg:i!=o&&(a.type&3)!==0,u=r&le.Host&&s===a,h=Ix(a,o,t,c,u);return h!==null?Ks(e,o,h,a):Dn}function Ix(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,u=n.directiveEnd,h=s>>20,p=i?a:a+h,m=r?a+h:u;for(let _=p;_<m;_++){let I=o[_];if(_<c&&t===I||_>=c&&I.type===t)return _}if(r){let _=o[c];if(_&&Wi(_)&&_.type===t)return c}return null}function Ks(n,e,t,i){let r=n[t],s=e.data;if(fx(r)){let o=r;o.resolving&&tO(eO(s[t]));let a=Gu(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Rt(o.injectImpl):null,h=fD(n,i,le.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&dx(t,s[t],e)}finally{u!==null&&Rt(u),Gu(a),o.resolving=!1,_D()}}return r}function Ex(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ma)?n[Ma]:void 0;return typeof e=="number"?e>=0?e&bD:Dx:e}function JI(n,e,t){let i=1<<n;return!!(t[e+(n>>ID)]&i)}function YI(n,e){return!(n&le.Self)&&!(n&le.Host&&e)}var Nr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return CD(this._tNode,this._lView,e,ud(i),t)}};function Dx(){return new Nr(mt(),ae())}function Mn(n){return $a(()=>{let e=n.prototype.constructor,t=e[xu]||Pg(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[xu]||Pg(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Pg(n){return EE(n)?()=>{let e=Pg(Et(n));return e&&e()}:Pr(n)}function Tx(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[X]&2048&&!(o[X]&512);){let a=SD(s,o,t,i|le.Self,Dn);if(a!==Dn)return a;let c=s.parent;if(!c){let u=o[JE];if(u){let h=u.get(t,Dn,i);if(h!==Dn)return h}c=AD(o),o=o[eo]}s=c}return r}function AD(n){let e=n[oe],t=e.type;return t===2?e.declTNode:t===1?n[St]:null}function Id(n){return wx(mt(),n)}function ZI(n,e=null,t=null,i){let r=MD(n,e,t,i);return r.resolveInjectorInitializers(),r}function MD(n,e=null,t=null,i,r=new Set){let s=[t||Dt,RO(n)];return i=i||(typeof n=="object"?void 0:Tt(n)),new ka(s,e||_m(),i||null,r)}var Xe=class n{static{this.THROW_IF_NOT_FOUND=Oa}static{this.NULL=new Lu}static create(e,t){if(Array.isArray(e))return ZI({name:""},t,e,"");{let i=e.name??"";return ZI({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=U({token:n,providedIn:"any",factory:()=>H(PE)})}static{this.__NG_ELEMENT_ID__=-1}};var Cx=new B("");Cx.__NG_ELEMENT_ID__=n=>{let e=mt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(n&le.Optional)return null;throw new G(204,!1)};var Sx="ngOriginalError";function cg(n){return n[Sx]}var RD=!0,Ed=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ax}static{this.__NG_ENV_ID__=t=>t}}return n})(),Og=class extends Ed{constructor(e){super(),this._lView=e}onDestroy(e){return rD(this._lView,e),()=>YO(this._lView,e)}};function Ax(){return new Og(ae())}var oi=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})();var xg=class extends Ue{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,QE()&&(this.destroyRef=O(Ed,{optional:!0})??void 0,this.pendingTasks=O(oi,{optional:!0})??void 0)}emit(e){let t=me(null);try{super.next(e)}finally{me(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},Ve=xg;function qu(...n){}function ND(n){let e,t;function i(){n=qu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function XI(n){return queueMicrotask(()=>n()),()=>{n=qu}}var Cm="isAngularZone",Wu=Cm+"_ID",Mx=0,we=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=RD}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,Px(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new G(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Rx,qu,qu);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},Rx={};function Sm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Nx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ND(()=>{n.callbackScheduled=!1,kg(n),n.isCheckStableRunning=!0,Sm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),kg(n)}function Px(n){let e=()=>{Nx(n)},t=Mx++;n._inner=n._inner.fork({name:"angular",properties:{[Cm]:!0,[Wu]:t,[Wu+t]:!0},onInvokeTask:(i,r,s,o,a,c)=>{if(Ox(c))return i.invokeTask(s,o,a,c);try{return eE(n),i.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),tE(n)}},onInvoke:(i,r,s,o,a,c,u)=>{try{return eE(n),i.invoke(s,o,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!xx(c)&&e(),tE(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,kg(n),Sm(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function kg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function eE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tE(n){n._nesting--,Sm(n)}var Fg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function Ox(n){return PD(n,"__ignore_ng_zone__")}function xx(n){return PD(n,"__scheduler_tick__")}function PD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Xn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cg(e);for(;t&&cg(t);)t=cg(t);return t||null}},kx=new B("",{providedIn:"root",factory:()=>{let n=O(we),e=O(Xn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Fx(){return Dd(mt(),ae())}function Dd(n,e){return new rn(nn(n,e))}var rn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Fx}}return n})();function OD(n){return(n.flags&128)===128}var xD=new Map,Lx=0;function Vx(){return Lx++}function Bx(n){xD.set(n[fd],n)}function Lg(n){xD.delete(n[fd])}var nE="__ngContext__";function An(n,e){Gi(e)?(n[nE]=e[fd],Bx(e)):n[nE]=e}function kD(n){return LD(n[La])}function FD(n){return LD(n[hn])}function LD(n){for(;n!==null&&!ii(n);)n=n[hn];return n}var Vg;function VD(n){Vg=n}function BD(){if(Vg!==void 0)return Vg;if(typeof document<"u")return document;throw new G(210,!1)}var Am=new B("",{providedIn:"root",factory:()=>Ux}),Ux="ng",Mm=new B(""),Ut=new B("",{providedIn:"platform",factory:()=>"unknown"});var Rm=new B("",{providedIn:"root",factory:()=>BD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jx="h",$x="b";var Hx=()=>null;function Nm(n,e,t=!1){return Hx(n,e,t)}var UD=!1,Gx=new B("",{providedIn:"root",factory:()=>UD});var Iu;function zx(){if(Iu===void 0&&(Iu=null,Zn.trustedTypes))try{Iu=Zn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Iu}function Pm(n){return zx()?.createHTML(n)||n}var Eu;function qx(){if(Eu===void 0&&(Eu=null,Zn.trustedTypes))try{Eu=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Eu}function iE(n){return qx()?.createScriptURL(n)||n}var Ku=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bE})`}};function no(n){return n instanceof Ku?n.changingThisBreaksApplicationSecurity:n}function Om(n,e){let t=Wx(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${bE})`)}return t===e}function Wx(n){return n instanceof Ku&&n.getTypeName()||null}function Kx(n){let e=new Ug(n);return Qx()?new Bg(e):e}var Bg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Pm(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Ug=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Pm(e),t}};function Qx(){try{return!!new window.DOMParser().parseFromString(Pm(""),"text/html")}catch{return!1}}var Jx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xm(n){return n=String(n),n.match(Jx)?n:"unsafe:"+n}function Ji(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Wa(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var Yx=Ji("area,br,col,hr,img,wbr"),jD=Ji("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$D=Ji("rp,rt"),Zx=Wa($D,jD),Xx=Wa(jD,Ji("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ek=Wa($D,Ji("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tk=Wa(Yx,Xx,ek,Zx),HD=Ji("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nk=Ji("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ik=Ji("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),rk=Wa(HD,nk,ik);function sk(n){return"content"in n&&ok(n)?n.content:null}function ok(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Td=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Td||{});function km(n){let e=zD();return e?e.sanitize(Td.URL,n)||"":Om(n,"URL")?no(n):xm(Nt(n))}function ak(n){let e=zD();if(e)return iE(e.sanitize(Td.RESOURCE_URL,n)||"");if(Om(n,"ResourceURL"))return iE(no(n));throw new G(904,!1)}function ck(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?ak:km}function GD(n,e,t){return ck(e,t)(n)}function zD(){let n=ae();return n&&n[Cn].sanitizer}var lk=/^>|^->|<!--|-->|--!>|<!-$/g,uk=/(<|>)/g,dk="\u200B$1\u200B";function hk(n){return n.replace(lk,e=>e.replace(uk,dk))}function qD(n){return n instanceof Function?n():n}function fk(n){return(n??O(Xe)).get(Ut)==="browser"}var ei=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ei||{}),jg;function Fm(n,e){return jg(n,e)}function pk(n){jg===void 0&&(jg=n())}function Bs(n,e,t,i,r){if(i!=null){let s,o=!1;ii(i)?s=i:Gi(i)&&(o=!0,i=i[ni]);let a=Xt(i);n===0&&t!==null?r==null?eT(e,t,a):Vr(e,t,a,r||null,!0):n===1&&t!==null?Vr(e,t,a,r||null,!0):n===2?oT(e,a,o):n===3&&e.destroyNode(a),s!=null&&Ek(e,n,s,t,r)}}function WD(n,e){return n.createText(e)}function KD(n,e,t){n.setValue(e,t)}function QD(n,e){return n.createComment(hk(e))}function Lm(n,e,t){return n.createElement(e,t)}function gk(n,e){JD(n,e),e[ni]=null,e[St]=null}function mk(n,e,t,i,r,s){i[ni]=r,i[St]=e,Sd(n,i,t,1,r,s)}function JD(n,e){e[Cn].changeDetectionScheduler?.notify(9),Sd(n,e,e[Ee],2,null,null)}function _k(n){let e=n[La];if(!e)return lg(n[oe],n);for(;e;){let t=null;if(Gi(e))t=e[La];else{let i=e[Ft];i&&(t=i)}if(!t){for(;e&&!e[hn]&&e!==n;)Gi(e)&&lg(e[oe],e),e=e[Ct];e===null&&(e=n),Gi(e)&&lg(e[oe],e),t=e&&e[hn]}e=t}}function yk(n,e,t,i){let r=Ft+i,s=t.length;i>0&&(t[r-1][hn]=e),i<s-Ft?(e[hn]=t[r],NE(t,Ft+i,e)):(t.push(e),e[hn]=null),e[Ct]=t;let o=e[qs];o!==null&&t!==o&&YD(o,e);let a=e[Ws];a!==null&&a.insertView(n),Sg(e),e[X]|=128}function YD(n,e){let t=n[Uu],i=e[Ct];if(Gi(i))n[X]|=ju.HasTransplantedViews;else{let r=i[Ct][Lt];e[Lt]!==r&&(n[X]|=ju.HasTransplantedViews)}t===null?n[Uu]=[e]:t.push(e)}function Vm(n,e){let t=n[Uu],i=t.indexOf(e);t.splice(i,1)}function Qu(n,e){if(n.length<=Ft)return;let t=Ft+e,i=n[t];if(i){let r=i[qs];r!==null&&r!==n&&Vm(r,i),e>0&&(n[t-1][hn]=i[hn]);let s=Fu(n,Ft+e);gk(i[oe],i);let o=s[Ws];o!==null&&o.detachView(s[oe]),i[Ct]=null,i[hn]=null,i[X]&=-129}return i}function Bm(n,e){if(!(e[X]&256)){let t=e[Ee];t.destroyNode&&Sd(n,e,t,3,null,null),_k(e)}}function lg(n,e){if(e[X]&256)return;let t=me(null);try{e[X]&=-129,e[X]|=256,e[Yt]&&kp(e[Yt]),wk(n,e),vk(n,e),e[oe].type===1&&e[Ee].destroy();let i=e[qs];if(i!==null&&ii(e[Ct])){i!==e[Ct]&&Vm(i,e);let r=e[Ws];r!==null&&r.detachView(n)}Lg(e)}finally{me(t)}}function vk(n,e){let t=n.cleanup,i=e[Vu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Vu]=null);let r=e[Hi];if(r!==null){e[Hi]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function wk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Lr)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];En(4,a,c);try{c.call(a)}finally{En(5,a,c)}}else{En(4,r,s);try{s.call(r)}finally{En(5,r,s)}}}}}function ZD(n,e,t){return XD(n,e.parent,t)}function XD(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ni];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Tn.None||s===Tn.Emulated)return null}return nn(i,t)}}function Vr(n,e,t,i,r){n.insertBefore(e,t,i,r)}function eT(n,e,t){n.appendChild(e,t)}function rE(n,e,t,i,r){i!==null?Vr(n,e,t,i,r):eT(n,e,t)}function Um(n,e){return n.parentNode(e)}function bk(n,e){return n.nextSibling(e)}function tT(n,e,t){return iT(n,e,t)}function nT(n,e,t){return n.type&40?nn(n,t):null}var iT=nT,$g;function rT(n,e){iT=n,$g=e}function Cd(n,e,t,i){let r=ZD(n,i,e),s=e[Ee],o=i.parent||e[St],a=tT(o,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)rE(s,r,t[c],a,!1);else rE(s,r,t,a,!1);$g!==void 0&&$g(s,i,e,t,r)}function Aa(n,e){if(e!==null){let t=e.type;if(t&3)return nn(e,n);if(t&4)return Hg(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Aa(n,i);{let r=n[e.index];return ii(r)?Hg(-1,r):Xt(r)}}else{if(t&128)return Aa(n,e.next);if(t&32)return Fm(e,n)()||Xt(n[e.index]);{let i=sT(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=kr(n[Lt]);return Aa(r,i)}else return Aa(n,e.next)}}}return null}function sT(n,e){if(e!==null){let i=n[Lt][St],r=e.projection;return i.projection[r]}return null}function Hg(n,e){let t=Ft+n+1;if(t<e.length){let i=e[t],r=i[oe].firstChild;if(r!==null)return Aa(i,r)}return e[Or]}function oT(n,e,t){n.removeChild(null,e,t)}function jm(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(o&&e===0&&(a&&An(Xt(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)jm(n,e,t.child,i,r,s,!1),Bs(e,n,r,a,s);else if(c&32){let u=Fm(t,i),h;for(;h=u();)Bs(e,n,r,h,s);Bs(e,n,r,a,s)}else c&16?aT(n,e,i,t,r,s):Bs(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Sd(n,e,t,i,r,s){jm(t,i,n.firstChild,e,r,s,!1)}function Ik(n,e,t){let i=e[Ee],r=ZD(n,t,e),s=t.parent||e[St],o=tT(s,t,e);aT(i,0,e,t,r,o)}function aT(n,e,t,i,r,s){let o=t[Lt],c=o[St].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];Bs(e,n,r,h,s)}else{let u=c,h=o[Ct];OD(i)&&(u.flags|=128),jm(n,e,u,h,r,s,!0)}}function Ek(n,e,t,i,r){let s=t[Or],o=Xt(t);s!==o&&Bs(e,n,i,s,r);for(let a=Ft;a<t.length;a++){let c=t[a];Sd(c[oe],c,n,e,i,s)}}function Dk(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:ei.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ei.Important),n.setStyle(t,i,r,s))}}function Tk(n,e,t){n.setAttribute(e,"style",t)}function cT(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function lT(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&bg(n,e,i),r!==null&&cT(n,e,r),s!==null&&Tk(n,e,s)}var ot={};function ie(n=1){uT($e(),ae(),si()+n,!1)}function uT(n,e,t,i){if(!i)if((e[X]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Au(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Mu(e,s,0,t)}Fr(t)}function Z(n,e=le.Default){let t=ae();if(t===null)return H(n,e);let i=mt();return CD(i,t,Et(n),e)}function dT(){let n="invalid";throw new Error(n)}function hT(n,e,t,i,r,s){let o=me(null);try{let a=null;r&zi.SignalBased&&(a=e[i][Wn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&zi.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):ZE(e,a,i,s)}finally{me(o)}}function Ck(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Fr(~r);else{let s=r,o=t[++i],a=t[++i];sx(o,s);let c=e[s];a(2,c)}}}finally{Fr(-1)}}function Ad(n,e,t,i,r,s,o,a,c,u,h){let p=e.blueprint.slice();return p[ni]=r,p[X]=i|4|128|8|64,(u!==null||n&&n[X]&2048)&&(p[X]|=2048),nD(p),p[Ct]=p[eo]=n,p[Zt]=t,p[Cn]=o||n&&n[Cn],p[Ee]=a||n&&n[Ee],p[zs]=c||n&&n[zs]||null,p[St]=s,p[fd]=Vx(),p[Fa]=h,p[JE]=u,p[Lt]=e.type==2?n[Lt]:p,p}function io(n,e,t,i,r){let s=n.data[e];if(s===null)s=$m(n,e,t,i,r),rx()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=Va();s.injectorIndex=o===null?-1:o.injectorIndex}return Sn(s,!0),s}function $m(n,e,t,i,r){let s=cD(),o=bm(),a=o?s:s&&s.parent,c=n.data[e]=Nk(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Ka(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function fT(n,e,t,i,r){let s=si(),o=i&2;try{Fr(-1),o&&e.length>Ze&&uT(n,e,Ze,!1),En(o?2:0,r),t(i,r)}finally{Fr(s),En(o?3:1,r)}}function Hm(n,e,t){if(ym(e)){let i=me(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{me(i)}}}function Gm(n,e,t){oD()&&(Lk(n,e,t,nn(t,e)),(t.flags&64)===64&&mT(n,e,t))}function zm(n,e,t=nn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function pT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=qm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function qm(n,e,t,i,r,s,o,a,c,u,h){let p=Ze+i,m=p+r,_=Sk(p,m),I=typeof u=="function"?u():u;return _[oe]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:h}}function Sk(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:ot);return t}function Ak(n,e,t,i){let s=i.get(Gx,UD)||t===Tn.ShadowDom,o=n.selectRootElement(e,s);return Mk(o),o}function Mk(n){Rk(n)}var Rk=()=>null;function Nk(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return aD()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sE(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=zi.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}n===0?oE(i,t,u,a,c):oE(i,t,u,a)}return i}function oE(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function Pk(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],c=null,u=null;for(let h=i;h<r;h++){let p=s[h],m=t?t.get(p):null,_=m?m.inputs:null,I=m?m.outputs:null;c=sE(0,p.inputs,h,c,_),u=sE(1,p.outputs,h,u,I);let A=c!==null&&o!==null&&!gm(e)?Wk(c,h,o):null;a.push(A)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function Ok(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Md(n,e,t,i,r,s,o,a){let c=nn(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[i])?(Qm(n,t,h,i,r),pd(e)&&xk(t,e.index)):e.type&3?(i=Ok(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function xk(n,e){let t=Qi(e,n);t[X]&16||(t[X]|=64)}function Wm(n,e,t,i){if(oD()){let r=i===null?null:{"":-1},s=Bk(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&gT(n,e,t,o,r,a),r&&Uk(t,i,r)}t.mergedAttrs=xa(t.mergedAttrs,t.attrs)}function gT(n,e,t,i,r,s){for(let u=0;u<i.length;u++)Ng(zu(t,e),n,i[u].type);$k(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let h=i[u];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,c=Ka(n,e,i.length,null);for(let u=0;u<i.length;u++){let h=i[u];t.mergedAttrs=xa(t.mergedAttrs,h.hostAttrs),Hk(n,t,e,c,h),jk(c,h,r),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}Pk(n,t,s)}function kk(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;Fk(o)!=a&&o.push(a),o.push(t,i,s)}}function Fk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Lk(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;pd(t)&&Gk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||zu(t,e),An(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let c=n.data[a],u=Ks(e,n,a,t);if(An(u,e),o!==null&&qk(e,a-r,u,c,t,o),Wi(c)){let h=Qi(t.index,e);h[Zt]=Ks(e,n,a,t)}}}function mT(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=ox();try{Fr(s);for(let a=i;a<r;a++){let c=n.data[a],u=e[a];Ag(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Vk(c,u)}}finally{Fr(-1),Ag(o)}}function Vk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Bk(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(LE(e,o.selectors,!1))if(i||(i=[]),Wi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;Gg(n,e,c)}else i.unshift(o),Gg(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Gg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Uk(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new G(-301,!1);i.push(e[r],s)}}}function jk(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Wi(e)&&(t[""]=n)}}function $k(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Hk(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=Pr(r.type,!0)),o=new Lr(s,Wi(r),Z);n.blueprint[i]=o,t[i]=o,kk(n,e,i,Ka(n,t,r.hostVars,ot),r)}function Gk(n,e,t){let i=nn(e,n),r=pT(t),s=n[Cn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=Rd(n,Ad(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function zk(n,e,t,i,r,s){let o=nn(n,e);Km(e[Ee],o,s,n.value,t,i,r)}function Km(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?Nt(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function qk(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],h=o[a++],p=o[a++];hT(i,t,c,u,h,p)}}function Wk(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function _T(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function yT(n,e){let t=n.contentQueries;if(t!==null){let i=me(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];hD(s),a.contentQueries(2,e[o],o)}}}finally{me(i)}}}function Rd(n,e){return n[La]?n[qI][hn]=e:n[La]=e,n[qI]=e,e}function zg(n,e,t){hD(0);let i=me(null);try{e(n,t)}finally{me(i)}}function Kk(n){return n[Vu]??=[]}function Qk(n){return n.cleanup??=[]}function vT(n,e){let t=n[zs],i=t?t.get(Xn,null):null;i&&i.handleError(e)}function Qm(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],c=t[s++],u=e[o],h=n.data[o];hT(h,u,i,a,c,r)}}function Jm(n,e,t){let i=md(e,n);KD(n[Ee],i,t)}function Jk(n,e){let t=Qi(e,n),i=t[oe];Yk(i,t);let r=t[ni];r!==null&&t[Fa]===null&&(t[Fa]=Nm(r,t[zs])),Ym(i,t,t[Zt])}function Yk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ym(n,e,t){Em(e);try{let i=n.viewQuery;i!==null&&zg(1,i,t);let r=n.template;r!==null&&fT(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ws]?.finishViewCreation(n),n.staticContentQueries&&yT(n,e),n.staticViewQueries&&zg(2,n.viewQuery,t);let s=n.components;s!==null&&Zk(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[X]&=-5,Dm()}}function Zk(n,e){for(let t=0;t<e.length;t++)Jk(n,e[t])}function Zm(n,e,t,i){let r=me(null);try{let s=e.tView,a=n[X]&4096?4096:16,c=Ad(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];c[qs]=u;let h=n[Ws];return h!==null&&(c[Ws]=h.createEmbeddedView(s)),Ym(s,c,t),c}finally{me(r)}}function Xk(n,e){let t=Ft+e;if(t<n.length)return n[t]}function Ju(n,e){return!e||e.firstChild===null||OD(n)}function Xm(n,e,t,i=!0){let r=e[oe];if(yk(r,e,n,t),i){let o=Hg(t,n),a=e[Ee],c=Um(a,n[Or]);c!==null&&mk(r,n[St],a,e,c,o)}let s=e[Fa];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function eF(n,e){let t=Qu(n,e);return t!==void 0&&Bm(t[oe],t),t}function Yu(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(Xt(s)),ii(s)&&tF(s,i);let o=t.type;if(o&8)Yu(n,e,t.child,i);else if(o&32){let a=Fm(t,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=sT(e,t);if(Array.isArray(a))i.push(...a);else{let c=kr(e[Lt]);Yu(c[oe],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function tF(n,e){for(let t=Ft;t<n.length;t++){let i=n[t],r=i[oe].firstChild;r!==null&&Yu(i[oe],i,r,e)}n[Or]!==n[ni]&&e.push(n[Or])}var wT=[];function nF(n){return n[Yt]??iF(n)}function iF(n){let e=wT.pop()??Object.create(sF);return e.lView=n,e}function rF(n){n.lView[Yt]!==n&&(n.lView=null,wT.push(n))}var sF=ce(k({},Ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{yd(n.lView)},consumerOnSignalRead(){this.lView[Yt]=this}});function oF(n){let e=n[Yt]??Object.create(aF);return e.lView=n,e}var aF=ce(k({},Ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=kr(n.lView);for(;e&&!bT(e[oe]);)e=kr(e);e&&iD(e)},consumerOnSignalRead(){this.lView[Yt]=this}});function bT(n){return n.type!==2}var cF=100;function IT(n,e=!0,t=0){let i=n[Cn],r=i.rendererFactory,s=!1;s||r.begin?.();try{lF(n,t)}catch(o){throw e&&vT(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function lF(n,e){let t=lD();try{KI(!0),qg(n,e);let i=0;for(;_d(n);){if(i===cF)throw new G(103,!1);i++,qg(n,1)}}finally{KI(t)}}function uF(n,e,t,i){let r=e[X];if((r&256)===256)return;let s=!1,o=!1;!s&&e[Cn].inlineEffectRunner?.flush(),Em(e);let a=!0,c=null,u=null;s||(bT(n)?(u=nF(e),c=Wl(u)):Yb()===null?(a=!1,u=oF(e),c=Wl(u)):e[Yt]&&(kp(e[Yt]),e[Yt]=null));try{nD(e),ix(n.bindingStartIndex),t!==null&&fT(n,e,t,2,i);let h=(r&3)===3;if(!s)if(h){let _=n.preOrderCheckHooks;_!==null&&Au(e,_,null)}else{let _=n.preOrderHooks;_!==null&&Mu(e,_,0,null),sg(e,0)}if(o||dF(e),ET(e,0),n.contentQueries!==null&&yT(n,e),!s)if(h){let _=n.contentCheckHooks;_!==null&&Au(e,_)}else{let _=n.contentHooks;_!==null&&Mu(e,_,1),sg(e,1)}Ck(n,e);let p=n.components;p!==null&&TT(e,p,0);let m=n.viewQuery;if(m!==null&&zg(2,m,i),!s)if(h){let _=n.viewCheckHooks;_!==null&&Au(e,_)}else{let _=n.viewHooks;_!==null&&Mu(e,_,2),sg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[rg]){for(let _ of e[rg])_();e[rg]=null}s||(e[X]&=-73)}catch(h){throw s||yd(e),h}finally{u!==null&&(Op(u,c),a&&rF(u)),Dm()}}function ET(n,e){for(let t=kD(n);t!==null;t=FD(t))for(let i=Ft;i<t.length;i++){let r=t[i];DT(r,e)}}function dF(n){for(let e=kD(n);e!==null;e=FD(e)){if(!(e[X]&ju.HasTransplantedViews))continue;let t=e[Uu];for(let i=0;i<t.length;i++){let r=t[i];iD(r)}}}function hF(n,e,t){let i=Qi(e,n);DT(i,t)}function DT(n,e){wm(n)&&qg(n,e)}function qg(n,e){let i=n[oe],r=n[X],s=n[Yt],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&xp(s)),o||=!1,s&&(s.dirty=!1),n[X]&=-9217,o)uF(i,n,i.template,n[Zt]);else if(r&8192){ET(n,1);let a=i.components;a!==null&&TT(n,a,1)}}function TT(n,e,t){for(let i=0;i<e.length;i++)hF(n,e[i],t)}function e_(n,e){let t=lD()?64:1088;for(n[Cn].changeDetectionScheduler?.notify(e);n;){n[X]|=t;let i=kr(n);if(Tg(n)&&!i)return n;n=i}return null}var Br=class{get rootNodes(){let e=this._lView,t=e[oe];return Yu(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zt]}set context(e){this._lView[Zt]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ct];if(ii(e)){let t=e[Bu],i=t?t.indexOf(this):-1;i>-1&&(Qu(e,i),Fu(t,i))}this._attachedToViewContainer=!1}Bm(this._lView[oe],this._lView)}onDestroy(e){rD(this._lView,e)}markForCheck(){e_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){Sg(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,IT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Tg(this._lView),t=this._lView[qs];t!==null&&!e&&Vm(t,this._lView),JD(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let t=Tg(this._lView),i=this._lView[qs];i!==null&&!t&&YD(i,this._lView),Sg(this._lView)}},Qa=(()=>{class n{static{this.__NG_ELEMENT_ID__=gF}}return n})(),fF=Qa,pF=class extends fF{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=Zm(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Br(r)}};function gF(){return mF(mt(),ae())}function mF(n,e){return n.type&4?new pF(e,n,Dd(n,e)):null}function CT(n,e,t){let i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return r===null?nT(n,e,t):Xt(t[r])}function ST(n,e,t,i,r){let s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(e.type&3||(a=o,o=r),o!==null&&e.componentOffset===-1)for(let c=1;c<s.length;c++){let u=t[s[c]];Vr(n,o,u,a,!1)}}}function AT(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){let i=n[t];MT(i)||_F(i,e)&&yF(i)===null&&vF(i,e.index)}}function MT(n){return!(n.type&64)}function _F(n,e){return MT(e)||n.index>e.index}function yF(n){let e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function vF(n,e){let t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(rT(CT,ST),n.insertBeforeIndex=e)}function Ra(n,e){let t=n.data[e];return t===null||typeof t=="string"?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function wF(n,e,t){let i=n.data[e];i===null?n.data[e]=t:i.value=t}function bF(n,e){let t=n.insertBeforeIndex;t===null?(rT(CT,ST),t=n.insertBeforeIndex=[null,e]):(qP(Array.isArray(t),!0,"Expecting array here"),t.push(e))}function IF(n,e,t){let i=$m(n,t,64,null,null);return AT(e,i),i}function Nd(n,e){let t=e[n.currentCaseLViewIndex];return t===null?t:t<0?~t:t}function EF(n){return n>>>17}function DF(n){return(n&131070)>>>1}function TF(n,e,t){return n|e<<17|t<<1}function CF(n){return n===-1}function RT(n,e,t){n.index=0;let i=Nd(e,t);i!==null?n.removes=e.remove[i]:n.removes=Dt}function Wg(n){if(n.index<n.removes.length){let e=n.removes[n.index++];if(e>0)return n.lView[e];{n.stack.push(n.index,n.removes);let t=~e,i=n.lView[oe].data[t];return RT(n,i,n.lView),Wg(n)}}else return n.stack.length===0?null:(n.removes=n.stack.pop(),n.index=n.stack.pop(),Wg(n))}function SF(){let n={stack:[],index:-1};function e(t,i){for(n.lView=i;n.stack.length;)n.stack.pop();return RT(n,t.value,i),Wg.bind(null,n)}return e}var m7=new RegExp(`^(\\d+)*(${$x}|${jx})*(.*)`);var AF=()=>{};function MF(n,e,t,i){AF(n,e,t,i)}var RF=()=>{};function NF(n,e,t){RF(n,e,t)}var PF=()=>null;function Zu(n,e){return PF(n,e)}var Qs=class{},t_=new B("",{providedIn:"root",factory:()=>!1});var NT=new B(""),PT=new B(""),Kg=class{},Xu=class{};function OF(n){let e=Error(`No component factory found for ${Tt(n)}.`);return e[xF]=n,e}var xF="ngComponent";var Qg=class{resolveComponentFactory(e){throw OF(e)}},Js=class{static{this.NULL=new Qg}},Ys=class{},ai=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>kF()}}return n})();function kF(){let n=ae(),e=mt(),t=Qi(e.index,n);return(Gi(t)?t:n)[Ee]}var FF=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>null})}}return n})();function ed(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=_g(r,a);else if(s==2){let c=a,u=e[++o];i=_g(i,c+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var td=class extends Js{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=qi(e);return new Zs(t,this.ngModule)}};function aE(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:zi.None;e?t.push({propName:o,templateName:i,isSignal:(a&zi.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function LF(n){let e=n.toLowerCase();return e==="svg"?qO:e==="math"?WO:null}var Zs=class extends Xu{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=aE(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return aE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=TO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=me(null);try{r=r||this.ngModule;let o=r instanceof pt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Mg(e,o):e,c=a.get(Ys,null);if(c===null)throw new G(407,!1);let u=a.get(FF,null),h=a.get(Qs,null),p={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},m=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",I=i?Ak(m,i,this.componentDef.encapsulation,a):Lm(m,_,LF(_)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let M=null;I!==null&&(M=Nm(I,a,!0));let P=qm(0,null,null,1,0,null,null,null,null,null,null),V=Ad(null,P,null,A,null,null,p,m,a,null,M);Em(V);let L,W,de=null;try{let q=this.componentDef,E,y=null;q.findHostDirectiveDefs?(E=[],y=new Map,q.findHostDirectiveDefs(q,E,y),E.push(q)):E=[q];let v=VF(V,I);de=BF(v,I,q,E,V,p,m),W=vm(P,Ze),I&&$F(m,q,I,i),t!==void 0&&HF(W,this.ngContentSelectors,t),L=jF(de,q,E,y,V,[GF]),Ym(P,V,null)}catch(q){throw de!==null&&Lg(de),Lg(V),q}finally{Dm()}return new Jg(this.componentType,L,Dd(W,V),V,W)}finally{me(s)}}},Jg=class extends Kg{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Br(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Qm(s[oe],s,r,e,t),this.previousInputValues.set(e,t);let o=Qi(this._tNode.index,s);e_(o,1)}}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function VF(n,e){let t=n[oe],i=Ze;return n[i]=e,io(t,i,2,"#host",null)}function BF(n,e,t,i,r,s,o){let a=r[oe];UF(i,n,e,o);let c=null;e!==null&&(c=Nm(e,r[zs]));let u=s.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Ad(r,pT(t),null,h,r[n.index],n,s,u,null,null,c);return a.firstCreatePass&&Gg(a,n,i.length-1),Rd(r,p),r[n.index]=p}function UF(n,e,t,i){for(let r of n)e.mergedAttrs=xa(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(ed(e,e.mergedAttrs,!0),t!==null&&lT(i,t,e))}function jF(n,e,t,i,r,s){let o=mt(),a=r[oe],c=nn(o,r);gT(a,r,o,t,null,i);for(let h=0;h<t.length;h++){let p=o.directiveStart+h,m=Ks(r,a,p,o);An(m,r)}mT(a,r,o),c&&An(c,r);let u=Ks(r,a,o.directiveStart+o.componentOffset,o);if(n[Zt]=r[Zt]=u,s!==null)for(let h of s)h(u,e);return Hm(a,o,r),u}function $F(n,e,t,i){if(i)bg(n,t,["ng-version","18.2.6"]);else{let{attrs:r,classes:s}=CO(e.selectors[0]);r&&bg(n,t,r),s&&s.length>0&&cT(n,t,s.join(" "))}}function HF(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function GF(){let n=mt();bd(ae()[oe],n)}var jr=(()=>{class n{static{this.__NG_ELEMENT_ID__=zF}}return n})();function zF(){let n=mt();return WF(n,ae())}var qF=jr,OT=class extends qF{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Dd(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Tm(this._hostTNode,this._hostLView);if(wD(e)){let t=Hu(e,this._hostLView),i=$u(e),r=t[oe].data[i+8];return new Nr(r,t)}else return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=cE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Zu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,Ju(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!$O(e),a;if(o)a=t;else{let I=t||{};a=I.index,i=I.injector,r=I.projectableNodes,s=I.environmentInjector||I.ngModuleRef}let c=o?e:new Zs(qi(e)),u=i||this.parentInjector;if(!s&&c.ngModule==null){let A=(o?u:this.parentInjector).get(pt,null);A&&(s=A)}let h=qi(c.componentType??{}),p=Zu(this._lContainer,h?.id??null),m=p?.firstChild??null,_=c.create(u,r,m,s);return this.insertImpl(_.hostView,a,Ju(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(QO(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Ct],u=new OT(c,c[St],c[Ct]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Xm(o,r,s,i),e.attachToViewContainerRef(),NE(ug(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=cE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Qu(this._lContainer,t);i&&(Fu(ug(this._lContainer),t),Bm(i[oe],i))}detach(e){let t=this._adjustIndex(e,-1),i=Qu(this._lContainer,t);return i&&Fu(ug(this._lContainer),t)!=null?new Br(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function cE(n){return n[Bu]}function ug(n){return n[Bu]||(n[Bu]=[])}function WF(n,e){let t,i=e[n.index];return ii(i)?t=i:(t=_T(i,e,null,n),e[n.index]=t,Rd(e,t)),QF(t,e,n,i),new OT(t,n,e)}function KF(n,e){let t=n[Ee],i=t.createComment(""),r=nn(e,n),s=Um(t,r);return Vr(t,s,i,bk(t,r),!1),i}var QF=ZF,JF=()=>!1;function YF(n,e,t){return JF(n,e,t)}function ZF(n,e,t,i){if(n[Or])return;let r;t.type&8?r=Xt(i):r=KF(e,t),n[Or]=r}var lE=new Set;function $r(n){lE.has(n)||(lE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function XF(n){return typeof n=="function"&&n[Wn]!==void 0}function Ja(n,e){$r("NgSignals");let t=cI(n),i=t[Wn];return e?.equal&&(i.equal=e.equal),t.set=r=>Fp(i,r),t.update=r=>lI(i,r),t.asReadonly=eL.bind(t),t}function eL(){let n=this[Wn];if(n.readonlyFn===void 0){let e=()=>this();e[Wn]=n,n.readonlyFn=e}return n.readonlyFn}function xT(n){return XF(n)&&typeof n.set=="function"}function tL(n){return Object.getPrototypeOf(n.prototype).constructor}function jt(n){let e=tL(n.type),t=!0,i=[n];for(;e;){let r;if(Wi(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=Du(n.inputs),o.inputTransforms=Du(n.inputTransforms),o.declaredInputs=Du(n.declaredInputs),o.outputs=Du(n.outputs);let a=r.hostBindings;a&&oL(n,a);let c=r.viewQuery,u=r.contentQueries;if(c&&rL(n,c),u&&sL(n,u),nL(n,r),GP(n.outputs,r.outputs),Wi(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===jt&&(t=!1)}}e=Object.getPrototypeOf(e)}iL(i)}function nL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function iL(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=xa(r.hostAttrs,t=xa(t,r.hostAttrs))}}function Du(n){return n===$s?{}:n===Dt?[]:n}function rL(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function sL(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function oL(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function n_(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Ki=class{},Ba=class{};var Yg=class extends Ki{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new td(this);let s=$E(e);this._bootstrapComponents=qD(s.bootstrap),this._r3Injector=MD(e,t,[{provide:Ki,useValue:this},{provide:Js,useValue:this.componentFactoryResolver},...i],Tt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zg=class extends Ba{constructor(e){super(),this.moduleType=e}create(e){return new Yg(this.moduleType,e,[])}};var nd=class extends Ki{constructor(e){super(),this.componentFactoryResolver=new td(this),this.instance=null;let t=new ka([...e.providers,{provide:Ki,useValue:this},{provide:Js,useValue:this.componentFactoryResolver}],e.parent||_m(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pd(n,e,t=null){return new nd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function kT(n){return cL(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function aL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function cL(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function FT(n,e,t){return n[e]=t}function lL(n,e){return n[e]}function en(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function id(n,e,t,i){let r=en(n,e,t);return en(n,e+1,i)||r}function uL(n,e,t,i,r){let s=id(n,e,t,i);return en(n,e+2,r)||s}function dL(n,e,t,i,r,s){let o=id(n,e,t,i);return id(n,e+2,r,s)||o}function hL(n){return(n.flags&32)===32}function fL(n,e,t,i,r,s,o,a,c){let u=e.consts,h=io(e,n,4,o||null,a||null);Wm(e,t,h,xr(u,c)),bd(e,h);let p=h.tView=qm(2,h,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function LT(n,e,t,i,r,s,o,a,c,u){let h=t+Ze,p=e.firstCreatePass?fL(h,e,n,i,r,s,o,a,c):e.data[h];Sn(p,!1);let m=pL(e,n,p,t);za()&&Cd(e,n,m,p),An(m,n);let _=_T(m,n,m,p);return n[h]=_,Rd(n,_),YF(_,p,n),gd(p)&&Gm(e,n,p),c!=null&&zm(n,p,u),p}function $t(n,e,t,i,r,s,o,a){let c=ae(),u=$e(),h=xr(u.consts,s);return LT(c,u,n,e,t,i,r,h,o,a),$t}var pL=gL;function gL(n,e,t,i){return qa(!0),e[Ee].createComment("")}var Rr=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Rr||{}),VT=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Xg=class n{constructor(){this.ngZone=O(we),this.scheduler=O(Qs),this.errorHandler=O(Xn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Rr.EarlyRead,Rr.Write,Rr.MixedReadWrite,Rr.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}},em=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Od(n,e){!e?.injector&&jO(Od);let t=e?.injector??O(Xe);return fk(t)?($r("NgAfterNextRender"),_L(n,t,e,!0)):yL}function mL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function _L(n,e,t,i){let r=e.get(VT);r.impl??=e.get(Xg);let s=t?.phase??Rr.MixedReadWrite,o=new em(r.impl,mL(n,s),i,e.get(Ed));return r.impl.register(o),o}var yL={destroy(){}};function sn(n,e,t,i){let r=ae(),s=to();if(en(r,s,e)){let o=$e(),a=wd();zk(a,r,n,e,t,i)}return sn}function vL(n,e,t,i){return en(n,to(),t)?e+Nt(t)+i:ot}function wL(n,e,t,i,r,s){let o=vd(),a=id(n,o,t,r);return Ga(2),a?e+Nt(t)+i+Nt(r)+s:ot}function BT(n,e,t,i,r,s,o,a){let c=vd(),u=uL(n,c,t,r,o);return Ga(3),u?e+Nt(t)+i+Nt(r)+s+Nt(o)+a:ot}function bL(n,e,t,i,r,s,o,a,c,u){let h=vd(),p=dL(n,h,t,r,o,c);return Ga(4),p?e+Nt(t)+i+Nt(r)+s+Nt(o)+a+Nt(c)+u:ot}function Tu(n,e){return n<<17|e<<2}function Ur(n){return n>>17&32767}function IL(n){return(n&2)==2}function EL(n,e){return n&131071|e<<17}function tm(n){return n|2}function Xs(n){return(n&131068)>>2}function dg(n,e){return n&-131069|e<<2}function DL(n){return(n&1)===1}function nm(n){return n|1}function TL(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Ur(o),c=Xs(o);n[i]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ha(p,h)>0)&&(u=!0)}else h=t;if(r)if(c!==0){let m=Ur(n[a+1]);n[i+1]=Tu(m,a),m!==0&&(n[m+1]=dg(n[m+1],i)),n[a+1]=EL(n[a+1],i)}else n[i+1]=Tu(a,0),a!==0&&(n[a+1]=dg(n[a+1],i)),a=i;else n[i+1]=Tu(c,0),a===0?a=i:n[c+1]=dg(n[c+1],i),c=i;u&&(n[i+1]=tm(n[i+1])),uE(n,h,i,!0),uE(n,h,i,!1),CL(e,h,n,i,s),o=Tu(a,c),s?e.classBindings=o:e.styleBindings=o}function CL(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Ha(s,e)>=0&&(t[i+1]=nm(t[i+1]))}function uE(n,e,t,i){let r=n[t+1],s=e===null,o=i?Ur(r):Xs(r),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],u=n[o+1];SL(c,e)&&(a=!0,n[o+1]=i?nm(u):tm(u)),o=i?Ur(u):Xs(u)}a&&(n[t+1]=i?tm(r):nm(r))}function SL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ha(n,e)>=0:!1}var dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AL(n){return n.substring(dn.key,dn.keyEnd)}function ML(n){return RL(n),UT(n,jT(n,0,dn.textEnd))}function UT(n,e){let t=dn.textEnd;return t===e?-1:(e=dn.keyEnd=NL(n,dn.key=e,t),jT(n,e,t))}function RL(n){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=n.length}function jT(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function NL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function xe(n,e,t){let i=ae(),r=to();if(en(i,r,e)){let s=$e(),o=wd();Md(s,o,i,n,e,i[Ee],t,!1)}return xe}function im(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";Qm(n,t,s[o],o,i)}function Ya(n,e,t){return GT(n,e,t,!1),Ya}function Rn(n,e){return GT(n,e,null,!0),Rn}function $T(n){zT(LL,HT,n,!0)}function HT(n,e){for(let t=ML(e);t>=0;t=UT(e,t))dd(n,AL(e),!0)}function GT(n,e,t,i){let r=ae(),s=$e(),o=Ga(2);if(s.firstUpdatePass&&WT(s,n,o,i),e!==ot&&en(r,o,e)){let a=s.data[si()];KT(s,a,r,r[Ee],n,r[o+1]=BL(e,t),i,o)}}function zT(n,e,t,i){let r=$e(),s=Ga(2);r.firstUpdatePass&&WT(r,null,s,i);let o=ae();if(t!==ot&&en(o,s,t)){let a=r.data[si()];if(QT(a,i)&&!qT(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=_g(c,t||"")),im(r,a,o,t,i)}else VL(r,a,o,o[Ee],o[s+1],o[s+1]=FL(n,e,t),i,s)}}function qT(n,e){return e>=n.expandoStartIndex}function WT(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[si()],o=qT(n,t);QT(s,i)&&e===null&&!o&&(e=!1),e=PL(r,s,e,i),TL(r,s,e,t,o,i)}}function PL(n,e,t,i){let r=ax(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=hg(null,n,e,t,i),t=Ua(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=hg(r,n,e,t,i),s===null){let c=OL(n,e,i);c!==void 0&&Array.isArray(c)&&(c=hg(null,n,e,c[1],i),c=Ua(c,e.attrs,i),xL(n,e,i,c))}else s=kL(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function OL(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Xs(i)!==0)return n[Ur(i)]}function xL(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Ur(r)]=i}function kL(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=Ua(i,o,t)}return Ua(i,e.attrs,t)}function hg(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=Ua(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Ua(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),dd(n,o,t?!0:e[++s]))}return n===void 0?null:n}function FL(n,e,t){if(t==null||t==="")return Dt;let i=[],r=no(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function LL(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&dd(n,i,t)}function VL(n,e,t,i,r,s,o,a){r===ot&&(r=Dt);let c=0,u=0,h=0<r.length?r[0]:null,p=0<s.length?s[0]:null;for(;h!==null||p!==null;){let m=c<r.length?r[c+1]:void 0,_=u<s.length?s[u+1]:void 0,I=null,A;h===p?(c+=2,u+=2,m!==_&&(I=p,A=_)):p===null||h!==null&&h<p?(c+=2,I=h):(u+=2,I=p,A=_),I!==null&&KT(n,e,t,i,I,A,o,a),h=c<r.length?r[c]:null,p=u<s.length?s[u]:null}}function KT(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],h=DL(u)?dE(c,e,t,r,Xs(u),o):void 0;if(!rd(h)){rd(s)||IL(u)&&(s=dE(c,null,t,r,a,o));let p=md(si(),t);Dk(i,o,p,r,s)}}function dE(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let c=n[r],u=Array.isArray(c),h=u?c[1]:c,p=h===null,m=t[r+1];m===ot&&(m=p?Dt:void 0);let _=p?ng(m,i):h===i?m:void 0;if(u&&!rd(_)&&(_=ng(c,i)),rd(_)&&(a=_,o))return a;let I=n[r+1];r=o?Ur(I):Xs(I)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=ng(c,i))}return a}function rd(n){return n!==void 0}function BL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Tt(no(n)))),n}function QT(n,e){return(n.flags&(e?8:16))!==0}function JT(n,e,t,i,r){let s=ae(),o=wL(s,n,e,t,i,r);zT(dd,HT,o,!0)}function i_(n,e){$r("NgControlFlow");let t=ae(),i=to(),r=t[i]!==ot?t[i]:-1,s=r!==-1?hE(t,Ze+r):void 0,o=0;if(en(t,i,n)){let a=me(null);try{if(s!==void 0&&eF(s,o),n!==-1){let c=Ze+n,u=hE(t,c),h=UL(t[oe],c),p=Zu(u,h.tView.ssrId),m=Zm(t,h,e,{dehydratedView:p});Xm(u,m,o,Ju(h,p))}}finally{me(a)}}else if(s!==void 0){let a=Xk(s,o);a!==void 0&&(a[Zt]=e)}}function hE(n,e){return n[e]}function UL(n,e){return vm(n,e)}function jL(n,e,t,i,r,s){let o=e.consts,a=xr(o,r),c=io(e,n,2,i,a);return Wm(e,t,c,xr(o,s)),c.attrs!==null&&ed(c,c.attrs,!1),c.mergedAttrs!==null&&ed(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _e(n,e,t,i){let r=ae(),s=$e(),o=Ze+n,a=r[Ee],c=s.firstCreatePass?jL(o,s,r,e,t,i):s.data[o],u=$L(s,r,c,a,e,n);r[o]=u;let h=gd(c);return Sn(c,!0),lT(a,u,c),!hL(c)&&za()&&Cd(s,r,u,c),ZO()===0&&An(u,r),XO(),h&&(Gm(s,r,c),Hm(s,c,r)),i!==null&&zm(r,c),_e}function fe(){let n=mt();bm()?Im():(n=n.parent,Sn(n,!1));let e=n;tx(e)&&nx(),ex();let t=$e();return t.firstCreatePass&&(bd(t,n),ym(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&px(e)&&im(t,e,ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gx(e)&&im(t,e,ae(),e.stylesWithoutHost,!1),fe}function ro(n,e,t,i){return _e(n,e,t,i),fe(),ro}var $L=(n,e,t,i,r,s)=>(qa(!0),Lm(i,r,ux()));function HL(n,e,t,i,r){let s=e.consts,o=xr(s,i),a=io(e,n,8,"ng-container",o);o!==null&&ed(a,o,!0);let c=xr(s,r);return Wm(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function xd(n,e,t){let i=ae(),r=$e(),s=n+Ze,o=r.firstCreatePass?HL(s,r,i,e,t):r.data[s];Sn(o,!0);let a=GL(r,i,o,n);return i[s]=a,za()&&Cd(r,i,a,o),An(a,i),gd(o)&&(Gm(r,i,o),Hm(r,o,i)),t!=null&&zm(i,o),xd}function kd(){let n=mt(),e=$e();return bm()?Im():(n=n.parent,Sn(n,!1)),e.firstCreatePass&&(bd(e,n),ym(n)&&e.queries.elementEnd(n)),kd}var GL=(n,e,t,i)=>(qa(!0),QD(e[Ee],""));function Yi(){return ae()}var Mr=void 0;function zL(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var qL=["en",[["a","p"],["AM","PM"],Mr],[["AM","PM"],Mr,Mr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mr,"{1} 'at' {0}",Mr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",zL],fg={};function Fd(n){let e=WL(n),t=fE(e);if(t)return t;let i=e.split("-")[0];if(t=fE(i),t)return t;if(i==="en")return qL;throw new G(701,!1)}function YT(n){return Fd(n)[Hr.PluralCase]}function fE(n){return n in fg||(fg[n]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[n]),fg[n]}var Hr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Hr||{});function WL(n){return n.toLowerCase().replace(/_/g,"-")}var KL=["zero","one","two","few","many"];function QL(n,e){let t=YT(e)(parseInt(n,10)),i=KL[t];return i!==void 0?i:"other"}var sd="en-US";var ZT={marker:"element"},XT={marker:"ICU"},Yn=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Yn||{}),eC=sd;function JL(n){typeof n=="string"&&(eC=n.toLowerCase().replace(/_/g,"-"))}function YL(){return eC}var ja=0,Na=0;function ZL(n){n&&(ja=ja|1<<Math.min(Na,31)),Na++}function XL(n,e,t){if(Na>0){let i=n.data[t],r=Array.isArray(i)?i:i.update,s=vd()-Na-1;nC(n,e,r,s,ja)}ja=0,Na=0}function eV(n,e,t){let i=n[Ee];switch(t){case Node.COMMENT_NODE:return QD(i,e);case Node.TEXT_NODE:return WD(i,e);case Node.ELEMENT_NODE:return Lm(i,e,null)}}var Ru=(n,e,t,i)=>(qa(!0),eV(n,t,i));function tV(n,e,t,i){let r=n[Ee];for(let s=0;s<e.length;s++){let o=e[s++],a=e[s],c=(o&Yn.COMMENT)===Yn.COMMENT,u=(o&Yn.APPEND_EAGERLY)===Yn.APPEND_EAGERLY,h=o>>>Yn.SHIFT,p=n[h],m=!1;p===null&&(p=n[h]=Ru(n,h,a,c?Node.COMMENT_NODE:Node.TEXT_NODE),m=za()),u&&t!==null&&m&&Vr(r,t,p,i,!1)}}function tC(n,e,t,i){let r=t[Ee],s=null,o;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="string"){let u=e[++a];t[u]===null&&(t[u]=Ru(t,u,c,Node.TEXT_NODE))}else if(typeof c=="number")switch(c&1){case 0:let u=EF(c);s===null&&(s=u,o=Um(r,i));let h,p;if(u===s?(h=i,p=o):(h=null,p=Xt(t[u])),p!==null){let A=DF(c),M=t[A];Vr(r,p,M,h,!1);let P=Ra(n,A);if(P!==null&&typeof P=="object"){let V=Nd(P,t);V!==null&&tC(n,P.create[V],t,t[P.anchorIdx])}}break;case 1:let m=c>>>1,_=e[++a],I=e[++a];Km(r,md(m,t),null,null,_,I,null);break;default:}else switch(c){case XT:let u=e[++a],h=e[++a];if(t[h]===null){let _=t[h]=Ru(t,h,u,Node.COMMENT_NODE);An(_,t)}break;case ZT:let p=e[++a],m=e[++a];if(t[m]===null){let _=t[m]=Ru(t,m,p,Node.ELEMENT_NODE);An(_,t)}break;default:}}}function nC(n,e,t,i,r){for(let s=0;s<t.length;s++){let o=t[s],a=t[++s];if(o&r){let c="";for(let u=s+1;u<=s+a;u++){let h=t[u];if(typeof h=="string")c+=h;else if(typeof h=="number")if(h<0)c+=Nt(e[i-h]);else{let p=h>>>2;switch(h&3){case 1:let m=t[++u],_=t[++u],I=n.data[p];typeof I=="string"?Km(e[Ee],e[p],null,I,m,c,_):Md(n,I,e,m,c,e[Ee],_,!1);break;case 0:let A=e[p];A!==null&&KD(e[Ee],A,c);break;case 2:nV(n,Ra(n,p),e,c);break;case 3:pE(n,Ra(n,p),i,e);break}}}}else{let c=t[s+1];if(c>0&&(c&3)===3){let u=c>>>2,h=Ra(n,u);e[h.currentCaseLViewIndex]<0&&pE(n,h,i,e)}}s+=a}}function pE(n,e,t,i){let r=i[e.currentCaseLViewIndex];if(r!==null){let s=ja;r<0&&(r=i[e.currentCaseLViewIndex]=~r,s=-1),nC(n,i,e.update[r],t,s)}}function nV(n,e,t,i){let r=iV(e,i);if(Nd(e,t)!==r&&(iC(n,e,t),t[e.currentCaseLViewIndex]=r===null?null:~r,r!==null)){let o=t[e.anchorIdx];o&&tC(n,e.create[r],t,o),NF(t,e.anchorIdx,r)}}function iC(n,e,t){let i=Nd(e,t);if(i!==null){let r=e.remove[i];for(let s=0;s<r.length;s++){let o=r[s];if(o>0){let a=md(o,t);a!==null&&oT(t[Ee],a)}else iC(n,Ra(n,~o),t)}}}function iV(n,e){let t=n.cases.indexOf(e);if(t===-1)switch(n.type){case 1:{let i=QL(e,YL());t=n.cases.indexOf(i),t===-1&&i!=="other"&&(t=n.cases.indexOf("other"));break}case 0:{t=n.cases.indexOf("other");break}}return t===-1?null:t}var od=/�(\d+):?\d*�/gi;var rV=/�(\d+)�/,rC=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,Pa="\uFFFD",sV=/�\/?\*(\d+:\d+)�/gi,oV=/�(\/?[#*]\d+):?\d*�/gi,aV=/\uE500/g;function cV(n){return n.replace(aV," ")}function lV(n,e,t,i,r,s){let o=Va(),a=[],c=[],u=[[]],h=[[]];r=dV(r,s);let p=cV(r).split(oV);for(let m=0;m<p.length;m++){let _=p[m];if(m&1){let I=_.charCodeAt(0)===47,A=_.charCodeAt(I?1:0),M=Ze+Number.parseInt(_.substring(I?2:1));if(I)u.shift(),h.shift(),Sn(Va(),!1);else{let P=IF(n,u[0],M);u.unshift([]),Sn(P,!0);let V={kind:2,index:M,children:[],type:A===35?0:1};h[0].push(V),h.unshift(V.children)}}else{let I=rm(_);for(let A=0;A<I.length;A++){let M=I[A];if(A&1){let P=M;if(typeof P!="object")throw new Error(`Unable to parse ICU expression in "${r}" message.`);let L=sC(n,o,u[0],t,a,"",!0).index;aC(h[0],n,t,c,e,P,L)}else{let P=M;P!==""&&uV(h[0],n,o,u[0],a,c,t,P)}}}}n.data[i]={create:a,update:c,ast:h[0],parentTNodeIndex:e}}function sC(n,e,t,i,r,s,o){let a=Ka(n,i,1,null),c=a<<Yn.SHIFT,u=Va();e===u&&(u=null),u===null&&(c|=Yn.APPEND_EAGERLY),o&&(c|=Yn.COMMENT,pk(SF)),r.push(c,s===null?"":s);let h=$m(n,a,o?32:1,s===null?"":s,null);AT(t,h);let p=h.index;return Sn(h,!1),u!==null&&e!==u&&bF(u,p),h}function uV(n,e,t,i,r,s,o,a){let c=a.match(od),h=sC(e,t,i,o,r,c?null:a,!1).index;c&&Nu(s,a,h,null,0,null),n.push({kind:0,index:h})}function Nu(n,e,t,i,r,s){let o=n.length,a=o+1;n.push(null,null);let c=o+2,u=e.split(od),h=0;for(let p=0;p<u.length;p++){let m=u[p];if(p&1){let _=r+parseInt(m,10);n.push(-1-_),h=h|oC(_)}else m!==""&&n.push(m)}return n.push(t<<2|(i?1:0)),i&&n.push(i,s),n[o]=h,n[a]=n.length-c,h}function oC(n){return 1<<Math.min(n,31)}function gE(n){let e,t="",i=0,r=!1,s;for(;(e=sV.exec(n))!==null;)r?e[0]===`${Pa}/*${s}${Pa}`&&(i=e.index,r=!1):(t+=n.substring(i,e.index+e[0].length),s=e[1],r=!0);return t+=n.slice(i),t}function dV(n,e){if(CF(e))return gE(n);{let t=n.indexOf(`:${e}${Pa}`)+2+e.toString().length,i=n.search(new RegExp(`${Pa}\\/\\*\\d+:${e}${Pa}`));return gE(n.substring(t,i))}}function aC(n,e,t,i,r,s,o){let a=0,c={type:s.type,currentCaseLViewIndex:Ka(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};gV(i,s,o),wF(e,o,c);let u=s.values,h=[];for(let p=0;p<u.length;p++){let m=u[p],_=[];for(let A=0;A<m.length;A++){let M=m[A];if(typeof M!="string"){let P=_.push(M)-1;m[A]=`<!--\uFFFD${P}\uFFFD-->`}}let I=[];h.push(I),a=fV(I,e,c,t,i,r,s.cases[p],m.join(""),_)|a}a&&mV(i,a,o),n.push({kind:3,index:o,cases:h,currentCaseLViewIndex:c.currentCaseLViewIndex})}function hV(n){let e=[],t=[],i=1,r=0;n=n.replace(rC,function(o,a,c){return c==="select"?i=0:i=1,r=parseInt(a.slice(1),10),""});let s=rm(n);for(let o=0;o<s.length;){let a=s[o++].trim();i===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);let c=rm(s[o++]);e.length>t.length&&t.push(c)}return{type:i,mainBinding:r,cases:e,values:t}}function rm(n){if(!n)return[];let e=0,t=[],i=[],r=/[{}]/g;r.lastIndex=0;let s;for(;s=r.exec(n);){let a=s.index;if(s[0]=="}"){if(t.pop(),t.length==0){let c=n.substring(e,a);rC.test(c)?i.push(hV(c)):i.push(c),e=a+1}}else{if(t.length==0){let c=n.substring(e,a);i.push(c),e=a+1}t.push("{")}}let o=n.substring(e);return i.push(o),i}function fV(n,e,t,i,r,s,o,a,c){let u=[],h=[],p=[];t.cases.push(o),t.create.push(u),t.remove.push(h),t.update.push(p);let _=Kx(BD()).getInertBodyElement(a),I=sk(_)||_;return I?cC(n,e,t,i,r,u,h,p,I,s,c,0):0}function cC(n,e,t,i,r,s,o,a,c,u,h,p){let m=0,_=c.firstChild;for(;_;){let I=Ka(e,i,1,null);switch(_.nodeType){case Node.ELEMENT_NODE:let A=_,M=A.tagName.toLowerCase();if(tk.hasOwnProperty(M)){pg(s,ZT,M,u,I),e.data[I]=M;let W=A.attributes;for(let q=0;q<W.length;q++){let E=W.item(q),y=E.name.toLowerCase();!!E.value.match(od)?rk.hasOwnProperty(y)&&(HD[y]?Nu(a,E.value,I,E.name,0,xm):Nu(a,E.value,I,E.name,0,null)):_V(s,I,E)}let de={kind:1,index:I,children:[]};n.push(de),m=cC(de.children,e,t,i,r,s,o,a,_,I,h,p+1)|m,mE(o,I,p)}break;case Node.TEXT_NODE:let P=_.textContent||"",V=P.match(od);pg(s,null,V?"":P,u,I),mE(o,I,p),V&&(m=Nu(a,P,I,null,0,null)|m),n.push({kind:0,index:I});break;case Node.COMMENT_NODE:let L=rV.exec(_.textContent||"");if(L){let W=parseInt(L[1],10),de=h[W];pg(s,XT,"",u,I),aC(n,e,i,r,u,de,I),pV(o,I,p)}break}_=_.nextSibling}return m}function mE(n,e,t){t===0&&n.push(e)}function pV(n,e,t){t===0&&(n.push(~e),n.push(e))}function gV(n,e,t){n.push(oC(e.mainBinding),2,-1-e.mainBinding,t<<2|2)}function mV(n,e,t){n.push(e,1,t<<2|3)}function pg(n,e,t,i,r){e!==null&&n.push(e),n.push(t,r,TF(0,i,r))}function _V(n,e,t){n.push(e<<1|1,t.name,t.value)}function yV(n,e,t=-1){let i=$e(),r=ae(),s=Ze+n,o=xr(i.consts,e),a=Va();if(i.firstCreatePass&&lV(i,a===null?0:a.index,r,s,o,t),i.type===2){let m=r[Lt];m[X]|=32}else r[X]|=32;let c=i.data[s],u=a===r[St]?null:a,h=XD(i,u,r),p=a&&a.type&8?r[a.index]:null;MF(r,s,a,t),tV(r,c.create,h,p),dD(!0)}function vV(){dD(!1)}function lC(n,e,t){yV(n,e,t),vV()}function r_(n){let e=ae();return ZL(en(e,to(),n)),r_}function uC(n){XL($e(),ae(),n+Ze)}var wV=(n,e,t)=>{};function Je(n,e,t,i){let r=ae(),s=$e(),o=mt();return dC(s,r,r[Ee],o,n,e,i),Je}function bV(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Vu],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function dC(n,e,t,i,r,s,o){let a=gd(i),u=n.firstCreatePass&&Qk(n),h=e[Zt],p=Kk(e),m=!0;if(i.type&3||o){let A=nn(i,e),M=o?o(A):A,P=p.length,V=o?W=>o(Xt(W[i.index])):i.index,L=null;if(!o&&a&&(L=bV(n,e,r,i.index)),L!==null){let W=L.__ngLastListenerFn__||L;W.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,m=!1}else{s=yE(i,e,h,s),wV(A,r,s);let W=t.listen(M,r,s);p.push(s,W),u&&u.push(r,V,P,P+1)}}else s=yE(i,e,h,s);let _=i.outputs,I;if(m&&_!==null&&(I=_[r])){let A=I.length;if(A)for(let M=0;M<A;M+=2){let P=I[M],V=I[M+1],de=e[P][V].subscribe(s),q=p.length;p.push(s,de),u&&u.push(r,i.index,q,-(q+1))}}}function _E(n,e,t,i){let r=me(null);try{return En(6,e,t),t(i)!==!1}catch(s){return vT(n,s),!1}finally{En(7,e,t),me(r)}}function yE(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Qi(n.index,e):e;e_(o,5);let a=_E(e,t,i,s),c=r.__ngNextListenerFn__;for(;c;)a=_E(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Ge(n=1){return lx(n)}function IV(n,e){let t=null,i=wO(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?LE(n,s,!0):EO(i,s))return r}return t}function Ld(n){let e=ae()[Lt][St];if(!e.projection){let t=n?n.length:1,i=e.projection=dO(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?IV(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function Vd(n,e=0,t,i,r,s){let o=ae(),a=$e(),c=i?n+1:null;c!==null&&LT(o,a,c,i,r,s,null,t);let u=io(a,Ze+n,16,null,t||null);u.projection===null&&(u.projection=e),Im();let p=!o[Fa]||aD();o[Lt][St].projection[u.projection]===null&&c!==null?EV(o,a,c):p&&(u.flags&32)!==32&&Ik(a,o,u)}function EV(n,e,t){let i=Ze+t,r=e.data[i],s=n[i],o=Zu(s,r.tView.ssrId),a=Zm(n,r,void 0,{dehydratedView:o});Xm(s,a,0,Ju(r,o))}function s_(n,e,t,i,r,s,o,a,c){let u=ae(),h=BT(u,e,t,i,r,s,o,a);if(h!==ot){let p=$e(),m=wd();Md(p,m,u,n,h,u[Ee],c,!1)}return s_}function DV(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function He(n,e=""){let t=ae(),i=$e(),r=n+Ze,s=i.firstCreatePass?io(i,r,1,e,null):i.data[r],o=TV(i,t,s,e,n);t[r]=o,za()&&Cd(i,t,o,s),Sn(s,!1)}var TV=(n,e,t,i,r)=>(qa(!0),WD(e[Ee],i));function so(n){return Zi("",n,""),so}function Zi(n,e,t){let i=ae(),r=vL(i,n,e,t);return r!==ot&&Jm(i,si(),r),Zi}function Za(n,e,t,i,r,s,o){let a=ae(),c=BT(a,n,e,t,i,r,s,o);return c!==ot&&Jm(a,si(),c),Za}function o_(n,e,t,i,r,s,o,a,c){let u=ae(),h=bL(u,n,e,t,i,r,s,o,a,c);return h!==ot&&Jm(u,si(),h),o_}function ci(n,e,t){xT(e)&&(e=e());let i=ae(),r=to();if(en(i,r,e)){let s=$e(),o=wd();Md(s,o,i,n,e,i[Ee],t,!1)}return ci}function Xi(n,e){let t=xT(n);return t&&n.set(e),t}function li(n,e){let t=ae(),i=$e(),r=mt();return dC(i,t,t[Ee],r,n,e),li}function CV(n,e,t){let i=$e();if(i.firstCreatePass){let r=Wi(n);sm(t,i.data,i.blueprint,r,!0),sm(e,i.data,i.blueprint,r,!1)}}function sm(n,e,t,i,r){if(n=Et(n),Array.isArray(n))for(let s=0;s<n.length;s++)sm(n[s],e,t,i,r);else{let s=$e(),o=ae(),a=mt(),c=Gs(n)?n:Et(n.provide),u=KE(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Gs(n)||!n.multi){let _=new Lr(u,r,Z),I=mg(c,e,r?h:h+m,p);I===-1?(Ng(zu(a,o),s,c),gg(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),o.push(_)):(t[I]=_,o[I]=_)}else{let _=mg(c,e,h+m,p),I=mg(c,e,h,h+m),A=_>=0&&t[_],M=I>=0&&t[I];if(r&&!M||!r&&!A){Ng(zu(a,o),s,c);let P=MV(r?AV:SV,t.length,r,i,u);!r&&M&&(t[I].providerFactory=P),gg(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(P),o.push(P)}else{let P=hC(t[r?I:_],u,!r&&i);gg(s,n,_>-1?_:I,P)}!r&&i&&M&&t[I].componentProviders++}}}function gg(n,e,t,i){let r=Gs(e),s=xO(e);if(r||s){let c=(s?Et(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[i,c]):u[h+1].push(i,c)}else u.push(t,c)}}}function hC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function mg(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function SV(n,e,t,i){return om(this.multi,[])}function AV(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ks(t,t[oe],this.providerFactory.index,i);s=a.slice(0,o),om(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],om(r,s);return s}function om(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function MV(n,e,t,i,r){let s=new Lr(n,t,Z);return s.multi=[],s.index=e,s.componentProviders=0,hC(s,r,i&&!t),s}function ui(n,e=[]){return t=>{t.providersResolver=(i,r)=>CV(i,r?r(n):n,e)}}var RV=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=zE(!1,t.type),r=i.length>0?Pd([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(H(pt))})}}return n})();function Ot(n){$r("NgStandalone"),n.getStandaloneInjector=e=>e.get(RV).getOrCreateStandaloneInjector(n)}function fC(n,e,t){let i=uD()+n,r=ae();return r[i]===ot?FT(r,i,t?e.call(t):e()):lL(r,i)}function NV(n,e){let t=n[e];return t===ot?void 0:t}function PV(n,e,t,i,r,s){let o=e+t;return en(n,o,r)?FT(n,o+1,s?i.call(s,r):i(r)):NV(n,o+1)}function pC(n,e){let t=$e(),i,r=n+Ze;t.firstCreatePass?(i=OV(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=Pr(i.type,!0)),o,a=Rt(Z);try{let c=Gu(!1),u=s();return Gu(c),DV(t,ae(),r,u),u}finally{Rt(a)}}function OV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function gC(n,e,t){let i=n+Ze,r=ae(),s=KO(r,i);return xV(r,i)?PV(r,uD(),e,s.transform,t,s):s.transform(t)}function xV(n,e){return n[oe].data[e].pure}var ti=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},mC=new ti("18.2.6");var Bd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var _C=new B("");function Gr(n){return!!n&&typeof n.then=="function"}function yC(n){return!!n&&typeof n.subscribe=="function"}var Ud=new B(""),vC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=O(Ud,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let s=r();if(Gr(s))t.push(s);else if(yC(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xa=new B("");function kV(){aI(()=>{throw new G(600,!1)})}function FV(n){return n.isBoundToModule}var LV=10;function VV(n,e,t){try{let i=t();return Gr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var di=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(kx),this.afterRenderManager=O(VT),this.zonelessEnabled=O(t_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ue,this.afterTick=new Ue,this.componentTypes=[],this.components=[],this.isStable=O(oi).hasPendingTasks.pipe(J(t=>!t)),this._injector=O(pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Xu;if(!this._injector.get(vC).done){let m=!r&&jE(t),_=!1;throw new G(405,_)}let o;r?o=t:o=this._injector.get(Js).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=FV(o)?void 0:this._injector.get(Ki),c=i||o.selector,u=o.create(Xe.NULL,[],c,a),h=u.location.nativeElement,p=u.injector.get(_C,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Pu(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new G(101,!1);let t=me(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,me(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ys,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<LV;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)BV(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>_d(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Pu(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Xa,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Pu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Pu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function BV(n,e,t,i){if(!t&&!_d(n))return;IT(n,e,t&&!i?0:1)}var am=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},jd=(()=>{class n{compileModuleSync(t){return new Zg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=$E(t),s=qD(r.declarations).reduce((o,a)=>{let c=qi(a);return c&&o.push(new Zs(c)),o},[]);return new am(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var UV=(()=>{class n{constructor(){this.zone=O(we),this.changeDetectionScheduler=O(Qs),this.applicationRef=O(di)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jV({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new we(ce(k({},$V()),{scheduleInRootZone:t})),[{provide:we,useFactory:n},{provide:Hs,multi:!0,useFactory:()=>{let i=O(UV,{optional:!0});return()=>i.initialize()}},{provide:Hs,multi:!0,useFactory:()=>{let i=O(HV);return()=>{i.initialize()}}},e===!0?{provide:NT,useValue:!0}:[],{provide:PT,useValue:t??RD}]}function $V(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var HV=(()=>{class n{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=O(we),this.pendingTasks=O(oi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var GV=(()=>{class n{constructor(){this.appRef=O(di),this.taskService=O(oi),this.ngZone=O(we),this.zonelessEnabled=O(t_),this.disableScheduling=O(NT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Le,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(PT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?XI:ND;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,XI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zV(){return typeof $localize<"u"&&$localize.locale||sd}var ec=new B("",{providedIn:"root",factory:()=>O(ec,le.Optional|le.SkipSelf)||zV()});var wC=new B("");function Cu(n){return!!n.platformInjector}function qV(n){let e=Cu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(we);return t.run(()=>{Cu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Xn,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),Cu(n)){let s=()=>e.destroy(),o=n.platformInjector.get(wC);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{Pu(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return VV(i,t,()=>{let s=e.get(vC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(ec,sd);if(JL(o||sd),Cu(n)){let a=e.get(di);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return WV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function WV(n,e){let t=n.injector.get(di);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new G(-403,!1);e.push(n)}var Ou=null;function KV(n=[],e){return Xe.create({name:e,providers:[{provide:hd,useValue:"platform"},{provide:wC,useValue:new Set([()=>Ou=null])},...n]})}function QV(n=[]){if(Ou)return Ou;let e=KV(n);return Ou=e,kV(),JV(e),e}function JV(n){n.get(Mm,null)?.forEach(t=>t())}var hi=(()=>{class n{static{this.__NG_ELEMENT_ID__=YV}}return n})();function YV(n){return ZV(mt(),ae(),(n&16)===16)}function ZV(n,e,t){if(pd(n)&&!t){let i=Qi(n.index,e);return new Br(i,i)}else if(n.type&175){let i=e[Lt];return new Br(i,e)}return null}var cm=class{constructor(){}supports(e){return kT(e)}create(e){return new lm(e)}},XV=(n,e)=>e,lm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||XV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<vE(i,r,s)?t:i,a=vE(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,h=c-r;if(u!=h){for(let m=0;m<u;m++){let _=m<s.length?s[m]:s[m]=0,I=_+m;h<=I&&I<u&&(s[m]=_+1)}let p=o.previousIndex;s[p]=h-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!kT(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,aL(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new um(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ad),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},um=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},dm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},ad=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new dm,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vE(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function wE(){return new a_([new cm])}var a_=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:wE})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||wE()),deps:[[n,new fm,new gt]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new G(901,!1)}}return n})();function bC(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=QV(i),s=[jV({}),{provide:Qs,useExisting:GV},...t||[]],o=new nd({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return qV({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}var IC=new B("");function er(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function tc(n,e){$r("NgSignals");let t=rI(n);return e?.equal&&(t[Wn].equal=e.equal),t}function fi(n){let e=me(null);try{return n()}finally{me(e)}}function EC(n){let e=qi(n);if(!e)return null;let t=new Zs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var MC=null;function gi(){return MC}function RC(n){MC??=n}var $d=class{};var et=new B(""),p_=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:()=>O(t2),providedIn:"platform"})}}return n})(),NC=new B(""),t2=(()=>{class n extends p_{constructor(){super(),this._doc=O(et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gi().getBaseHref(this._doc)}onPopState(t){let i=gi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=gi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function g_(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function DC(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function pi(n){return n&&n[0]!=="?"?"?"+n:n}var mi=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:()=>O(m_),providedIn:"root"})}}return n})(),PC=new B(""),m_=(()=>{class n extends mi{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g_(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+pi(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+pi(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+pi(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(H(p_),H(PC,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OC=(()=>{class n extends mi{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=g_(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+pi(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+pi(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(H(p_),H(PC,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),co=(()=>{class n{constructor(t){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=r2(DC(TC(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+pi(i))}normalize(t){return n.stripTrailingSlash(i2(this._basePath,TC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pi(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=pi}static{this.joinWithSlash=g_}static{this.stripTrailingSlash=DC}static{this.\u0275fac=function(i){return new(i||n)(H(mi))}}static{this.\u0275prov=U({token:n,factory:()=>n2(),providedIn:"root"})}}return n})();function n2(){return new co(H(mi))}function i2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function TC(n){return n.replace(/\/index.html$/,"")}function r2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var xC=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(xC||{});var Nn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function oo(n,e){let t=Fd(n),i=t[Hr.NumberSymbols][e];if(typeof i>"u"){if(e===Nn.CurrencyDecimal)return t[Hr.NumberSymbols][Nn.Decimal];if(e===Nn.CurrencyGroup)return t[Hr.NumberSymbols][Nn.Group]}return i}function s2(n,e){return Fd(n)[Hr.NumberFormats][e]}var o2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,CC=22,Hd=".",nc="0",a2=";",c2=",",c_="#";var l2="%";function u2(n,e,t,i,r,s,o=!1){let a="",c=!1;if(!isFinite(n))a=oo(t,Nn.Infinity);else{let u=p2(n);o&&(u=f2(u));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(s){let V=s.match(o2);if(V===null)throw new Error(`${s} is not a valid digit info`);let L=V[1],W=V[3],de=V[5];L!=null&&(h=l_(L)),W!=null&&(p=l_(W)),de!=null?m=l_(de):W!=null&&p>m&&(m=p)}g2(u,p,m);let _=u.digits,I=u.integerLen,A=u.exponent,M=[];for(c=_.every(V=>!V);I<h;I++)_.unshift(0);for(;I<0;I++)_.unshift(0);I>0?M=_.splice(I,_.length):(M=_,_=[0]);let P=[];for(_.length>=e.lgSize&&P.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)P.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&P.unshift(_.join("")),a=P.join(oo(t,i)),M.length&&(a+=oo(t,r)+M.join("")),A&&(a+=oo(t,Nn.Exponential)+"+"+A)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function d2(n,e,t){let i=s2(e,xC.Percent),r=h2(i,oo(e,Nn.MinusSign));return u2(n,r,e,Nn.Group,Nn.Decimal,t,!0).replace(new RegExp(l2,"g"),oo(e,Nn.PercentSign))}function h2(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(a2),r=i[0],s=i[1],o=r.indexOf(Hd)!==-1?r.split(Hd):[r.substring(0,r.lastIndexOf(nc)+1),r.substring(r.lastIndexOf(nc)+1)],a=o[0],c=o[1]||"";t.posPre=a.substring(0,a.indexOf(c_));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===nc?t.minFrac=t.maxFrac=h+1:p===c_?t.maxFrac=h+1:t.posSuf+=p}let u=a.split(c2);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let h=r.length-t.posPre.length-t.posSuf.length,p=s.indexOf(c_);t.negPre=s.substring(0,p).replace(/'/g,""),t.negSuf=s.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function f2(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function p2(n){let e=Math.abs(n)+"",t=0,i,r,s,o,a;for((r=e.indexOf(Hd))>-1&&(e=e.replace(Hd,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===nc;s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===nc;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>CC&&(i=i.splice(0,CC-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function g2(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen,s=Math.min(Math.max(e,r),t),o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let p=o;p<i.length;p++)i[p]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let p=1;p<o;p++)i[p]=0}if(a>=5)if(o-1<0){for(let p=0;p>o;p--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=s!==0,u=e+n.integerLen,h=i.reduceRight(function(p,m,_,I){return m=m+p,I[_]=m<10?m:m-10,c&&(I[_]===0&&_>=u?I.pop():c=!1),m>=10?1:0},0);h&&(i.unshift(h),n.integerLen++)}function l_(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Gd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var u_=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},kC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new u_(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),SC(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);SC(s,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(Z(jr),Z(Qa),Z(a_))}}static{this.\u0275dir=Oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function SC(n,e){n.context.$implicit=e.item}var zd=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new d_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){AC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){AC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(Z(jr),Z(Qa))}}static{this.\u0275dir=Oe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),d_=class{constructor(){this.$implicit=null,this.ngIf=null}};function AC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Tt(e)}'.`)}function m2(n,e){return new G(2100,!1)}var FC=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!_2(t))return null;r||=this._locale;try{let s=y2(t);return d2(s,r,i)}catch(s){throw m2(n,s.message)}}static{this.\u0275fac=function(i){return new(i||n)(Z(ec,16))}}static{this.\u0275pipe=VE({name:"percent",type:n,pure:!0,standalone:!0})}}return n})();function _2(n){return!(n==null||n===""||n!==n)}function y2(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var ic=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Vt({})}}return n})(),__="browser",v2="server";function LC(n){return n===__}function qd(n){return n===v2}var VC=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>LC(O(Ut))?new h_(O(et),window):new f_})}}return n})(),h_=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=w2(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function w2(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var f_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ao=class{};var sc=class{},Qd=class{},_i=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var v_=class{encodeKey(e){return BC(e)}encodeValue(e){return BC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function b2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var I2=/%(\d[a-f0-9])/gi,E2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BC(n){return encodeURIComponent(n).replace(I2,(e,t)=>E2[t]??e)}function Kd(n){return`${n}`}var nr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new v_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=b2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Kd):[Kd(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Kd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Kd(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var w_=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function D2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function UC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jC(n){return typeof Blob<"u"&&n instanceof Blob}function $C(n){return typeof FormData<"u"&&n instanceof FormData}function T2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var rc=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(D2(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new _i,this.context??=new w_,!this.params)this.params=new nr,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||UC(this.body)||jC(this.body)||$C(this.body)||T2(this.body)?this.body:this.body instanceof nr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$C(this.body)?null:jC(this.body)?this.body.type||null:UC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof nr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,_)=>m.set(_,e.setHeaders[_]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,_)=>m.set(_,e.setParams[_]),h)),new n(t,i,o,{params:h,headers:u,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},ir=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ir||{}),oc=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new _i,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Jd=class n extends oc{constructor(e={}){super(e),this.type=ir.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ac=class n extends oc{constructor(e={}){super(e),this.type=ir.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tr=class extends oc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},WC=200,C2=204;function y_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var E_=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof rc)s=t;else{let c;r.headers instanceof _i?c=r.headers:c=new _i(r.headers);let u;r.params&&(r.params instanceof nr?u=r.params:u=new nr({fromObject:r.params})),s=new rc(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=z(s).pipe(Qn(c=>this.handler.handle(c)));if(t instanceof rc||r.observe==="events")return o;let a=o.pipe(st(c=>c instanceof ac));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(J(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(J(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(J(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(J(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new nr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,y_(r,i))}post(t,i,r={}){return this.request("POST",t,y_(r,i))}put(t,i,r={}){return this.request("PUT",t,y_(r,i))}static{this.\u0275fac=function(i){return new(i||n)(H(sc))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),S2=/^\)\]\}',?\n/,A2="X-Request-URL";function HC(n){if(n.url)return n.url;let e=A2.toLocaleLowerCase();return n.headers.get(e)}var M2=(()=>{class n{constructor(){this.fetchImpl=O(b_,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=O(we)}handle(t){return new Y(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(I_,s=>i.error(new tr({error:s}))),()=>r.abort()})}doRequest(t,i,r){return b(this,null,function*(){let s=this.createRequestInit(t),o;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,k({signal:i},s)));R2(_),r.next({type:ir.Sent}),o=yield _}catch(_){r.error(new tr({error:_,status:_.status??0,statusText:_.statusText,url:t.urlWithParams,headers:_.headers}));return}let a=new _i(o.headers),c=o.statusText,u=HC(o)??t.urlWithParams,h=o.status,p=null;if(t.reportProgress&&r.next(new Jd({headers:a,status:h,statusText:c,url:u})),o.body){let _=o.headers.get("content-length"),I=[],A=o.body.getReader(),M=0,P,V,L=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>b(this,null,function*(){for(;;){let{done:de,value:q}=yield A.read();if(de)break;if(I.push(q),M+=q.length,t.reportProgress){V=t.responseType==="text"?(V??"")+(P??=new TextDecoder).decode(q,{stream:!0}):void 0;let E=()=>r.next({type:ir.DownloadProgress,total:_?+_:void 0,loaded:M,partialText:V});L?L.run(E):E()}}}));let W=this.concatChunks(I,M);try{let de=o.headers.get("Content-Type")??"";p=this.parseBody(t,W,de)}catch(de){r.error(new tr({error:de,headers:new _i(o.headers),status:o.status,statusText:o.statusText,url:HC(o)??t.urlWithParams}));return}}h===0&&(h=p?WC:0),h>=200&&h<300?(r.next(new ac({body:p,headers:a,status:h,statusText:c,url:u})),r.complete()):r.error(new tr({error:p,headers:a,status:h,statusText:c,url:u}))})}parseBody(t,i,r){switch(t.responseType){case"json":let s=new TextDecoder().decode(i).replace(S2,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>i[s]=o.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),s=0;for(let o of t)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),b_=class{};function I_(){}function R2(n){n.then(I_,I_)}function KC(n,e){return e(n)}function N2(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function P2(n,e,t){return(i,r)=>tn(t,()=>e(i,s=>n(s,r)))}var O2=new B(""),D_=new B(""),x2=new B(""),QC=new B("",{providedIn:"root",factory:()=>!0});function k2(){let n=null;return(e,t)=>{n===null&&(n=(O(O2,{optional:!0})??[]).reduceRight(N2,KC));let i=O(oi);if(O(QC)){let s=i.add();return n(e,t).pipe(Jn(()=>i.remove(s)))}else return n(e,t)}}var GC=(()=>{class n extends sc{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=O(oi),this.contributeToStability=O(QC)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(D_),...this.injector.get(x2,[])]));this.chain=i.reduceRight((r,s)=>P2(r,s,this.injector),KC)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Jn(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(H(Qd),H(pt))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();var F2=/^\)\]\}',?\n/;function L2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var zC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new G(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Te(i.\u0275loadImpl()):z(null)).pipe(ft(()=>new Y(s=>{let o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((A,M)=>o.setRequestHeader(A,M.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let A=t.detectContentTypeHeader();A!==null&&o.setRequestHeader("Content-Type",A)}if(t.responseType){let A=t.responseType.toLowerCase();o.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let A=o.statusText||"OK",M=new _i(o.getAllResponseHeaders()),P=L2(o)||t.url;return c=new Jd({headers:M,status:o.status,statusText:A,url:P}),c},h=()=>{let{headers:A,status:M,statusText:P,url:V}=u(),L=null;M!==C2&&(L=typeof o.response>"u"?o.responseText:o.response),M===0&&(M=L?WC:0);let W=M>=200&&M<300;if(t.responseType==="json"&&typeof L=="string"){let de=L;L=L.replace(F2,"");try{L=L!==""?JSON.parse(L):null}catch(q){L=de,W&&(W=!1,L={error:q,text:L})}}W?(s.next(new ac({body:L,headers:A,status:M,statusText:P,url:V||void 0})),s.complete()):s.error(new tr({error:L,headers:A,status:M,statusText:P,url:V||void 0}))},p=A=>{let{url:M}=u(),P=new tr({error:A,status:o.status||0,statusText:o.statusText||"Unknown Error",url:M||void 0});s.error(P)},m=!1,_=A=>{m||(s.next(u()),m=!0);let M={type:ir.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),t.responseType==="text"&&o.responseText&&(M.partialText=o.responseText),s.next(M)},I=A=>{let M={type:ir.UploadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),s.next(M)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),t.reportProgress&&(o.addEventListener("progress",_),a!==null&&o.upload&&o.upload.addEventListener("progress",I)),o.send(a),s.next({type:ir.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),t.reportProgress&&(o.removeEventListener("progress",_),a!==null&&o.upload&&o.upload.removeEventListener("progress",I)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(H(ao))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),JC=new B(""),V2="XSRF-TOKEN",B2=new B("",{providedIn:"root",factory:()=>V2}),U2="X-XSRF-TOKEN",j2=new B("",{providedIn:"root",factory:()=>U2}),Yd=class{},$2=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(H(et),H(Ut),H(B2))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function H2(n,e){let t=n.url.toLowerCase();if(!O(JC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=O(Yd).getToken(),r=O(j2);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var YC=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(YC||{});function G2(n,e){return{\u0275kind:n,\u0275providers:e}}function T_(...n){let e=[E_,zC,GC,{provide:sc,useExisting:GC},{provide:Qd,useFactory:()=>O(M2,{optional:!0})??O(zC)},{provide:D_,useValue:H2,multi:!0},{provide:JC,useValue:!0},{provide:Yd,useClass:$2}];for(let t of n)e.push(...t.\u0275providers);return pn(e)}var qC=new B("");function z2(){return G2(YC.LegacyInterceptors,[{provide:qC,useFactory:k2},{provide:D_,useExisting:qC,multi:!0}])}var ZC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Vt({providers:[T_(z2())]})}}return n})();var A_=class extends $d{constructor(){super(...arguments),this.supportsDOMEvents=!0}},M_=class n extends A_{static makeCurrent(){RC(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=W2();return t==null?null:K2(t)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gd(document.cookie,e)}},cc=null;function W2(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}function K2(n){return new URL(n,document.baseURI).pathname}var Q2=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Zd=new B(""),n1=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(H(Zd),H(we))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),lc=class{constructor(e){this._doc=e}},C_="ng-app-id",i1=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qd(s),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${C_}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(C_),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(C_,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(H(et),H(Am),H(Rm,8),H(Ut))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),S_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},N_=/%COMP%/g,r1="%COMP%",J2=`_nghost-${r1}`,Y2=`_ngcontent-${r1}`,Z2=!0,X2=new B("",{providedIn:"root",factory:()=>Z2});function eB(n){return Y2.replace(N_,n)}function tB(n){return J2.replace(N_,n)}function s1(n,e){return e.map(t=>t.replace(N_,n))}var XC=(()=>{class n{constructor(t,i,r,s,o,a,c,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=qd(a),this.defaultRenderer=new uc(t,o,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Tn.ShadowDom&&(i=ce(k({},i),{encapsulation:Tn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Xd?r.applyToHost(t):r instanceof dc&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Tn.Emulated:s=new Xd(c,u,i,this.appId,h,o,a,p);break;case Tn.ShadowDom:return new R_(c,u,t,i,o,a,this.nonce,p);default:s=new dc(c,u,i,h,o,a,p);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(H(n1),H(i1),H(Am),H(X2),H(et),H(Ut),H(we),H(Rm))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),uc=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(S_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(e1(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(e1(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new G(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=S_[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=S_[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ei.DashCase|ei.Important)?e.style.setProperty(t,i,r&ei.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ei.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=gi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function e1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var R_=class extends uc{constructor(e,t,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=s1(r.id,r.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends uc{constructor(e,t,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?s1(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xd=class extends dc{constructor(e,t,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,t,i,s,o,a,c,u),this.contentAttr=eB(u),this.hostAttr=tB(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},nB=(()=>{class n extends lc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(H(et))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),iB=(()=>{class n extends lc{constructor(t){super(t),this.delegate=O(IC,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,i,r){return this.delegate.addEventListener(t,i,r)}removeEventListener(t,i,r){return this.delegate.removeEventListener(t,i,r)}static{this.\u0275fac=function(i){return new(i||n)(H(et))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),t1=["alt","control","meta","shift"],rB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},oB=(()=>{class n extends lc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),t1.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),o+=u+".")}),o+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(t,i){let r=rB[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),t1.forEach(o=>{if(o!==r){let a=sB[o];a(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(H(et))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function o1(n,e){return bC(k({rootComponent:n},aB(e)))}function aB(n){return{appProviders:[...hB,...n?.providers??[]],platformProviders:dB}}function cB(){M_.makeCurrent()}function lB(){return new Xn}function uB(){return VD(document),document}var dB=[{provide:Ut,useValue:__},{provide:Mm,useValue:cB,multi:!0},{provide:et,useFactory:uB,deps:[]}];var hB=[{provide:hd,useValue:"root"},{provide:Xn,useFactory:lB,deps:[]},{provide:Zd,useClass:nB,multi:!0,deps:[et,we,Ut]},{provide:Zd,useClass:oB,multi:!0,deps:[et]},{provide:Zd,useClass:iB,multi:!0},XC,i1,n1,{provide:Ys,useExisting:XC},{provide:ao,useClass:Q2,deps:[]},[]];var a1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(H(et))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var se="primary",Cc=Symbol("RouteTitle"),F_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function go(n){return new F_(n)}function _B(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function yB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pn(n[t],e[t]))return!1;return!0}function Pn(n,e){let t=n?L_(n):void 0,i=e?L_(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!y1(n[r],e[r]))return!1;return!0}function L_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function y1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function v1(n){return n.length>0?n[n.length-1]:null}function or(n){return Qp(n)?n:Gr(n)?Te(Promise.resolve(n)):z(n)}var vB={exact:b1,subset:I1},w1={exact:wB,subset:bB,ignored:()=>!0};function c1(n,e,t){return vB[t.paths](n.root,e.root,t.matrixParams)&&w1[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function wB(n,e){return Pn(n,e)}function b1(n,e,t){if(!qr(n.segments,e.segments)||!nh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!b1(n.children[i],e.children[i],t))return!1;return!0}function bB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>y1(n[t],e[t]))}function I1(n,e,t){return E1(n,e,e.segments,t)}function E1(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!qr(r,t)||e.hasChildren()||!nh(r,t,i))}else if(n.segments.length===t.length){if(!qr(n.segments,t)||!nh(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!I1(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!qr(n.segments,r)||!nh(n.segments,r,i)||!n.children[se]?!1:E1(n.children[se],e,s,i)}}function nh(n,e,t){return e.every((i,r)=>w1[t](n[r].parameters,i.parameters))}var vi=class{constructor(e=new De([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){return DB.serialize(this)}},De=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ih(this)}},zr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=go(this.parameters),this._parameterMap}toString(){return T1(this)}};function IB(n,e){return qr(n,e)&&n.every((t,i)=>Pn(t.parameters,e[i].parameters))}function qr(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function EB(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===se&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==se&&(t=t.concat(e(r,i)))}),t}var Sc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:()=>new mo,providedIn:"root"})}}return n})(),mo=class{parse(e){let t=new B_(e);return new vi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${hc(e.root,!0)}`,i=SB(e.queryParams),r=typeof e.fragment=="string"?`#${TB(e.fragment)}`:"";return`${t}${i}${r}`}},DB=new mo;function ih(n){return n.segments.map(e=>T1(e)).join("/")}function hc(n,e){if(!n.hasChildren())return ih(n);if(e){let t=n.children[se]?hc(n.children[se],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==se&&i.push(`${r}:${hc(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=EB(n,(i,r)=>r===se?[hc(n.children[se],!1)]:[`${r}:${hc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${ih(n)}/${t[0]}`:`${ih(n)}/(${t.join("//")})`}}function D1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eh(n){return D1(n).replace(/%3B/gi,";")}function TB(n){return encodeURI(n)}function V_(n){return D1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rh(n){return decodeURIComponent(n)}function l1(n){return rh(n.replace(/\+/g,"%20"))}function T1(n){return`${V_(n.path)}${CB(n.parameters)}`}function CB(n){return Object.entries(n).map(([e,t])=>`;${V_(e)}=${V_(t)}`).join("")}function SB(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${eh(t)}=${eh(r)}`).join("&"):`${eh(t)}=${eh(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var AB=/^[^\/()?;#]+/;function P_(n){let e=n.match(AB);return e?e[0]:""}var MB=/^[^\/()?;=#]+/;function RB(n){let e=n.match(MB);return e?e[0]:""}var NB=/^[^=?&#]+/;function PB(n){let e=n.match(NB);return e?e[0]:""}var OB=/^[^&#]+/;function xB(n){let e=n.match(OB);return e?e[0]:""}var B_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[se]=new De(e,t)),i}parseSegment(){let e=P_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new zr(rh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=RB(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=P_(this.remaining);r&&(i=r,this.capture(i))}e[rh(t)]=rh(i)}parseQueryParam(e){let t=PB(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=xB(this.remaining);o&&(i=o,this.capture(i))}let r=l1(t),s=l1(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=P_(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new G(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[se]:new De([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function C1(n){return n.segments.length>0?new De([],{[se]:n}):n}function S1(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=S1(r);if(i===se&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new De(n.segments,e);return kB(t)}function kB(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new De(n.segments.concat(e.segments),e.children)}return n}function Wr(n){return n instanceof vi}function FB(n,e,t=null,i=null){let r=A1(n);return M1(r,e,t,i)}function A1(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new De(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=C1(i);return e??r}function M1(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return O_(r,r,r,t,i);let s=LB(e);if(s.toRoot())return O_(r,r,new De([],{}),t,i);let o=VB(s,r,n),a=o.processChildren?gc(o.segmentGroup,o.index,s.commands):N1(o.segmentGroup,o.index,s.commands);return O_(r,o.segmentGroup,a,t,i)}function sh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function yc(n){return typeof n=="object"&&n!=null&&n.outlets}function O_(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let o;n===e?o=t:o=R1(n,e,t);let a=C1(S1(o));return new vi(a,s,r)}function R1(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=R1(s,e,t)}),new De(n.segments,i)}var oh=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&sh(i[0]))throw new G(4003,!1);let r=i.find(yc);if(r&&r!==v1(i))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new oh(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new oh(t,e,i)}var ho=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function VB(n,e,t){if(n.isAbsolute)return new ho(e,!0,0);if(!t)return new ho(e,!1,NaN);if(t.parent===null)return new ho(t,!0,0);let i=sh(n.commands[0])?0:1,r=t.segments.length-1+i;return BB(t,r,n.numberOfDoubleDots)}function BB(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new G(4005,!1);r=i.segments.length}return new ho(i,!1,r-s)}function UB(n){return yc(n[0])?n[0].outlets:{[se]:n}}function N1(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return gc(n,e,t);let i=jB(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new De(n.segments.slice(0,i.pathIndex),{});return s.children[se]=new De(n.segments.slice(i.pathIndex),n.children),gc(s,0,r)}else return i.match&&r.length===0?new De(n.segments,{}):i.match&&!n.hasChildren()?U_(n,e,t):i.match?gc(n,0,r):U_(n,e,t)}function gc(n,e,t){if(t.length===0)return new De(n.segments,{});{let i=UB(t),r={};if(Object.keys(i).some(s=>s!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let s=gc(n.children[se],e,t);return new De(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=N1(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new De(n.segments,r)}}function jB(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(yc(a))break;let c=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!d1(c,u,o))return s;i+=2}else{if(!d1(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function U_(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(yc(s)){let c=$B(s.outlets);return new De(i,c)}if(r===0&&sh(t[0])){let c=n.segments[e];i.push(new zr(c.path,u1(t[0]))),r++;continue}let o=yc(s)?s.outlets[se]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&sh(a)?(i.push(new zr(o,u1(a))),r+=2):(i.push(new zr(o,{})),r++)}return new De(i,{})}function $B(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=U_(new De([],{}),0,i))}),e}function u1(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function d1(n,e,t){return n==t.path&&Pn(e,t.parameters)}var mc="imperative",tt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tt||{}),on=class{constructor(e,t){this.id=e,this.url=t}},_o=class extends on{constructor(e,t,i="imperative",r=null){super(e,t),this.type=tt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},On=class extends on{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(zt||{}),ah=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ah||{}),yi=class extends on{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rr=class extends on{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=tt.NavigationSkipped}},vc=class extends on{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ch=class extends on{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j_=class extends on{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$_=class extends on{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},H_=class extends on{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},G_=class extends on{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},z_=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},q_=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},W_=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K_=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Q_=class{constructor(e){this.snapshot=e,this.type=tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},J_=class{constructor(e){this.snapshot=e,this.type=tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=tt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wc=class{},yo=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function HB(n,e){return n.providers&&!n._injector&&(n._injector=Pd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _n(n){return n.outlet||se}function GB(n,e){let t=n.filter(i=>_n(i)===e);return t.push(...n.filter(i=>_n(i)!==e)),t}function Ac(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Y_=class{get injector(){return Ac(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Mc(this.rootInjector),this.attachRef=null}},Mc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Y_(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(H(pt))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Z_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Z_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=X_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return X_(e,this._root).map(t=>t.value)}};function Z_(n,e){if(n===e.value)return e;for(let t of e.children){let i=Z_(n,t);if(i)return i}return null}function X_(n,e){if(n===e.value)return[e];for(let t of e.children){let i=X_(n,t);if(i.length)return i.unshift(e),i}return[]}var Gt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function uo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dh=class extends uh{constructor(e,t){super(e),this.snapshot=t,cy(this,e)}toString(){return this.snapshot.toString()}};function P1(n){let e=zB(n),t=new Ye([new zr("",{})]),i=new Ye({}),r=new Ye({}),s=new Ye({}),o=new Ye(""),a=new sr(t,i,s,o,r,se,n,e.root);return a.snapshot=e.root,new dh(new Gt(a,[]),e)}function zB(n){let e={},t={},i={},r="",s=new fo([],e,i,r,t,se,n,null,{});return new fh("",new Gt(s,[]))}var sr=class{constructor(e,t,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(J(u=>u[Cc]))??z(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>go(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>go(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hh(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),r?.data),n._resolvedData)}:i={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},r&&x1(r)&&(i.resolve[Cc]=r.title),i}var fo=class{get title(){return this.data?.[Cc]}constructor(e,t,i,r,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=go(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fh=class extends uh{constructor(e,t){super(t),this.url=e,cy(this,t)}toString(){return O1(this._root)}};function cy(n,e){e.value._routerState=n,e.children.forEach(t=>cy(n,t))}function O1(n){let e=n.children.length>0?` { ${n.children.map(O1).join(", ")} } `:"";return`${n.value}${e}`}function x_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pn(e.params,t.params)||n.paramsSubject.next(t.params),yB(e.url,t.url)||n.urlSubject.next(t.url),Pn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ey(n,e){let t=Pn(n.params,e.params)&&IB(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||ey(n.parent,e.parent))}function x1(n){return typeof n.title=="string"||n.title===null}var ly=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=O(Mc),this.location=O(jr),this.changeDetector=O(hi),this.inputBinder=O(_h,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ty(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ri]})}}return n})(),ty=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===sr?this.route:e===Mc?this.childContexts:this.parent.get(e,t)}},_h=new B(""),h1=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=xs([i.queryParams,i.params,i.data]).pipe(ft(([s,o,a],c)=>(a=k(k(k({},s),o),a),c===0?z(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let o=EC(i.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function qB(n,e,t){let i=bc(n,e._root,t?t._root:void 0);return new dh(i,e)}function bc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=WB(n,e,t);return new Gt(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>bc(n,a)),o}}let i=KB(e.value),r=e.children.map(s=>bc(n,s));return new Gt(i,r)}}function WB(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return bc(n,i,r);return bc(n,i)})}function KB(n){return new sr(new Ye(n.url),new Ye(n.params),new Ye(n.queryParams),new Ye(n.fragment),new Ye(n.data),n.outlet,n.component,n)}var Ic=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},k1="ngNavigationCancelingError";function ph(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Wr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=F1(!1,zt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function F1(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[k1]=!0,t.cancellationCode=e,t}function QB(n){return L1(n)&&Wr(n.url)}function L1(n){return!!n&&n[k1]}var JB=(n,e,t,i)=>J(r=>(new ny(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),ny=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),x_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=uo(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=uo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=uo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=uo(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new J_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new K_(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(x_(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),x_(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},gh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},po=class{constructor(e,t){this.component=e,this.route=t}};function YB(n,e,t){let i=n._root,r=e?e._root:null;return fc(i,r,t,[i.value])}function ZB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function wo(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!DE(n)?n:e.get(n):i}function fc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=uo(e);return n.children.forEach(o=>{XB(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_c(a,t.getContext(o),r)),r}function XB(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=eU(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new gh(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fc(n,e,a?a.children:null,i,r):fc(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new po(a.outlet.component,o))}else o&&_c(e,a,r),r.canActivateChecks.push(new gh(i)),s.component?fc(n,null,a?a.children:null,i,r):fc(n,null,t,i,r);return r}function eU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!qr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qr(n.url,e.url)||!Pn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ey(n,e)||!Pn(n.queryParams,e.queryParams);case"paramsChange":default:return!ey(n,e)}}function _c(n,e,t){let i=uo(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?_c(o,e.children.getContext(s),t):_c(o,null,t):_c(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new po(e.outlet.component,r)):t.canDeactivateChecks.push(new po(null,r)):t.canDeactivateChecks.push(new po(null,r))}function Rc(n){return typeof n=="function"}function tU(n){return typeof n=="boolean"}function nU(n){return n&&Rc(n.canLoad)}function iU(n){return n&&Rc(n.canActivate)}function rU(n){return n&&Rc(n.canActivateChild)}function sU(n){return n&&Rc(n.canDeactivate)}function oU(n){return n&&Rc(n.canMatch)}function V1(n){return n instanceof Kn||n?.name==="EmptyError"}var th=Symbol("INITIAL_VALUE");function vo(){return ft(n=>xs(n.map(e=>e.pipe(Jt(1),Sa(th)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===th)return th;if(t===!1||aU(t))return t}return!0}),st(e=>e!==th),Jt(1)))}function aU(n){return Wr(n)||n instanceof Ic}function cU(n,e){return Pe(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?z(ce(k({},t),{guardsResult:!0})):lU(o,i,r,n).pipe(Pe(a=>a&&tU(a)?uU(i,s,n,e):z(a)),J(a=>ce(k({},t),{guardsResult:a})))})}function lU(n,e,t,i){return Te(n).pipe(Pe(r=>gU(r.component,r.route,t,e,i)),In(r=>r!==!0,!0))}function uU(n,e,t,i){return Te(e).pipe(Qn(r=>Bi(hU(r.route.parent,i),dU(r.route,i),pU(n,r.path,t),fU(n,r.route,t))),In(r=>r!==!0,!0))}function dU(n,e){return n!==null&&e&&e(new Q_(n)),z(!0)}function hU(n,e){return n!==null&&e&&e(new W_(n)),z(!0)}function fU(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return z(!0);let r=i.map(s=>yu(()=>{let o=Ac(e)??t,a=wo(s,o),c=iU(a)?a.canActivate(e,n):tn(o,()=>a(e,n));return or(c).pipe(In())}));return z(r).pipe(vo())}function pU(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ZB(o)).filter(o=>o!==null).map(o=>yu(()=>{let a=o.guards.map(c=>{let u=Ac(o.node)??t,h=wo(c,u),p=rU(h)?h.canActivateChild(i,n):tn(u,()=>h(i,n));return or(p).pipe(In())});return z(a).pipe(vo())}));return z(s).pipe(vo())}function gU(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return z(!0);let o=s.map(a=>{let c=Ac(e)??r,u=wo(a,c),h=sU(u)?u.canDeactivate(n,e,t,i):tn(c,()=>u(n,e,t,i));return or(h).pipe(In())});return z(o).pipe(vo())}function mU(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return z(!0);let s=r.map(o=>{let a=wo(o,n),c=nU(a)?a.canLoad(e,t):tn(n,()=>a(e,t));return or(c)});return z(s).pipe(vo(),B1(i))}function B1(n){return Ts(je(e=>{if(typeof e!="boolean")throw ph(n,e)}),J(e=>e===!0))}function _U(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return z(!0);let s=r.map(o=>{let a=wo(o,n),c=oU(a)?a.canMatch(e,t):tn(n,()=>a(e,t));return or(c)});return z(s).pipe(vo(),B1(i))}var Ec=class{constructor(e){this.segmentGroup=e||null}},Dc=class extends Error{constructor(e){super(),this.urlTree=e}};function lo(n){return Ps(new Ec(n))}function yU(n){return Ps(new G(4e3,!1))}function vU(n){return Ps(F1(!1,zt.GuardRejected))}var iy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return z(i);if(r.numberOfChildren>1||!r.children[se])return yU(`${e.redirectTo}`);r=r.children[se]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:h,url:p,outlet:m,params:_,data:I,title:A}=r,M=tn(s,()=>a({params:_,data:I,queryParams:c,fragment:u,routeConfig:h,url:p,outlet:m,title:A}));if(M instanceof vi)throw new Dc(M);t=M}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Dc(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new vi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new De(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new G(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},ry={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wU(n,e,t,i,r){let s=U1(n,e,t);return s.matched?(i=HB(e,i),_U(i,e,t,r).pipe(J(o=>o===!0?s:k({},ry)))):z(s)}function U1(n,e,t){if(e.path==="**")return bU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},ry):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||_B)(t,n,e);if(!r)return k({},ry);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?k(k({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function bU(n){return{matched:!0,parameters:n.length>0?v1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function f1(n,e,t,i){return t.length>0&&DU(n,t,i)?{segmentGroup:new De(e,EU(i,new De(t,n.children))),slicedSegments:[]}:t.length===0&&TU(n,t,i)?{segmentGroup:new De(n.segments,IU(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function IU(n,e,t,i){let r={};for(let s of t)if(yh(n,e,s)&&!i[_n(s)]){let o=new De([],{});r[_n(s)]=o}return k(k({},i),r)}function EU(n,e){let t={};t[se]=e;for(let i of n)if(i.path===""&&_n(i)!==se){let r=new De([],{});t[_n(i)]=r}return t}function DU(n,e,t){return t.some(i=>yh(n,e,i)&&_n(i)!==se)}function TU(n,e,t){return t.some(i=>yh(n,e,i))}function yh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function CU(n,e,t){return e.length===0&&!n.children[t]}var sy=class{};function SU(n,e,t,i,r,s,o="emptyOnly"){return new oy(n,e,t,i,r,o,s).recognize()}var AU=31,oy=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new iy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=f1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:i})=>{let r=new Gt(i,t),s=new fh("",r),o=FB(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new fo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(J(i=>({children:i,rootSnapshot:t})),Ui(i=>{if(i instanceof Dc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ec?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(J(o=>o instanceof Gt?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(Qn(o=>{let a=i.children[o],c=GB(t,o);return this.processSegmentGroup(e,c,a,o,r)}),wu((o,a)=>(o.push(...a),o)),ji(null),tg(),Pe(o=>{if(o===null)return lo(i);let a=j1(o);return MU(a),z(a)}))}processSegment(e,t,i,r,s,o,a){return Te(t).pipe(Qn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,s,o,a).pipe(Ui(u=>{if(u instanceof Ec)return z(null);throw u}))),In(c=>!!c),Ui(c=>{if(V1(c))return CU(i,r,s)?z(new sy):lo(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,c){return _n(i)!==o&&(o===se||!yh(r,s,i))?lo(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,c):lo(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=U1(t,r,s);if(!c)return lo(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AU&&(this.allowRedirects=!1));let _=new fo(s,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,p1(r),_n(r),r.component??r._loadedComponent??null,r,g1(r)),I=hh(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(I.params),_.data=Object.freeze(I.data);let A=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(r,A).pipe(Pe(M=>this.processSegment(e,i,t,M.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=wU(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(ft(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ft(({routes:u})=>{let h=i._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:_}=c,I=new fo(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,p1(i),_n(i),i.component??i._loadedComponent??null,i,g1(i)),A=hh(I,o,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let{segmentGroup:M,slicedSegments:P}=f1(t,m,_,u);if(P.length===0&&M.hasChildren())return this.processChildren(h,u,M,I).pipe(J(L=>new Gt(I,L)));if(u.length===0&&P.length===0)return z(new Gt(I,[]));let V=_n(i)===s;return this.processSegment(h,u,M,P,V?se:s,!0,I).pipe(J(L=>new Gt(I,L instanceof Gt?[L]:[])))}))):lo(t)))}getChildConfig(e,t,i){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):mU(e,t,i,this.urlSerializer).pipe(Pe(r=>r?this.configLoader.loadChildren(e,t).pipe(je(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):vU(t))):z({routes:[],injector:e})}};function MU(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function RU(n){let e=n.value.routeConfig;return e&&e.path===""}function j1(n){let e=[],t=new Set;for(let i of n){if(!RU(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=j1(i.children);e.push(new Gt(i.value,r))}return e.filter(i=>!t.has(i))}function p1(n){return n.data||{}}function g1(n){return n.resolve||{}}function NU(n,e,t,i,r,s){return Pe(o=>SU(n,e,t,i,o.extractedUrl,r,s).pipe(J(({state:a,tree:c})=>ce(k({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function PU(n,e){return Pe(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return z(t);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of $1(c))o.add(u);let a=0;return Te(o).pipe(Qn(c=>s.has(c)?OU(c,i,n,e):(c.data=hh(c,c.parent,n).resolve,z(void 0))),je(()=>a++),Fs(1),Pe(c=>a===o.size?z(t):It))})}function $1(n){let e=n.children.map(t=>$1(t)).flat();return[n,...e]}function OU(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!x1(r)&&(s[Cc]=r.title),xU(s,n,e,i).pipe(J(o=>(n._resolvedData=o,n.data=hh(n,n.parent,t).resolve,null)))}function xU(n,e,t,i){let r=L_(n);if(r.length===0)return z({});let s={};return Te(r).pipe(Pe(o=>kU(n[o],e,t,i).pipe(In(),je(a=>{if(a instanceof Ic)throw ph(new mo,a);s[o]=a}))),Fs(1),Xp(s),Ui(o=>V1(o)?It:Ps(o)))}function kU(n,e,t,i){let r=Ac(e)??i,s=wo(n,r),o=s.resolve?s.resolve(e,t):tn(r,()=>s(e,t));return or(o)}function k_(n){return ft(e=>{let t=n(e);return t?Te(t).pipe(J(()=>e)):z(e)})}var H1=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===se);return i}getResolvedTitleForRoute(t){return t.data[Cc]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:()=>O(FU),providedIn:"root"})}}return n})(),FU=(()=>{class n extends H1{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(H(a1))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nc=new B("",{providedIn:"root",factory:()=>({})}),LU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Pt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ot],decls:1,vars:0,template:function(i,r){i&1&&ro(0,"router-outlet")},dependencies:[ly],encapsulation:2})}}return n})();function uy(n){let e=n.children&&n.children.map(uy),t=e?ce(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=LU),t}var Tc=new B(""),dy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(jd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=or(t.loadComponent()).pipe(J(G1),je(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Jn(()=>{this.componentLoaders.delete(t)})),r=new Ss(i,()=>new Ue).pipe(Cs());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=VU(i,this.compiler,t,this.onLoadEndListener).pipe(Jn(()=>{this.childrenLoaders.delete(i)})),o=new Ss(s,()=>new Ue).pipe(Cs());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VU(n,e,t,i){return or(n.loadChildren()).pipe(J(G1),Pe(r=>r instanceof Ba||Array.isArray(r)?z(r):Te(e.compileModuleAsync(r))),J(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Tc,[],{optional:!0,self:!0}).flat()),{routes:o.map(uy),injector:s}}))}function BU(n){return n&&typeof n=="object"&&"default"in n}function G1(n){return BU(n)?n.default:n}var hy=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:()=>O(UU),providedIn:"root"})}}return n})(),UU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),z1=new B(""),q1=new B("");function jU(n,e,t){let i=n.get(q1),r=n.get(et);return n.get(we).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),$U(n))),{onViewTransitionCreated:c}=i;return c&&tn(n,()=>c({transition:a,from:e,to:t})),o})}function $U(n){return new Promise(e=>{Od({read:()=>setTimeout(e)},{injector:n})})}var HU=new B(""),fy=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ue,this.transitionAbortSubject=new Ue,this.configLoader=O(dy),this.environmentInjector=O(pt),this.urlSerializer=O(Sc),this.rootContexts=O(Mc),this.location=O(co),this.inputBindingEnabled=O(_h,{optional:!0})!==null,this.titleStrategy=O(H1),this.options=O(Nc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(hy),this.createViewTransition=O(z1,{optional:!0}),this.navigationErrorHandler=O(HU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let t=r=>this.events.next(new z_(r)),i=r=>this.events.next(new q_(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ce(k(k({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:mc,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(st(s=>s.id!==0),J(s=>ce(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ft(s=>{let o=!1,a=!1;return z(s).pipe(ft(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",zt.SupersededByNewNavigation),It;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ce(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new rr(c.id,this.urlSerializer.serialize(c.rawUrl),p,ah.IgnoredSameUrlNavigation)),c.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(ft(p=>{let m=this.transitions?.getValue();return this.events.next(new _o(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?It:Promise.resolve(p)}),NU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),je(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ce(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new ch(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:m,source:_,restoredState:I,extras:A}=c,M=new _o(p,this.urlSerializer.serialize(m),_,I);this.events.next(M);let P=P1(this.rootComponentType).snapshot;return this.currentTransition=s=ce(k({},c),{targetSnapshot:P,urlAfterRedirects:m,extras:ce(k({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,z(s)}else{let p="";return this.events.next(new rr(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ah.IgnoredByUrlHandlingStrategy)),c.resolve(!1),It}}),je(c=>{let u=new j_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),J(c=>(this.currentTransition=s=ce(k({},c),{guards:YB(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),cU(this.environmentInjector,c=>this.events.next(c)),je(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw ph(this.urlSerializer,c.guardsResult);let u=new $_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),st(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",zt.GuardRejected),!1)),k_(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(je(u=>{let h=new H_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),ft(u=>{let h=!1;return z(u).pipe(PU(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",zt.NoDataFromResolver)}}))}),je(u=>{let h=new G_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),k_(c=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(je(m=>{h.component=m}),J(()=>{})));for(let m of h.children)p.push(...u(m));return p};return xs(u(c.targetSnapshot.root)).pipe(ji(null),Jt(1))}),k_(()=>this.afterPreactivation()),ft(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?Te(h).pipe(J(()=>s)):z(s)}),J(c=>{let u=qB(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ce(k({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),je(()=>{this.events.next(new wc)}),JB(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Jt(1),je({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new On(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Ar(this.transitionAbortSubject.pipe(je(c=>{throw c}))),Jn(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",zt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ui(c=>{if(a=!0,L1(c))this.events.next(new yi(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),QB(c)?this.events.next(new yo(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new vc(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let h=tn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof Ic){let{message:p,cancellationCode:m}=ph(this.urlSerializer,h);this.events.next(new yi(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new yo(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(c);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return It}))}))}cancelNavigationTransition(t,i,r){let s=new yi(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GU(n){return n!==mc}var zU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:()=>O(qU),providedIn:"root"})}}return n})(),ay=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},qU=(()=>{class n extends ay{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(n)))(r||n)}})()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),W1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:()=>O(WU),providedIn:"root"})}}return n})(),WU=(()=>{class n extends W1{constructor(){super(...arguments),this.location=O(co),this.urlSerializer=O(Sc),this.options=O(Nc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(hy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=P1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof _o)this.stateMemento=this.createStateMemento();else if(t instanceof rr)this.rawUrlTree=i.initialUrl;else if(t instanceof ch){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof wc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof yi&&(t.code===zt.GuardRejected||t.code===zt.NoDataFromResolver)?this.restoreHistory(i):t instanceof vc?this.restoreHistory(i,!0):t instanceof On&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof vi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=k(k({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(n)))(r||n)}})()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(pc||{});function K1(n,e){n.events.pipe(st(t=>t instanceof On||t instanceof yi||t instanceof vc||t instanceof rr),J(t=>t instanceof On||t instanceof rr?pc.COMPLETE:(t instanceof yi?t.code===zt.Redirect||t.code===zt.SupersededByNewNavigation:!1)?pc.REDIRECTING:pc.FAILED),st(t=>t!==pc.REDIRECTING),Jt(1)).subscribe(()=>{e()})}function KU(n){throw n}var QU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},At=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(Bd),this.stateManager=O(W1),this.options=O(Nc,{optional:!0})||{},this.pendingTasks=O(oi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(fy),this.urlSerializer=O(Sc),this.location=O(co),this.urlHandlingStrategy=O(hy),this._events=new Ue,this.errorHandler=this.options.errorHandler||KU,this.navigated=!1,this.routeReuseStrategy=O(zU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Tc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(_h,{optional:!0}),this.eventsSubscription=new Le,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof yi&&i.code!==zt.Redirect&&i.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof On)this.navigated=!0;else if(i instanceof yo){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=k({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||GU(r.source)},o);this.scheduleNavigation(a,mc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}ZU(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let c=k({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(uy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=r?r.snapshot:this.routerState.snapshot.root;p=A1(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return M1(p,t,h,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Wr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,mc,null,i)}navigate(t,i={skipLocationChange:!1}){return YU(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=k({},QU):i===!1?r=k({},JU):r=i,Wr(t))return c1(this.currentUrlTree,t,r);let s=this.parseUrl(t);return c1(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((p,m)=>{a=p,c=m});let h=this.pendingTasks.add();return K1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new G(4008,!1)}function ZU(n){return!(n instanceof wc)&&!(n instanceof yo)}var Q1=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new Ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof On&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:GD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Wr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(Z(At),Z(sr),Id("tabindex"),Z(ai),Z(rn),Z(mi))}}static{this.\u0275dir=Oe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Je("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&sn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",er],skipLocationChange:[2,"skipLocationChange","skipLocationChange",er],replaceUrl:[2,"replaceUrl","replaceUrl",er],routerLink:"routerLink"},standalone:!0,features:[n_,ri]})}}return n})();var mh=class{};var XU=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(st(t=>t instanceof On),Qn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Pd(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Te(r).pipe(ks())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=z(null);let s=r.pipe(Pe(o=>o===null?z(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return Te([s,o]).pipe(ks())}else return s})}static{this.\u0275fac=function(i){return new(i||n)(H(At),H(jd),H(pt),H(mh),H(dy))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),J1=new B(""),ej=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof On?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof rr&&t.code===ah.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lh&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lh(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){dT()}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function Y1(n,...e){return pn([{provide:Tc,multi:!0,useValue:n},[],{provide:sr,useFactory:Z1,deps:[At]},{provide:Xa,multi:!0,useFactory:X1},e.map(t=>t.\u0275providers)])}function Z1(n){return n.routerState.root}function Pc(n,e){return{\u0275kind:n,\u0275providers:e}}function X1(){let n=O(Xe);return e=>{let t=n.get(di);if(e!==t.components[0])return;let i=n.get(At),r=n.get(eS);n.get(py)===1&&i.initialNavigation(),n.get(tS,null,le.Optional)?.setUpPreloading(),n.get(J1,null,le.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var eS=new B("",{factory:()=>new Ue}),py=new B("",{providedIn:"root",factory:()=>1});function tj(){return Pc(2,[{provide:py,useValue:0},{provide:Ud,multi:!0,deps:[Xe],useFactory:e=>{let t=e.get(NC,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(At),s=e.get(eS);K1(r,()=>{i(!0)}),e.get(fy).afterPreactivation=()=>(i(!0),s.closed?z(void 0):s),r.initialNavigation()}))}}])}function nj(){return Pc(3,[{provide:Ud,multi:!0,useFactory:()=>{let e=O(At);return()=>{e.setUpLocationChangeListener()}}},{provide:py,useValue:2}])}var tS=new B("");function ij(n){return Pc(0,[{provide:tS,useExisting:XU},{provide:mh,useExisting:n}])}function rj(){return Pc(8,[h1,{provide:_h,useExisting:h1}])}function sj(n){let e=[{provide:z1,useValue:jU},{provide:q1,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return Pc(9,e)}var m1=new B("ROUTER_FORROOT_GUARD"),oj=[co,{provide:Sc,useClass:mo},At,Mc,{provide:sr,useFactory:Z1,deps:[At]},dy,[]],vh=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[oj,[],{provide:Tc,multi:!0,useValue:t},{provide:m1,useFactory:uj,deps:[[At,new gt,new fm]]},{provide:Nc,useValue:i||{}},i?.useHash?cj():lj(),aj(),i?.preloadingStrategy?ij(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?dj(i):[],i?.bindToComponentInputs?rj().\u0275providers:[],i?.enableViewTransitions?sj().\u0275providers:[],hj()]}}static forChild(t){return{ngModule:n,providers:[{provide:Tc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(H(m1,8))}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Vt({})}}return n})();function aj(){return{provide:J1,useFactory:()=>{let n=O(VC),e=O(we),t=O(Nc),i=O(fy),r=O(Sc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ej(r,i,n,e,t)}}}function cj(){return{provide:mi,useClass:OC}}function lj(){return{provide:mi,useClass:m_}}function uj(n){return"guarded"}function dj(n){return[n.initialNavigation==="disabled"?nj().\u0275providers:[],n.initialNavigation==="enabledBlocking"?tj().\u0275providers:[]]}var _1=new B("");function hj(){return[{provide:_1,useFactory:X1},{provide:Xa,multi:!0,useExisting:_1}]}var dS=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(Z(ai),Z(rn))}}static{this.\u0275dir=Oe({type:n})}}return n})(),Ah=(()=>{class n extends dS{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(n)))(r||n)}})()}static{this.\u0275dir=Oe({type:n,features:[jt]})}}return n})(),Bc=new B(""),fj={provide:Bc,useExisting:fn(()=>my),multi:!0},my=(()=>{class n extends Ah{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(n)))(r||n)}})()}static{this.\u0275dir=Oe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&Je("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[ui([fj]),jt]})}}return n})(),pj={provide:Bc,useExisting:fn(()=>Mh),multi:!0};function gj(){let n=gi()?gi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var mj=new B(""),Mh=(()=>{class n extends dS{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gj())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(Z(ai),Z(rn),Z(mj,8))}}static{this.\u0275dir=Oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Je("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ui([pj]),jt]})}}return n})();function _j(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var _y=new B(""),hS=new B("");function yj(n){return _j(n.value)?{required:!0}:null}function nS(n){return null}function fS(n){return n!=null}function pS(n){return Gr(n)?Te(n):n}function gS(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function mS(n,e){return e.map(t=>t(n))}function vj(n){return!n.validate}function _S(n){return n.map(e=>vj(e)?e:t=>e.validate(t))}function wj(n){if(!n)return null;let e=n.filter(fS);return e.length==0?null:function(t){return gS(mS(t,e))}}function yy(n){return n!=null?wj(_S(n)):null}function bj(n){if(!n)return null;let e=n.filter(fS);return e.length==0?null:function(t){let i=mS(t,e).map(pS);return Jp(i).pipe(J(gS))}}function vy(n){return n!=null?bj(_S(n)):null}function iS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ij(n){return n._rawValidators}function Ej(n){return n._rawAsyncValidators}function gy(n){return n?Array.isArray(n)?n:[n]:[]}function Ih(n,e){return Array.isArray(n)?n.includes(e):n===e}function rS(n,e){let t=gy(e);return gy(n).forEach(r=>{Ih(t,r)||t.push(r)}),t}function sS(n,e){return gy(e).filter(t=>!Ih(n,t))}var Eh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Eo=class extends Eh{get formDirective(){return null}get path(){return null}},Vc=class extends Eh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Dh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Dj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eJ=ce(k({},Dj),{"[class.ng-submitted]":"isSubmitted"}),Rh=(()=>{class n extends Dh{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(Z(Vc,2))}}static{this.\u0275dir=Oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Rn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[jt]})}}return n})(),yS=(()=>{class n extends Dh{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(Z(Eo,10))}}static{this.\u0275dir=Oe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Rn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[jt]})}}return n})();var Oc="VALID",bh="INVALID",bo="PENDING",xc="DISABLED",Do=class{},Th=class extends Do{constructor(e,t){super(),this.value=e,this.source=t}},Fc=class extends Do{constructor(e,t){super(),this.pristine=e,this.source=t}},Lc=class extends Do{constructor(e,t){super(),this.touched=e,this.source=t}},Io=class extends Do{constructor(e,t){super(),this.status=e,this.source=t}};function vS(n){return(Nh(n)?n.validators:n)||null}function Tj(n){return Array.isArray(n)?yy(n):n||null}function wS(n,e){return(Nh(e)?e.asyncValidators:n)||null}function Cj(n){return Array.isArray(n)?vy(n):n||null}function Nh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Sj(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new G(1e3,"");if(!i[t])throw new G(1001,"")}function Aj(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new G(1002,"")})}var Ch=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=tc(()=>this.statusReactive()),this.statusReactive=Ja(void 0),this._pristine=tc(()=>this.pristineReactive()),this.pristineReactive=Ja(!0),this._touched=tc(()=>this.touchedReactive()),this.touchedReactive=Ja(!1),this._events=new Ue,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return fi(this.statusReactive)}set status(e){fi(()=>this.statusReactive.set(e))}get valid(){return this.status===Oc}get invalid(){return this.status===bh}get pending(){return this.status==bo}get disabled(){return this.status===xc}get enabled(){return this.status!==xc}get pristine(){return fi(this.pristineReactive)}set pristine(e){fi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return fi(this.touchedReactive)}set touched(e){fi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sS(e,this._rawAsyncValidators))}hasValidator(e){return Ih(this._rawValidators,e)}hasAsyncValidator(e){return Ih(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(k({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Lc(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Lc(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(k({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Fc(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Fc(!0,i))}markAsPending(e={}){this.status=bo;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Io(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xc,this.errors=null,this._forEachChild(r=>{r.disable(ce(k({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Th(this.value,i)),this._events.next(new Io(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this._forEachChild(i=>{i.enable(ce(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oc||this.status===bo)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Th(this.value,t)),this._events.next(new Io(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xc:Oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=pS(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Io(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?xc:this.errors?bh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bo)?bo:this._anyControlsHaveStatus(bh)?bh:Oc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Fc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Lc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Tj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Cj(this._rawAsyncValidators)}},Sh=class extends Ch{constructor(e,t,i){super(vS(t),wS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Aj(this,!0,e),Object.keys(e).forEach(i=>{Sj(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var wy=new B("CallSetDisabledState",{providedIn:"root",factory:()=>by}),by="always";function Mj(n,e){return[...e.path,n]}function bS(n,e,t=by){IS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Nj(n,e),Oj(n,e),Pj(n,e),Rj(n,e)}function oS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Rj(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function IS(n,e){let t=Ij(n);e.validator!==null?n.setValidators(iS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Ej(n);e.asyncValidator!==null?n.setAsyncValidators(iS(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();oS(e._rawValidators,r),oS(e._rawAsyncValidators,r)}function Nj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ES(n,e)})}function Pj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ES(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ES(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Oj(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function xj(n,e){n==null,IS(n,e)}function kj(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Fj(n){return Object.getPrototypeOf(n.constructor)===Ah}function Lj(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Vj(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===Mh?t=s:Fj(s)?i=s:r=s}),r||i||t||null}var Bj={provide:Eo,useExisting:fn(()=>Iy)},kc=Promise.resolve(),Iy=(()=>{class n extends Eo{get submitted(){return fi(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=tc(()=>this.submittedReactive()),this.submittedReactive=Ja(!1),this._directives=new Set,this.ngSubmit=new Ve,this.form=new Sh({},yy(t),vy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kc.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),bS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kc.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){kc.then(()=>{let i=this._findContainer(t.path),r=new Sh({});xj(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kc.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){kc.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Lj(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(Z(_y,10),Z(hS,10),Z(wy,8))}}static{this.\u0275dir=Oe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&Je("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ui([Bj]),jt]})}}return n})();function aS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function cS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Uj=class extends Ch{constructor(e=null,t,i){super(vS(t),wS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(cS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){cS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jj={provide:Vc,useExisting:fn(()=>Uc)},lS=Promise.resolve(),Uc=(()=>{class n extends Vc{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Uj,this._registered=!1,this.name="",this.update=new Ve,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Vj(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),kj(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){lS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&er(i);lS.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Mj(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(Z(Eo,9),Z(_y,10),Z(hS,10),Z(Bc,10),Z(hi,8),Z(wy,8))}}static{this.\u0275dir=Oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ui([jj]),jt,ri]})}}return n})(),DS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Oe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var $j={provide:Bc,useExisting:fn(()=>Ph),multi:!0};function TS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Hj(n){return n.split(":")[0]}var Ph=(()=>{class n extends Ah{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=TS(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Hj(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(n)))(r||n)}})()}static{this.\u0275dir=Oe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&Je("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ui([$j]),jt]})}}return n})(),CS=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(TS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(Z(rn),Z(ai),Z(Ph,9))}}static{this.\u0275dir=Oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Gj={provide:Bc,useExisting:fn(()=>SS),multi:!0};function uS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function zj(n){return n.split(":")[0]}var SS=(()=>{class n extends Ah{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);r.push(u)}}else{let o=i.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);r.push(u)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=zj(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(n)))(r||n)}})()}static{this.\u0275dir=Oe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&Je("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ui([Gj]),jt]})}}return n})(),AS=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(uS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(uS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(Z(rn),Z(ai),Z(SS,9))}}static{this.\u0275dir=Oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var qj=(()=>{class n{constructor(){this._validator=nS}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):nS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Oe({type:n,features:[ri]})}}return n})();var Wj={provide:_y,useExisting:fn(()=>Ey),multi:!0};var Ey=(()=>{class n extends qj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=er,this.createValidator=t=>yj}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Mn(n)))(r||n)}})()}static{this.\u0275dir=Oe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&sn("required",r._enabled?"":null)},inputs:{required:"required"},features:[ui([Wj]),jt]})}}return n})();var Kj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Vt({})}}return n})();var Oh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wy,useValue:t.callSetDisabledState??by}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Vt({imports:[Kj]})}}return n})();var NS=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Qj=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(m=64)),i.push(t[h],t[p],t[m],t[_])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Qj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||u==null||p==null)throw new Ty;let m=s<<2|a>>4;if(i.push(m),u!==64){let _=a<<4&240|u>>2;if(i.push(_),p!==64){let I=u<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ty=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Jj=function(n){let e=NS(n);return PS.encodeByteArray(e,!0)},jc=function(n){return Jj(n).replace(/\./g,"")},Sy=function(n){try{return PS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Zj=()=>Yj().__FIREBASE_DEFAULTS__,Xj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},e$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Sy(n[1]);return e&&JSON.parse(e)},kh=()=>{try{return Zj()||Xj()||e$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ay=n=>{var e,t;return(t=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},OS=n=>{let e=Ay(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},My=()=>{var n;return(n=kh())===null||n===void 0?void 0:n.config},Ry=n=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${n}`]};var xh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function xS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[jc(JSON.stringify(t)),jc(JSON.stringify(o)),""].join(".")}function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function t$(){var n;let e=(n=kh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){let n=nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function US(){return!t$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ny(){try{return typeof indexedDB=="object"}catch{return!1}}function jS(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var n$="FirebaseError",qt=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=n$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wi.prototype.create)}},wi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?i$(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new qt(r,a,i)}};function i$(n,e){return n.replace(r$,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var r$=/\{\$([^}]+)}/g;function $S(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kr(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(RS(s)&&RS(o)){if(!Kr(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function RS(n){return n!==null&&typeof n=="object"}function $c(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function To(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Co(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function HS(n,e){let t=new Cy(n,e);return t.subscribe.bind(t)}var Cy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");s$(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Dy),r.error===void 0&&(r.error=Dy),r.complete===void 0&&(r.complete=Dy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function s$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dy(){}var iJ=4*60*60*1e3;function at(n){return n&&n._delegate?n._delegate:n}var an=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Qr="[DEFAULT]";var Py=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new xh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a$(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:o$(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function o$(n){return n===Qr?void 0:n}function a$(n){return n.instantiationMode==="EAGER"}var Fh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Py(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var c$=[],pe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(pe||{}),l$={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},u$=pe.INFO,d$={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},h$=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=d$[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ar=class{constructor(e){this.name=e,this._logLevel=u$,this._logHandler=h$,this._userLogHandler=null,c$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var f$=(n,e)=>e.some(t=>n instanceof t),GS,zS;function p$(){return GS||(GS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g$(){return zS||(zS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var qS=new WeakMap,xy=new WeakMap,WS=new WeakMap,Oy=new WeakMap,Fy=new WeakMap;function m$(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(xn(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&qS.set(t,n)}).catch(()=>{}),Fy.set(e,n),e}function _$(n){if(xy.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});xy.set(n,e)}var ky={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KS(n){ky=n(ky)}function y$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Lh(this),e,...t);return WS.set(i,e.sort?e.sort():[e]),xn(i)}:g$().includes(n)?function(...e){return n.apply(Lh(this),e),xn(qS.get(this))}:function(...e){return xn(n.apply(Lh(this),e))}}function v$(n){return typeof n=="function"?y$(n):(n instanceof IDBTransaction&&_$(n),f$(n,p$())?new Proxy(n,ky):n)}function xn(n){if(n instanceof IDBRequest)return m$(n);if(Oy.has(n))return Oy.get(n);let e=v$(n);return e!==n&&(Oy.set(n,e),Fy.set(e,n)),e}var Lh=n=>Fy.get(n);function JS(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=xn(o);return i&&o.addEventListener("upgradeneeded",c=>{i(xn(o.result),c.oldVersion,c.newVersion,xn(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var w$=["get","getKey","getAll","getAllKeys","count"],b$=["put","add","delete","clear"],Ly=new Map;function QS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=b$.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||w$.includes(t)))return;let s=function(o,...a){return b(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),r&&c.done]))[0]})};return Ly.set(e,s),s}KS(n=>ce(k({},n),{get:(e,t,i)=>QS(e,t)||n.get(e,t,i),has:(e,t)=>!!QS(e,t)||n.has(e,t)}));var By=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I$(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function I$(n){let e=n.getComponent();return e?.type==="VERSION"}var Uy="@firebase/app",YS="0.10.12";var bi=new ar("@firebase/app"),E$="@firebase/app-compat",D$="@firebase/analytics-compat",T$="@firebase/analytics",C$="@firebase/app-check-compat",S$="@firebase/app-check",A$="@firebase/auth",M$="@firebase/auth-compat",R$="@firebase/database",N$="@firebase/data-connect",P$="@firebase/database-compat",O$="@firebase/functions",x$="@firebase/functions-compat",k$="@firebase/installations",F$="@firebase/installations-compat",L$="@firebase/messaging",V$="@firebase/messaging-compat",B$="@firebase/performance",U$="@firebase/performance-compat",j$="@firebase/remote-config",$$="@firebase/remote-config-compat",H$="@firebase/storage",G$="@firebase/storage-compat",z$="@firebase/firestore",q$="@firebase/vertexai-preview",W$="@firebase/firestore-compat",K$="firebase",Q$="10.14.0";var jy="[DEFAULT]",J$={[Uy]:"fire-core",[E$]:"fire-core-compat",[T$]:"fire-analytics",[D$]:"fire-analytics-compat",[S$]:"fire-app-check",[C$]:"fire-app-check-compat",[A$]:"fire-auth",[M$]:"fire-auth-compat",[R$]:"fire-rtdb",[N$]:"fire-data-connect",[P$]:"fire-rtdb-compat",[O$]:"fire-fn",[x$]:"fire-fn-compat",[k$]:"fire-iid",[F$]:"fire-iid-compat",[L$]:"fire-fcm",[V$]:"fire-fcm-compat",[B$]:"fire-perf",[U$]:"fire-perf-compat",[j$]:"fire-rc",[$$]:"fire-rc-compat",[H$]:"fire-gcs",[G$]:"fire-gcs-compat",[z$]:"fire-fst",[W$]:"fire-fst-compat",[q$]:"fire-vertex","fire-js":"fire-js",[K$]:"fire-js-all"};var Hc=new Map,Y$=new Map,$y=new Map;function ZS(n,e){try{n.container.addComponent(e)}catch(t){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lr(n){let e=n.name;if($y.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;$y.set(e,n);for(let t of Hc.values())ZS(t,n);for(let t of Y$.values())ZS(t,n);return!0}function zc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kn(n){return n.settings!==void 0}var Z$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new wi("app","Firebase",Z$);var Hy=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}};var ur=Q$;function qy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:jy,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw cr.create("bad-app-name",{appName:String(r)});if(t||(t=My()),!t)throw cr.create("no-options");let s=Hc.get(r);if(s){if(Kr(t,s.options)&&Kr(i,s.config))return s;throw cr.create("duplicate-app",{appName:r})}let o=new Fh(r);for(let c of $y.values())o.addComponent(c);let a=new Hy(t,i,o);return Hc.set(r,a),a}function So(n=jy){let e=Hc.get(n);if(!e&&n===jy&&My())return qy();if(!e)throw cr.create("no-app",{appName:n});return e}function Vh(){return Array.from(Hc.values())}function ze(n,e,t){var i;let r=(i=J$[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}lr(new an(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var X$="firebase-heartbeat-database",eH=1,Gc="firebase-heartbeat-store",Vy=null;function nA(){return Vy||(Vy=JS(X$,eH,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gc)}catch(t){console.warn(t)}}}}).catch(n=>{throw cr.create("idb-open",{originalErrorMessage:n.message})})),Vy}function tH(n){return b(this,null,function*(){try{let t=(yield nA()).transaction(Gc),i=yield t.objectStore(Gc).get(iA(n));return yield t.done,i}catch(e){if(e instanceof qt)bi.warn(e.message);else{let t=cr.create("idb-get",{originalErrorMessage:e?.message});bi.warn(t.message)}}})}function XS(n,e){return b(this,null,function*(){try{let i=(yield nA()).transaction(Gc,"readwrite");yield i.objectStore(Gc).put(e,iA(n)),yield i.done}catch(t){if(t instanceof qt)bi.warn(t.message);else{let i=cr.create("idb-set",{originalErrorMessage:t?.message});bi.warn(i.message)}}})}function iA(n){return`${n.name}!${n.options.appId}`}var nH=1024,iH=30*24*60*60*1e3,Gy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new zy(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=iH}),this._storage.overwrite(this._heartbeatsCache))}catch(i){bi.warn(i)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=eA(),{heartbeatsToSend:i,unsentEntries:r}=rH(this._heartbeatsCache.heartbeats),s=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return bi.warn(t),""}})}};function eA(){return new Date().toISOString().substring(0,10)}function rH(n,e=nH){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),tA(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),tA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var zy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Ny()?jS().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield tH(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return XS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return XS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function tA(n){return jc(JSON.stringify({version:2,heartbeats:n})).length}function sH(n){lr(new an("platform-logger",e=>new By(e),"PRIVATE")),lr(new an("heartbeat",e=>new Gy(e),"PRIVATE")),ze(Uy,YS,n),ze(Uy,YS,"esm2017"),ze("fire-js","")}sH("");var oH="firebase",aH="10.14.0";ze(oH,aH,"app");var Yr=new ti("ANGULARFIRE2_VERSION");function Uh(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var qc=(n,e)=>{let t=e?[e]:Vh(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Mo=class{constructor(){return qc(cH)}},cH="app-check";function Ao(){}var Bh=class{zone;delegate;constructor(e,t=Wp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},Wy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao)),t.pipe(je({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ro=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Bh(Zone.current)),this.insideAngular=t.run(()=>new Bh(Zone.current,nu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(H(we))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function lH(n){return jh().ngZone.runOutsideAngular(()=>n())}function Jr(n){return jh().ngZone.run(()=>n())}function uH(n){return dH(jh())(n)}function dH(n){return function(t){return t=t.lift(new Wy(n.ngZone)),t.pipe(Vi(n.outsideAngular),Li(n.insideAngular))}}var hH=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Jr(()=>n.apply(void 0,i))},Wt=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=Jr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao))),i[s]=hH(i[s],t));let r=lH(()=>n.apply(this,i));if(!e)if(r instanceof Y){let s=jh();return r.pipe(Vi(s.outsideAngular),Li(s.insideAngular))}else return Jr(()=>r);return r instanceof Y?r.pipe(uH):r instanceof Promise?Jr(()=>new Promise((s,o)=>r.then(a=>Jr(()=>s(a)),a=>Jr(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Jr(()=>r)};var Ii=class{constructor(e){return e}},Zr=class{constructor(){return Vh()}};function fH(n){return n&&n.length===1?n[0]:new Ii(So())}var Ky=new B("angularfire2._apps"),pH={provide:Ii,useFactory:fH,deps:[[new gt,Ky]]},gH={provide:Zr,deps:[[new gt,Ky]]};function mH(n){return(e,t)=>{let i=t.get(Ut);ze("angularfire",Yr.full,"core"),ze("angularfire",Yr.full,"app"),ze("angular",mC.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Ii(r)}}function rA(n,...e){return pn([pH,gH,{provide:Ky,useFactory:mH(n),multi:!0,deps:[we,Xe,Ro,...e]}])}var sA=Wt(qy,!0);function EA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var DA=EA,TA=new wi("auth","Firebase",EA());var Wh=new ar("@firebase/auth");function _H(n,...e){Wh.logLevel<=pe.WARN&&Wh.warn(`Auth (${ur}): ${n}`,...e)}function Hh(n,...e){Wh.logLevel<=pe.ERROR&&Wh.error(`Auth (${ur}): ${n}`,...e)}function Ln(n,...e){throw mv(n,...e)}function Xr(n,...e){return mv(n,...e)}function CA(n,e,t){let i=Object.assign(Object.assign({},DA()),{[e]:t});return new wi("auth","Firebase",i).create(e,{appName:n.name})}function hr(n){return CA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mv(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return TA.create(n,...e)}function ee(n,e,...t){if(!n)throw mv(e,...t)}function Ei(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Hh(e),new Error(e)}function fr(n,e){n||Ei(e)}function Zy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yH(){return oA()==="http:"||oA()==="https:"}function oA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function vH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yH()||LS()||"connection"in navigator)?navigator.onLine:!0}function wH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var es=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,fr(t>e,"Short delay should be less than long delay!"),this.isMobile=kS()||VS()}get(){return vH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _v(n,e){fr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Kh=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var IH=new es(3e4,6e4);function ns(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function pr(s,o,a,c){return b(this,arguments,function*(n,e,t,i,r={}){return SA(n,r,()=>b(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let p=$c(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:m},u);return FS()||(_.referrerPolicy="no-referrer"),Kh.fetch()(AA(n,n.config.apiHost,t,p),_)}))})}function SA(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},bH),e);try{let r=new Xy(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw $h(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $h(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw $h(n,"user-disabled",o);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CA(n,h,u);Ln(n,h)}}catch(r){if(r instanceof qt)throw r;Ln(n,"network-request-failed",{message:String(r)})}})}function sf(s,o,a,c){return b(this,arguments,function*(n,e,t,i,r={}){let u=yield pr(n,e,t,i,r);return"mfaPendingCredential"in u&&Ln(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function AA(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?_v(n.config,r):`${n.config.apiScheme}://${r}`}function EH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Xy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Xr(this.auth,"network-request-failed")),IH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function $h(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Xr(n,e,i);return r.customData._tokenResponse=t,r}function aA(n){return n!==void 0&&n.enterprise!==void 0}var ev=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function DH(n,e){return b(this,null,function*(){return pr(n,"GET","/v2/recaptchaConfig",ns(n,e))})}function TH(n,e){return b(this,null,function*(){return pr(n,"POST","/v1/accounts:delete",e)})}function MA(n,e){return b(this,null,function*(){return pr(n,"POST","/v1/accounts:lookup",e)})}function Wc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yv(n,e=!1){return b(this,null,function*(){let t=at(n),i=yield t.getIdToken(e),r=vv(i);ee(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Wc(Qy(r.auth_time)),issuedAtTime:Wc(Qy(r.iat)),expirationTime:Wc(Qy(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Qy(n){return Number(n)*1e3}function vv(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{let r=Sy(t);return r?JSON.parse(r):(Hh("Failed to decode base64 JWT payload"),null)}catch(r){return Hh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function cA(n){let e=vv(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qc(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof qt&&CH(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function CH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var tv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Jc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qh(n){return b(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Qc(n,MA(t,{idToken:i}));ee(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?RA(s.providerUserInfo):[],a=SH(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,h=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function wv(n){return b(this,null,function*(){let e=at(n);yield Qh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function SH(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function RA(n){return n.map(e=>{var{providerId:t}=e,i=Kp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function AH(n,e){return b(this,null,function*(){let t=yield SA(n,{},()=>b(this,null,function*(){let i=$c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=AA(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Kh.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function MH(n,e){return b(this,null,function*(){return pr(n,"POST","/v2/accounts:revokeToken",ns(n,e))})}var Kc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let t=cA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield AH(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(ee(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ee(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ei("not implemented")}};function dr(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var No=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield Qc(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return yv(this,e)}reload(){return wv(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Qh(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(kn(this.auth.app))return Promise.reject(hr(this.auth));let e=yield this.getIdToken();return yield Qc(this,TH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,c,u,h;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(r=t.email)!==null&&r!==void 0?r:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=t.photoURL)!==null&&o!==void 0?o:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,P=(u=t.createdAt)!==null&&u!==void 0?u:void 0,V=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:L,emailVerified:W,isAnonymous:de,providerData:q,stsTokenManager:E}=t;ee(L&&E,e,"internal-error");let y=Kc.fromJSON(this.name,E);ee(typeof L=="string",e,"internal-error"),dr(p,e.name),dr(m,e.name),ee(typeof W=="boolean",e,"internal-error"),ee(typeof de=="boolean",e,"internal-error"),dr(_,e.name),dr(I,e.name),dr(A,e.name),dr(M,e.name),dr(P,e.name),dr(V,e.name);let v=new n({uid:L,auth:e,email:m,emailVerified:W,displayName:p,isAnonymous:de,photoURL:I,phoneNumber:_,tenantId:A,stsTokenManager:y,createdAt:P,lastLoginAt:V});return q&&Array.isArray(q)&&(v.providerData=q.map(D=>Object.assign({},D))),M&&(v._redirectEventId=M),v}static _fromIdTokenResponse(e,t,i=!1){return b(this,null,function*(){let r=new Kc;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Qh(s),s})}static _fromGetAccountInfoResponse(e,t,i){return b(this,null,function*(){let r=t.users[0];ee(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?RA(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Kc;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Jc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var lA=new Map;function Di(n){fr(n instanceof Function,"Expected a class definition");let e=lA.get(n);return e?(fr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lA.set(n,e),e)}var RH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,i){return b(this,null,function*(){this.storage[t]=i})}_get(t){return b(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),nv=RH;function Gh(n,e,t){return`firebase:${n}:${e}:${t}`}var Jh=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Gh(this.userKey,r.apiKey,s),this.fullPersistenceKey=Gh("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?No._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return b(this,null,function*(){if(!t.length)return new n(Di(nv),e,i);let r=(yield Promise.all(t.map(u=>b(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Di(nv),o=Gh(i,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(o);if(h){let p=No._fromJSON(e,h);u!==s&&(a=p),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>b(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function uA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FA(e))return"Blackberry";if(LA(e))return"Webos";if(PA(e))return"Safari";if((e.includes("chrome/")||OA(e))&&!e.includes("edge/"))return"Chrome";if(kA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function NA(n=nt()){return/firefox\//i.test(n)}function PA(n=nt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OA(n=nt()){return/crios\//i.test(n)}function xA(n=nt()){return/iemobile/i.test(n)}function kA(n=nt()){return/android/i.test(n)}function FA(n=nt()){return/blackberry/i.test(n)}function LA(n=nt()){return/webos/i.test(n)}function bv(n=nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function NH(n=nt()){var e;return bv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PH(){return BS()&&document.documentMode===10}function VA(n=nt()){return bv(n)||kA(n)||LA(n)||FA(n)||/windows phone/i.test(n)||xA(n)}function BA(n,e=[]){let t;switch(n){case"Browser":t=uA(nt());break;case"Worker":t=`${uA(nt())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ur}/${i}`}var iv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function OH(t){return b(this,arguments,function*(n,e={}){return pr(n,"GET","/v2/passwordPolicy",ns(n,e))})}var xH=6,rv=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:xH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var sv=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yh(this),this.idTokenSubscription=new Yh(this),this.beforeStateQueue=new iv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Jh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield MA(this,{idToken:e}),i=yield No._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(kn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield Qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wH()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(kn(this.app))return Promise.reject(hr(this));let t=e?at(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return kn(this.app)?Promise.reject(hr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return kn(this.app)?Promise.reject(hr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(Di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield OH(this),t=new rv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield MH(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Di(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=yield Jh.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return b(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&_H(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Po(n){return at(n)}var Yh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HS(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var of={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kH(n){of=n}function UA(n){return of.loadJS(n)}function FH(){return of.recaptchaEnterpriseScript}function LH(){return of.gapiScript}function jA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var VH="recaptcha-enterprise",BH="NO_RECAPTCHA",ov=class{constructor(e){this.type=VH,this.auth=Po(e)}verify(e="verify",t=!1){return b(this,null,function*(){function i(s){return b(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>b(this,null,function*(){DH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new ev(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;aA(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(BH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!t&&aA(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=FH();c.length!==0&&(c+=a),UA(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function dA(n,e,t,i=!1){return b(this,null,function*(){let r=new ov(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function hA(n,e,t,i){return b(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield dA(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>b(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield dA(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function Iv(n,e){let t=zc(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(Kr(s,e??{}))return r;Ln(r,"already-initialized")}return t.initialize({options:e})}function UH(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Ev(n,e,t){let i=Po(n);ee(i._canInitEmulator,i,"emulator-config-failed"),ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=$A(e),{host:o,port:a}=jH(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||$H()}function $A(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jH(n){let e=$A(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:fA(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:fA(o)}}}function fA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function $H(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Yc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}};function HH(n,e){return b(this,null,function*(){return pr(n,"POST","/v1/accounts:signUp",e)})}function GH(n,e){return b(this,null,function*(){return sf(n,"POST","/v1/accounts:signInWithPassword",ns(n,e))})}function zH(n,e){return b(this,null,function*(){return sf(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))})}function qH(n,e){return b(this,null,function*(){return sf(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))})}var Zc=class n extends Yc{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hA(e,t,"signInWithPassword",GH);case"emailLink":return zH(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hA(e,i,"signUpPassword",HH);case"emailLink":return qH(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Jy(n,e){return b(this,null,function*(){return sf(n,"POST","/v1/accounts:signInWithIdp",ns(n,e))})}function WH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KH(n){let e=To(Co(n)).link,t=e?To(Co(e)).deep_link_id:null,i=To(Co(n)).deep_link_id;return(i?To(Co(i)).link:null)||i||t||e||n}var Zh=class n{constructor(e){var t,i,r,s,o,a;let c=To(Co(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(i=c.oobCode)!==null&&i!==void 0?i:null,p=WH((r=c.mode)!==null&&r!==void 0?r:null);ee(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=KH(e);try{return new n(t)}catch{return null}}};var HA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Zc._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Zh.parseLink(i);return ee(r,"argument-error"),Zc._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Xh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var av=class extends Xh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Xc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return b(this,null,function*(){let s=yield No._fromIdTokenResponse(e,i,r),o=pA(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return b(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=pA(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function pA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var cv=class n extends qt{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function GA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cv._fromErrorAndOperation(n,s,e,i):s})}function QH(n,e,t=!1){return b(this,null,function*(){let i=yield Qc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xc._forOperation(n,"link",i)})}function JH(n,e,t=!1){return b(this,null,function*(){let{auth:i}=n;if(kn(i.app))return Promise.reject(hr(i));let r="reauthenticate";try{let s=yield Qc(n,GA(i,r,e,n),t);ee(s.idToken,i,"internal-error");let o=vv(s.idToken);ee(o,i,"internal-error");let{sub:a}=o;return ee(n.uid===a,i,"user-mismatch"),Xc._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ln(i,"user-mismatch"),s}})}function zA(n,e,t=!1){return b(this,null,function*(){if(kn(n.app))return Promise.reject(hr(n));let i="signIn",r=yield GA(n,i,e),s=yield Xc._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function Dv(n,e){return b(this,null,function*(){return zA(Po(n),e)})}function YH(n){return b(this,null,function*(){let e=Po(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Tv(n,e,t){return kn(n.app)?Promise.reject(hr(n)):Dv(at(n),HA.credential(e,t)).catch(i=>b(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&YH(n),i}))}function tl(n,e,t,i){return at(n).onIdTokenChanged(e,t,i)}function Cv(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function Sv(n){return at(n).signOut()}var ef="__sak";var tf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var ZH=1e3,XH=10,eG=(()=>{class n extends tf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);PH()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,XH):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},ZH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return b(this,null,function*(){yield ki(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return b(this,null,function*(){let i=yield ki(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return b(this,null,function*(){yield ki(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),qA=eG;var tG=(()=>{class n extends tf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Av=tG;function nG(n){return Promise.all(n.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var iG=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(h=>b(this,null,function*(){return h(i.origin,o)})),u=yield nG(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function WA(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var lv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return b(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=WA("",20);r.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){let m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Fn(){return window}function rG(n){Fn().location.href=n}function KA(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}function sG(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oG(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aG(){return KA()?self:null}var QA="firebaseLocalStorageDb",cG=1,nf="firebaseLocalStorage",JA="fbase_key",ts=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function af(n,e){return n.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function lG(){let n=indexedDB.deleteDatabase(QA);return new ts(n).toPromise()}function uv(){let n=indexedDB.open(QA,cG);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(nf,{keyPath:JA})}catch(r){t(r)}}),n.addEventListener("success",()=>b(this,null,function*(){let i=n.result;i.objectStoreNames.contains(nf)?e(i):(i.close(),yield lG(),e(yield uv()))}))})}function gA(n,e,t){return b(this,null,function*(){let i=af(n,!0).put({[JA]:e,value:t});return new ts(i).toPromise()})}function uG(n,e){return b(this,null,function*(){let t=af(n,!1).get(e),i=yield new ts(t).toPromise();return i===void 0?null:i.value})}function mA(n,e){let t=af(n,!0).delete(e);return new ts(t).toPromise()}var dG=800,hG=3,fG=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield uv(),this.db)})}_withRetries(t){return b(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>hG)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return KA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=iG._getInstance(aG()),this.receiver._subscribe("keyChanged",(t,i)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,i;if(this.activeServiceWorker=yield sG(),!this.activeServiceWorker)return;this.sender=new lv(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oG()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield uv();return yield gA(t,ef,"1"),yield mA(t,ef),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>gA(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let i=yield this._withRetries(r=>uG(r,t));return this.localCache[t]=i,i})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>mA(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(s=>{let o=af(s,!1).getAll();return new ts(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),dG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),YA=fG;var JJ=jA("rcb"),YJ=new es(3e4,6e4);function pG(n,e){return e?Di(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var el=class extends Yc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function gG(n){return zA(n.auth,new el(n),n.bypassAuthState)}function mG(n){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),JH(t,new el(n),n.bypassAuthState)}function _G(n){return b(this,null,function*(){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),QH(t,new el(n),n.bypassAuthState)})}var dv=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gG;case"linkViaPopup":case"linkViaRedirect":return _G;case"reauthViaPopup":case"reauthViaRedirect":return mG;default:Ln(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ZJ=new es(2e3,1e4);var yG="pendingRedirect",zh=new Map,hv=class n extends dv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return b(this,null,function*(){let e=zh.get(this.auth._key());if(!e){try{let i=(yield vG(this.resolver,this.auth))?yield ki(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return ki(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ki(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function vG(n,e){return b(this,null,function*(){let t=IG(e),i=bG(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function wG(n,e){zh.set(n._key(),e)}function bG(n){return Di(n._redirectPersistence)}function IG(n){return Gh(yG,n.config.apiKey,n.name)}function EG(n,e,t=!1){return b(this,null,function*(){if(kn(n.app))return Promise.reject(hr(n));let i=Po(n),r=pG(i,e),o=yield new hv(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var DG=10*60*1e3,fv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TG(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ZA(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Xr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DG&&this.cachedEventUids.clear(),this.cachedEventUids.has(_A(e))}saveEventToCache(e){this.cachedEventUids.add(_A(e)),this.lastProcessedEventTime=Date.now()}};function _A(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function TG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZA(n);default:return!1}}function CG(t){return b(this,arguments,function*(n,e={}){return pr(n,"GET","/v1/projects",e)})}var SG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AG=/^https?/;function MG(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield CG(n);for(let t of e)try{if(RG(t))return}catch{}Ln(n,"unauthorized-domain")})}function RG(n){let e=Zy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!AG.test(t))return!1;if(SG.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var NG=new es(3e4,6e4);function yA(){let n=Fn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PG(n){return new Promise((e,t)=>{var i,r,s;function o(){yA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yA(),t(Xr(n,"network-request-failed"))},timeout:NG.get()})}if(!((r=(i=Fn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Fn().gapi)===null||s===void 0)&&s.load)o();else{let a=jA("iframefcb");return Fn()[a]=()=>{gapi.load?o():t(Xr(n,"network-request-failed"))},UA(`${LH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw qh=null,e})}var qh=null;function OG(n){return qh=qh||PG(n),qh}var xG=new es(5e3,15e3),kG="__/auth/iframe",FG="emulator/auth/iframe",LG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BG(n){let e=n.config;ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?_v(e,FG):`https://${n.config.authDomain}/${kG}`,i={apiKey:e.apiKey,appName:n.name,v:ur},r=VG.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${$c(i).slice(1)}`}function UG(n){return b(this,null,function*(){let e=yield OG(n),t=Fn().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:BG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LG,dontclear:!0},i=>new Promise((r,s)=>b(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Xr(n,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},xG.get());function c(){Fn().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var jG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$G=500,HG=600,GG="_blank",zG="http://localhost",rf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function qG(n,e,t,i=$G,r=HG){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},jG),{width:i.toString(),height:r.toString(),top:s,left:o}),u=nt().toLowerCase();t&&(a=OA(u)?GG:t),NA(u)&&(e=e||zG,c.scrollbars="yes");let h=Object.entries(c).reduce((m,[_,I])=>`${m}${_}=${I},`,"");if(NH(u)&&a!=="_self")return WG(e||"",a),new rf(null);let p=window.open(e||"",a,h);ee(p,n,"popup-blocked");try{p.focus()}catch{}return new rf(p)}function WG(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var KG="__/auth/handler",QG="emulator/auth/handler",JG=encodeURIComponent("fac");function vA(n,e,t,i,r,s){return b(this,null,function*(){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ur,eventId:r};if(e instanceof Xh){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",$S(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof av){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),u=c?`#${JG}=${encodeURIComponent(c)}`:"";return`${YG(n)}?${$c(a).slice(1)}${u}`})}function YG({config:n}){return n.emulator?_v(n,QG):`https://${n.authDomain}/${KG}`}var Yy="webStorageSupport",pv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Av,this._completeRedirectFn=EG,this._overrideRedirectResult=wG}_openPopup(e,t,i,r){return b(this,null,function*(){var s;fr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield vA(e,t,i,Zy(),r);return qG(e,o,WA())})}_openRedirect(e,t,i,r){return b(this,null,function*(){yield this._originValidation(e);let s=yield vA(e,t,i,Zy(),r);return rG(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(fr(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return b(this,null,function*(){let t=yield UG(e),i=new fv(e);return t.register("authEvent",r=>(ee(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yy,{type:Yy},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Yy];o!==void 0&&t(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MG(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VA()||PA()||bv()}},XA=pv;var wA="@firebase/auth",bA="1.7.9";var gv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ZG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XG(n){lr(new an("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(n)},u=new sv(i,r,s,c);return UH(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),lr(new an("auth-internal",e=>{let t=Po(e.getProvider("auth").getImmediate());return(i=>new gv(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(wA,bA,ZG(n)),ze(wA,bA,"esm2017")}var e3=5*60,t3=Ry("authIdTokenMaxAge")||e3,IA=null,n3=n=>e=>b(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>t3)return;let r=t?.token;IA!==r&&(IA=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Mv(n=So()){let e=zc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Iv(n,{popupRedirectResolver:XA,persistence:[YA,qA,Av]}),i=Ry("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=n3(s.toString());Cv(t,o,()=>o(t.currentUser)),tl(t,a=>o(a))}}let r=Ay("auth");return r&&Ev(t,`http://${r}`),t}function i3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kH({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Xr("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",i3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XG("Browser");function nM(n){return new Y(function(e){var t=tl(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var iM="auth",yn=class{constructor(e){return e}},nl=class{constructor(){return qc(iM)}};var Rv=new B("angularfire2.auth-instances");function q3(n,e){let t=Uh(iM,n,e);return t&&new yn(t)}function W3(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new yn(i)}}var K3={provide:nl,deps:[[new gt,Rv]]},Q3={provide:yn,useFactory:q3,deps:[[new gt,Rv],Ii]};function rM(n,...e){return ze("angularfire",Yr.full,"auth"),pn([Q3,K3,{provide:Rv,useFactory:W3(n),multi:!0,deps:[we,Xe,Ro,Zr,[new gt,Mo],...e]}])}var sM=Wt(nM,!0);var oM=Wt(Mv,!0);var aM=Wt(Tv,!0);var cM=Wt(Sv,!0);var Pv=["*"];function Y3(n,e){if(n&1){let t=Yi();_e(0,"button",1),Je("click",function(){gn(t);let r=Ge();return mn(r.close())}),fe()}}function Z3(n,e){if(n&1&&(_e(0,"span"),lC(1,0),pC(2,"percent"),fe()),n&2){let t=Ge();ie(2),r_(gC(2,1,t.getValue()/t.max)),uC(1)}}var lM={animation:!0,transitionTimerDelayMs:5},X3=(()=>{class n{constructor(){this.animation=lM.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function e4(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function t4(n){return parseInt(`${n}`,10)}function n4(n,e,t=0){return Math.max(Math.min(n,e),t)}function i4(n){return!isNaN(t4(n))}function r4(n){return e=>new Y(t=>{let i=o=>n.run(()=>t.next(o)),r=o=>n.run(()=>t.error(o)),s=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:s})})}var s4=()=>{},{transitionTimerDelayMs:o4}=lM,cf=new Map,a4=(n,e,t,i)=>{let r=i.context||{},s=cf.get(e);if(s)switch(i.runningTransition){case"continue":return It;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),cf.delete(e)}let o=t(e,i.animation,r)||s4;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>o()),z(void 0).pipe(r4(n));let a=new Ue,c=new Ue,u=a.pipe(eg(!0));cf.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let h=e4(e);return n.runOutsideAngular(()=>{let p=Ca(e,"transitionend").pipe(Ar(u),st(({target:_})=>_===e)),m=Yp(h+o4).pipe(Ar(u));Zp(m,p,c).pipe(Ar(u)).subscribe(()=>{cf.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var c4=(()=>{class n{constructor(){this._ngbConfig=O(X3),this.dismissible=!0,this.type="warning"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l4=({classList:n})=>{n.remove("show")},uM=(()=>{class n{constructor(){this._config=O(c4),this._elementRef=O(rn),this._zone=O(we),this.animation=this._config.animation,this.dismissible=this._config.dismissible,this.type=this._config.type,this.closed=new Ve}close(){let t=a4(this._zone,this._elementRef.nativeElement,l4,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Pt({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert"],hostVars:6,hostBindings:function(i,r){i&2&&($T("alert show"+(r.type?" alert-"+r.type:"")),Rn("fade",r.animation)("alert-dismissible",r.dismissible))},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[Ot],ngContentSelectors:Pv,decls:2,vars:1,consts:()=>{let t;return t=$localize`:@@ngb.alert.close:Close`,[["type","button","aria-label",t,1,"btn-close"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(i,r){i&1&&(Ld(),Vd(0),$t(1,Y3,1,0,"button",0)),i&2&&(ie(),i_(r.dismissible?1:-1))},styles:[`ngb-alert{display:block}
`],encapsulation:2,changeDetection:0})}}return n})();var SZ=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var AZ=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var MZ=new Date(1882,10,12),RZ=new Date(2174,10,25);var NZ=1e3*60*60*24;var Ov=1080,u4=24*Ov,d4=12*Ov+793,PZ=29*u4+d4,OZ=11*Ov+204;var h4=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dM=(()=>{class n{set max(t){this._max=!i4(t)||t<=0?100:t}get max(){return this._max}constructor(){this._config=O(h4),this.stacked=O(f4,{optional:!0}),this.animated=this._config.animated,this.ariaLabel=this._config.ariaLabel,this.striped=this._config.striped,this.showValue=this._config.showValue,this.textType=this._config.textType,this.type=this._config.type,this.value=0,this.height=this._config.height,this.max=this._config.max}getValue(){return n4(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Pt({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:7,hostBindings:function(i,r){i&2&&(sn("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),Ya("width",r.stacked?r.getPercentValue():null,"%")("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[Ot],ngContentSelectors:Pv,decls:3,vars:11,consts:()=>{let t;return t=$localize`:@@ngb.progressbar.value:${"\uFFFD0\uFFFD"}:INTERPOLATION:`,[t]},template:function(i,r){i&1&&(Ld(),_e(0,"div"),$t(1,Z3,3,3,"span"),Vd(2),fe()),i&2&&(JT("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),Ya("width",r.stacked?null:r.getPercentValue(),"%"),Rn("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),ie(),i_(r.showValue?1:-1))},dependencies:[FC],encapsulation:2,changeDetection:0})}}return n})(),f4=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Pt({type:n,selectors:[["ngb-progressbar-stacked"]],hostAttrs:[1,"progress-stacked"],standalone:!0,features:[Ot],ngContentSelectors:Pv,decls:1,vars:0,template:function(i,r){i&1&&(Ld(),Vd(0))},encapsulation:2,changeDetection:0})}}return n})(),lf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Vt({})}}return n})();var xZ=new B("live announcer delay",{providedIn:"root",factory:()=>100});function g4(n,e){if(n&1){let t=Yi();_e(0,"ngb-alert",12),Je("closed",function(){gn(t);let r=Ge();return mn(r.errorMessage="")}),He(1),fe()}if(n&2){let t=Ge();ie(),so(t.errorMessage)}}var uf=class n{constructor(e,t){this.auth=e;this.router=t}email="rsathishkumar4@gmail.com";password="Easytype@2024";errorMessage="";onSubmit(){aM(this.auth,this.email,this.password).then(()=>{this.router.navigate(["/dashboard"])}).catch(e=>{this.errorMessage=e.message})}static \u0275fac=function(t){return new(t||n)(Z(yn),Z(At))};static \u0275cmp=Pt({type:n,selectors:[["app-login"]],standalone:!0,features:[Ot],decls:17,vars:3,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],["type","danger",3,"closed",4,"ngIf"],["type","danger",3,"closed"]],template:function(t,i){t&1&&(_e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),He(4,"Login"),fe(),_e(5,"form",4),Je("ngSubmit",function(){return i.onSubmit()}),_e(6,"div",5)(7,"label",6),He(8,"Email"),fe(),_e(9,"input",7),li("ngModelChange",function(s){return Xi(i.email,s)||(i.email=s),s}),fe()(),_e(10,"div",5)(11,"label",8),He(12,"Password"),fe(),_e(13,"input",9),li("ngModelChange",function(s){return Xi(i.password,s)||(i.password=s),s}),fe()(),_e(14,"button",10),He(15,"Login"),fe()(),$t(16,g4,2,1,"ngb-alert",11),fe()()()),t&2&&(ie(9),ci("ngModel",i.email),ie(4),ci("ngModel",i.password),ie(3),xe("ngIf",i.errorMessage))},dependencies:[Oh,DS,Mh,Rh,yS,Ey,Uc,Iy,uM,ic,zd]})};var hM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fM={};var gr,kv;(function(){var n;function e(E,y){function v(){}v.prototype=y.prototype,E.D=y.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(D,T,S){for(var w=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)w[Gn-2]=arguments[Gn];return y.prototype[T].apply(D,w)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,v){v||(v=0);var D=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)D[T]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(T=0;16>T;++T)D[T]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=E.g[0],v=E.g[1],T=E.g[2];var S=E.g[3],w=y+(S^v&(T^S))+D[0]+3614090360&4294967295;y=v+(w<<7&4294967295|w>>>25),w=S+(T^y&(v^T))+D[1]+3905402710&4294967295,S=y+(w<<12&4294967295|w>>>20),w=T+(v^S&(y^v))+D[2]+606105819&4294967295,T=S+(w<<17&4294967295|w>>>15),w=v+(y^T&(S^y))+D[3]+3250441966&4294967295,v=T+(w<<22&4294967295|w>>>10),w=y+(S^v&(T^S))+D[4]+4118548399&4294967295,y=v+(w<<7&4294967295|w>>>25),w=S+(T^y&(v^T))+D[5]+1200080426&4294967295,S=y+(w<<12&4294967295|w>>>20),w=T+(v^S&(y^v))+D[6]+2821735955&4294967295,T=S+(w<<17&4294967295|w>>>15),w=v+(y^T&(S^y))+D[7]+4249261313&4294967295,v=T+(w<<22&4294967295|w>>>10),w=y+(S^v&(T^S))+D[8]+1770035416&4294967295,y=v+(w<<7&4294967295|w>>>25),w=S+(T^y&(v^T))+D[9]+2336552879&4294967295,S=y+(w<<12&4294967295|w>>>20),w=T+(v^S&(y^v))+D[10]+4294925233&4294967295,T=S+(w<<17&4294967295|w>>>15),w=v+(y^T&(S^y))+D[11]+2304563134&4294967295,v=T+(w<<22&4294967295|w>>>10),w=y+(S^v&(T^S))+D[12]+1804603682&4294967295,y=v+(w<<7&4294967295|w>>>25),w=S+(T^y&(v^T))+D[13]+4254626195&4294967295,S=y+(w<<12&4294967295|w>>>20),w=T+(v^S&(y^v))+D[14]+2792965006&4294967295,T=S+(w<<17&4294967295|w>>>15),w=v+(y^T&(S^y))+D[15]+1236535329&4294967295,v=T+(w<<22&4294967295|w>>>10),w=y+(T^S&(v^T))+D[1]+4129170786&4294967295,y=v+(w<<5&4294967295|w>>>27),w=S+(v^T&(y^v))+D[6]+3225465664&4294967295,S=y+(w<<9&4294967295|w>>>23),w=T+(y^v&(S^y))+D[11]+643717713&4294967295,T=S+(w<<14&4294967295|w>>>18),w=v+(S^y&(T^S))+D[0]+3921069994&4294967295,v=T+(w<<20&4294967295|w>>>12),w=y+(T^S&(v^T))+D[5]+3593408605&4294967295,y=v+(w<<5&4294967295|w>>>27),w=S+(v^T&(y^v))+D[10]+38016083&4294967295,S=y+(w<<9&4294967295|w>>>23),w=T+(y^v&(S^y))+D[15]+3634488961&4294967295,T=S+(w<<14&4294967295|w>>>18),w=v+(S^y&(T^S))+D[4]+3889429448&4294967295,v=T+(w<<20&4294967295|w>>>12),w=y+(T^S&(v^T))+D[9]+568446438&4294967295,y=v+(w<<5&4294967295|w>>>27),w=S+(v^T&(y^v))+D[14]+3275163606&4294967295,S=y+(w<<9&4294967295|w>>>23),w=T+(y^v&(S^y))+D[3]+4107603335&4294967295,T=S+(w<<14&4294967295|w>>>18),w=v+(S^y&(T^S))+D[8]+1163531501&4294967295,v=T+(w<<20&4294967295|w>>>12),w=y+(T^S&(v^T))+D[13]+2850285829&4294967295,y=v+(w<<5&4294967295|w>>>27),w=S+(v^T&(y^v))+D[2]+4243563512&4294967295,S=y+(w<<9&4294967295|w>>>23),w=T+(y^v&(S^y))+D[7]+1735328473&4294967295,T=S+(w<<14&4294967295|w>>>18),w=v+(S^y&(T^S))+D[12]+2368359562&4294967295,v=T+(w<<20&4294967295|w>>>12),w=y+(v^T^S)+D[5]+4294588738&4294967295,y=v+(w<<4&4294967295|w>>>28),w=S+(y^v^T)+D[8]+2272392833&4294967295,S=y+(w<<11&4294967295|w>>>21),w=T+(S^y^v)+D[11]+1839030562&4294967295,T=S+(w<<16&4294967295|w>>>16),w=v+(T^S^y)+D[14]+4259657740&4294967295,v=T+(w<<23&4294967295|w>>>9),w=y+(v^T^S)+D[1]+2763975236&4294967295,y=v+(w<<4&4294967295|w>>>28),w=S+(y^v^T)+D[4]+1272893353&4294967295,S=y+(w<<11&4294967295|w>>>21),w=T+(S^y^v)+D[7]+4139469664&4294967295,T=S+(w<<16&4294967295|w>>>16),w=v+(T^S^y)+D[10]+3200236656&4294967295,v=T+(w<<23&4294967295|w>>>9),w=y+(v^T^S)+D[13]+681279174&4294967295,y=v+(w<<4&4294967295|w>>>28),w=S+(y^v^T)+D[0]+3936430074&4294967295,S=y+(w<<11&4294967295|w>>>21),w=T+(S^y^v)+D[3]+3572445317&4294967295,T=S+(w<<16&4294967295|w>>>16),w=v+(T^S^y)+D[6]+76029189&4294967295,v=T+(w<<23&4294967295|w>>>9),w=y+(v^T^S)+D[9]+3654602809&4294967295,y=v+(w<<4&4294967295|w>>>28),w=S+(y^v^T)+D[12]+3873151461&4294967295,S=y+(w<<11&4294967295|w>>>21),w=T+(S^y^v)+D[15]+530742520&4294967295,T=S+(w<<16&4294967295|w>>>16),w=v+(T^S^y)+D[2]+3299628645&4294967295,v=T+(w<<23&4294967295|w>>>9),w=y+(T^(v|~S))+D[0]+4096336452&4294967295,y=v+(w<<6&4294967295|w>>>26),w=S+(v^(y|~T))+D[7]+1126891415&4294967295,S=y+(w<<10&4294967295|w>>>22),w=T+(y^(S|~v))+D[14]+2878612391&4294967295,T=S+(w<<15&4294967295|w>>>17),w=v+(S^(T|~y))+D[5]+4237533241&4294967295,v=T+(w<<21&4294967295|w>>>11),w=y+(T^(v|~S))+D[12]+1700485571&4294967295,y=v+(w<<6&4294967295|w>>>26),w=S+(v^(y|~T))+D[3]+2399980690&4294967295,S=y+(w<<10&4294967295|w>>>22),w=T+(y^(S|~v))+D[10]+4293915773&4294967295,T=S+(w<<15&4294967295|w>>>17),w=v+(S^(T|~y))+D[1]+2240044497&4294967295,v=T+(w<<21&4294967295|w>>>11),w=y+(T^(v|~S))+D[8]+1873313359&4294967295,y=v+(w<<6&4294967295|w>>>26),w=S+(v^(y|~T))+D[15]+4264355552&4294967295,S=y+(w<<10&4294967295|w>>>22),w=T+(y^(S|~v))+D[6]+2734768916&4294967295,T=S+(w<<15&4294967295|w>>>17),w=v+(S^(T|~y))+D[13]+1309151649&4294967295,v=T+(w<<21&4294967295|w>>>11),w=y+(T^(v|~S))+D[4]+4149444226&4294967295,y=v+(w<<6&4294967295|w>>>26),w=S+(v^(y|~T))+D[11]+3174756917&4294967295,S=y+(w<<10&4294967295|w>>>22),w=T+(y^(S|~v))+D[2]+718787259&4294967295,T=S+(w<<15&4294967295|w>>>17),w=v+(S^(T|~y))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+S&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var v=y-this.blockSize,D=this.B,T=this.h,S=0;S<y;){if(T==0)for(;S<=v;)r(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<y;)if(D[T++]=E.charCodeAt(S++),T==this.blockSize){r(this,D),T=0;break}}else for(;S<y;)if(D[T++]=E[S++],T==this.blockSize){r(this,D),T=0;break}}this.h=T,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var v=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.u(E),E=Array(16),y=v=0;4>y;++y)for(var D=0;32>D;D+=8)E[v++]=this.g[y]>>>D&255;return E};function s(E,y){var v=a;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=y(E)}function o(E,y){this.h=y;for(var v=[],D=!0,T=E.length-1;0<=T;T--){var S=E[T]|0;D&&S==y||(v[T]=S,D=!1)}this.g=v}var a={};function c(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(u(-E));for(var y=[],v=1,D=0;E>=v;D++)y[D]=E/v|0,v*=4294967296;return new o(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return M(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=u(Math.pow(y,8)),D=p,T=0;T<E.length;T+=8){var S=Math.min(8,E.length-T),w=parseInt(E.substring(T,T+S),y);8>S?(S=u(Math.pow(y,S)),D=D.j(S).add(u(w))):(D=D.j(v),D=D.add(u(w)))}return D}var p=c(0),m=c(1),_=c(16777216);n=o.prototype,n.m=function(){if(A(this))return-M(this).m();for(var E=0,y=1,v=0;v<this.g.length;v++){var D=this.i(v);E+=(0<=D?D:4294967296+D)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(A(this))return"-"+M(this).toString(E);for(var y=u(Math.pow(E,6)),v=this,D="";;){var T=W(v,y).g;v=P(v,T.j(y));var S=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=T,I(v))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function A(E){return E.h==-1}n.l=function(E){return E=P(this,E),A(E)?-1:I(E)?0:1};function M(E){for(var y=E.g.length,v=[],D=0;D<y;D++)v[D]=~E.g[D];return new o(v,~E.h).add(m)}n.abs=function(){return A(this)?M(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],D=0,T=0;T<=y;T++){var S=D+(this.i(T)&65535)+(E.i(T)&65535),w=(S>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=w>>>16,S&=65535,w&=65535,v[T]=w<<16|S}return new o(v,v[v.length-1]&-2147483648?-1:0)};function P(E,y){return E.add(M(y))}n.j=function(E){if(I(this)||I(E))return p;if(A(this))return A(E)?M(this).j(M(E)):M(M(this).j(E));if(A(E))return M(this.j(M(E)));if(0>this.l(_)&&0>E.l(_))return u(this.m()*E.m());for(var y=this.g.length+E.g.length,v=[],D=0;D<2*y;D++)v[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var S=this.i(D)>>>16,w=this.i(D)&65535,Gn=E.i(T)>>>16,ia=E.i(T)&65535;v[2*D+2*T]+=w*ia,V(v,2*D+2*T),v[2*D+2*T+1]+=S*ia,V(v,2*D+2*T+1),v[2*D+2*T+1]+=w*Gn,V(v,2*D+2*T+1),v[2*D+2*T+2]+=S*Gn,V(v,2*D+2*T+2)}for(D=0;D<y;D++)v[D]=v[2*D+1]<<16|v[2*D];for(D=y;D<2*y;D++)v[D]=0;return new o(v,0)};function V(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function L(E,y){this.g=E,this.h=y}function W(E,y){if(I(y))throw Error("division by zero");if(I(E))return new L(p,p);if(A(E))return y=W(M(E),y),new L(M(y.g),M(y.h));if(A(y))return y=W(E,M(y)),new L(M(y.g),y.h);if(30<E.g.length){if(A(E)||A(y))throw Error("slowDivide_ only works with positive integers.");for(var v=m,D=y;0>=D.l(E);)v=de(v),D=de(D);var T=q(v,1),S=q(D,1);for(D=q(D,2),v=q(v,2);!I(D);){var w=S.add(D);0>=w.l(E)&&(T=T.add(v),S=w),D=q(D,1),v=q(v,1)}return y=P(E,T.j(y)),new L(T,y)}for(T=p;0<=E.l(y);){for(v=Math.max(1,Math.floor(E.m()/y.m())),D=Math.ceil(Math.log(v)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=u(v),w=S.j(y);A(w)||0<w.l(E);)v-=D,S=u(v),w=S.j(y);I(S)&&(S=m),T=T.add(S),E=P(E,w)}return new L(T,E)}n.A=function(E){return W(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],D=0;D<y;D++)v[D]=this.i(D)&E.i(D);return new o(v,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],D=0;D<y;D++)v[D]=this.i(D)|E.i(D);return new o(v,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],D=0;D<y;D++)v[D]=this.i(D)^E.i(D);return new o(v,this.h^E.h)};function de(E){for(var y=E.g.length+1,v=[],D=0;D<y;D++)v[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(v,E.h)}function q(E,y){var v=y>>5;y%=32;for(var D=E.g.length-v,T=[],S=0;S<D;S++)T[S]=0<y?E.i(S+v)>>>y|E.i(S+v+1)<<32-y:E.i(S+v);return new o(T,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,kv=fM.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,gr=fM.Integer=o}).apply(typeof hM<"u"?hM:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ti={};var Fv,m4,Oo,Lv,il,hf,Vv,Bv,Uv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=t(this);function r(l,d){if(d)e:{var f=i;l=l.split(".");for(var g=0;g<l.length-1;g++){var C=l[g];if(!(C in f))break e;f=f[C]}l=l[l.length-1],g=f[l],d=d(g),d!=g&&d!=null&&e(f,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var f=0,g=!1,C={next:function(){if(!g&&f<l.length){var R=f++;return{value:d(R,l[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(l){return l||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,f){return l.call.apply(l.bind,arguments)}function p(l,d,f){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),l.apply(d,C)}}return function(){return l.apply(d,arguments)}}function m(l,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function _(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function I(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(g,C,R){for(var F=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];return d.prototype[C].apply(g,F)}}function A(l){let d=l.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=l[g];return f}return[]}function M(l,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(c(g)){let C=l.length||0,R=g.length||0;l.length=C+R;for(let F=0;F<R;F++)l[C+F]=g[F]}else l.push(g)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(l){return/^[\s\xa0]*$/.test(l)}function L(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function W(l){return W[" "](l),l}W[" "]=function(){};var de=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function q(l,d,f){for(let g in l)d.call(f,l[g],g,l)}function E(l,d){for(let f in l)d.call(void 0,l[f],f,l)}function y(l){let d={};for(let f in l)d[f]=l[f];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)l[f]=g[f];for(let R=0;R<v.length;R++)f=v[R],Object.prototype.hasOwnProperty.call(g,f)&&(l[f]=g[f])}}function T(l){var d=1;l=l.split(":");let f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function S(l){a.setTimeout(()=>{throw l},0)}function w(){var l=sp;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Gn{constructor(){this.h=this.g=null}add(d,f){let g=ia.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ia=new P(()=>new bN,l=>l.reset());class bN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ra,sa=!1,sp=new Gn,Ww=()=>{let l=a.Promise.resolve(void 0);ra=()=>{l.then(IN)}};var IN=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(f){S(f)}var d=ia;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}sa=!1};function Ni(){this.s=this.s,this.C=this.C}Ni.prototype.s=!1,Ni.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ni.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var EN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return l}();function oa(l,d){if(lt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(de){e:{try{W(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:DN[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&oa.aa.h.call(this)}}I(oa,lt);var DN={2:"touch",3:"pen",4:"mouse"};oa.prototype.h=function(){oa.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var aa="closure_listenable_"+(1e6*Math.random()|0),TN=0;function CN(l,d,f,g,C){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++TN,this.da=this.fa=!1}function Sl(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Al(l){this.src=l,this.g={},this.h=0}Al.prototype.add=function(l,d,f,g,C){var R=l.toString();l=this.g[R],l||(l=this.g[R]=[],this.h++);var F=ap(l,d,g,C);return-1<F?(d=l[F],f||(d.fa=!1)):(d=new CN(d,this.src,R,!!g,C),d.fa=f,l.push(d)),d};function op(l,d){var f=d.type;if(f in l.g){var g=l.g[f],C=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=C)&&Array.prototype.splice.call(g,C,1),R&&(Sl(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function ap(l,d,f,g){for(var C=0;C<l.length;++C){var R=l[C];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return C}return-1}var cp="closure_lm_"+(1e6*Math.random()|0),lp={};function Kw(l,d,f,g,C){if(g&&g.once)return Jw(l,d,f,g,C);if(Array.isArray(d)){for(var R=0;R<d.length;R++)Kw(l,d[R],f,g,C);return null}return f=fp(f),l&&l[aa]?l.K(d,f,u(g)?!!g.capture:!!g,C):Qw(l,d,f,!1,g,C)}function Qw(l,d,f,g,C,R){if(!d)throw Error("Invalid event type");var F=u(C)?!!C.capture:!!C,Se=dp(l);if(Se||(l[cp]=Se=new Al(l)),f=Se.add(d,f,g,F,R),f.proxy)return f;if(g=SN(),f.proxy=g,g.src=l,g.listener=f,l.addEventListener)EN||(C=F),C===void 0&&(C=!1),l.addEventListener(d.toString(),g,C);else if(l.attachEvent)l.attachEvent(Zw(d.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function SN(){function l(f){return d.call(l.src,l.listener,f)}let d=AN;return l}function Jw(l,d,f,g,C){if(Array.isArray(d)){for(var R=0;R<d.length;R++)Jw(l,d[R],f,g,C);return null}return f=fp(f),l&&l[aa]?l.L(d,f,u(g)?!!g.capture:!!g,C):Qw(l,d,f,!0,g,C)}function Yw(l,d,f,g,C){if(Array.isArray(d))for(var R=0;R<d.length;R++)Yw(l,d[R],f,g,C);else g=u(g)?!!g.capture:!!g,f=fp(f),l&&l[aa]?(l=l.i,d=String(d).toString(),d in l.g&&(R=l.g[d],f=ap(R,f,g,C),-1<f&&(Sl(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete l.g[d],l.h--)))):l&&(l=dp(l))&&(d=l.g[d.toString()],l=-1,d&&(l=ap(d,f,g,C)),(f=-1<l?d[l]:null)&&up(f))}function up(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[aa])op(d.i,l);else{var f=l.type,g=l.proxy;d.removeEventListener?d.removeEventListener(f,g,l.capture):d.detachEvent?d.detachEvent(Zw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=dp(d))?(op(f,l),f.h==0&&(f.src=null,d[cp]=null)):Sl(l)}}}function Zw(l){return l in lp?lp[l]:lp[l]="on"+l}function AN(l,d){if(l.da)l=!0;else{d=new oa(d,this);var f=l.listener,g=l.ha||l.src;l.fa&&up(l),l=f.call(g,d)}return l}function dp(l){return l=l[cp],l instanceof Al?l:null}var hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function fp(l){return typeof l=="function"?l:(l[hp]||(l[hp]=function(d){return l.handleEvent(d)}),l[hp])}function ut(){Ni.call(this),this.i=new Al(this),this.M=this,this.F=null}I(ut,Ni),ut.prototype[aa]=!0,ut.prototype.removeEventListener=function(l,d,f,g){Yw(this,l,d,f,g)};function wt(l,d){var f,g=l.F;if(g)for(f=[];g;g=g.F)f.push(g);if(l=l.M,g=d.type||d,typeof d=="string")d=new lt(d,l);else if(d instanceof lt)d.target=d.target||l;else{var C=d;d=new lt(g,l),D(d,C)}if(C=!0,f)for(var R=f.length-1;0<=R;R--){var F=d.g=f[R];C=Ml(F,g,!0,d)&&C}if(F=d.g=l,C=Ml(F,g,!0,d)&&C,C=Ml(F,g,!1,d)&&C,f)for(R=0;R<f.length;R++)F=d.g=f[R],C=Ml(F,g,!1,d)&&C}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],g=0;g<f.length;g++)Sl(f[g]);delete l.g[d],l.h--}}this.F=null},ut.prototype.K=function(l,d,f,g){return this.i.add(String(l),d,!1,f,g)},ut.prototype.L=function(l,d,f,g){return this.i.add(String(l),d,!0,f,g)};function Ml(l,d,f,g){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,R=0;R<d.length;++R){var F=d[R];if(F&&!F.da&&F.capture==f){var Se=F.listener,rt=F.ha||F.src;F.fa&&op(l.i,F),C=Se.call(rt,g)!==!1&&C}}return C&&!g.defaultPrevented}function Xw(l,d,f){if(typeof l=="function")f&&(l=m(l,f));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function eb(l){l.g=Xw(()=>{l.g=null,l.i&&(l.i=!1,eb(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class MN extends Ni{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:eb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(l){Ni.call(this),this.h=l,this.g={}}I(ca,Ni);var tb=[];function nb(l){q(l.g,function(d,f){this.g.hasOwnProperty(f)&&up(d)},l),l.g={}}ca.prototype.N=function(){ca.aa.N.call(this),nb(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pp=a.JSON.stringify,RN=a.JSON.parse,NN=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function gp(){}gp.prototype.h=null;function ib(l){return l.h||(l.h=l.i())}function rb(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mp(){lt.call(this,"d")}I(mp,lt);function _p(){lt.call(this,"c")}I(_p,lt);var wr={},sb=null;function Rl(){return sb=sb||new ut}wr.La="serverreachability";function ob(l){lt.call(this,wr.La,l)}I(ob,lt);function ua(l){let d=Rl();wt(d,new ob(d))}wr.STAT_EVENT="statevent";function ab(l,d){lt.call(this,wr.STAT_EVENT,l),this.stat=d}I(ab,lt);function bt(l){let d=Rl();wt(d,new ab(d,l))}wr.Ma="timingevent";function cb(l,d){lt.call(this,wr.Ma,l),this.size=d}I(cb,lt);function da(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function ha(){this.g=!0}ha.prototype.xa=function(){this.g=!1};function PN(l,d,f,g,C,R){l.info(function(){if(l.g)if(R)for(var F="",Se=R.split("&"),rt=0;rt<Se.length;rt++){var be=Se[rt].split("=");if(1<be.length){var dt=be[0];be=be[1];var ht=dt.split("_");F=2<=ht.length&&ht[1]=="type"?F+(dt+"="+be+"&"):F+(dt+"=redacted&")}}else F=null;else F=R;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function ON(l,d,f,g,C,R,F){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+R+" "+F})}function ms(l,d,f,g){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+kN(l,f)+(g?" "+g:"")})}function xN(l,d){l.info(function(){return"TIMEOUT: "+d})}ha.prototype.info=function(){};function kN(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var g=f[l];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return pp(f)}catch{return d}}var Nl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yp;function Pl(){}I(Pl,gp),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},yp=new Pl;function Pi(l,d,f,g){this.j=l,this.i=d,this.l=f,this.R=g||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ub}function ub(){this.i=null,this.g="",this.h=!1}var db={},vp={};function wp(l,d,f){l.L=1,l.v=Fl(zn(d)),l.m=f,l.P=!0,hb(l,null)}function hb(l,d){l.F=Date.now(),Ol(l),l.A=zn(l.v);var f=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),Cb(f.i,"t",g),l.C=0,f=l.j.J,l.h=new ub,l.g=Gb(l.j,f?d:null,!l.m),0<l.O&&(l.M=new MN(m(l.Y,l,l.g),l.O)),d=l.U,f=l.g,g=l.ca;var C="readystatechange";Array.isArray(C)||(C&&(tb[0]=C.toString()),C=tb);for(var R=0;R<C.length;R++){var F=Kw(f,C[R],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ua(),PN(l.i,l.u,l.A,l.l,l.R,l.m)}Pi.prototype.ca=function(l){l=l.target;let d=this.M;d&&qn(l)==3?d.j():this.Y(l)},Pi.prototype.Y=function(l){try{if(l==this.g)e:{let ht=qn(this.g);var d=this.g.Ba();let vs=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Ob(this.g)))){this.J||ht!=4||d==7||(d==8||0>=vs?ua(3):ua(2)),bp(this);var f=this.g.Z();this.X=f;t:if(fb(this)){var g=Ob(this.g);l="";var C=g.length,R=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),fa(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,l+=this.h.i.decode(g[d],{stream:!(R&&d==C-1)});g.length=0,this.h.g+=l,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,ON(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,rt=this.g;if((Se=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Se)){var be=Se;break t}}be=null}if(f=be)ms(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ip(this,f);else{this.o=!1,this.s=3,bt(12),br(this),fa(this);break e}}if(this.P){f=!0;let cn;for(;!this.J&&this.C<F.length;)if(cn=FN(this,F),cn==vp){ht==4&&(this.s=4,bt(14),f=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==db){this.s=4,bt(15),ms(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else ms(this.i,this.l,cn,null),Ip(this,cn);if(fb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||F.length!=0||this.h.h||(this.s=1,bt(16),f=!1),this.o=this.o&&f,!f)ms(this.i,this.l,F,"[Invalid Chunked Response]"),br(this),fa(this);else if(0<F.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Ap(dt),dt.M=!0,bt(11))}}else ms(this.i,this.l,F,null),Ip(this,F);ht==4&&br(this),this.o&&!this.J&&(ht==4?Ub(this.j,this):(this.o=!1,Ol(this)))}else XN(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),br(this),fa(this)}}}catch{}finally{}};function fb(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function FN(l,d){var f=l.C,g=d.indexOf(`
`,f);return g==-1?vp:(f=Number(d.substring(f,g)),isNaN(f)?db:(g+=1,g+f>d.length?vp:(d=d.slice(g,g+f),l.C=g+f,d)))}Pi.prototype.cancel=function(){this.J=!0,br(this)};function Ol(l){l.S=Date.now()+l.I,pb(l,l.I)}function pb(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=da(m(l.ba,l),d)}function bp(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Pi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(xN(this.i,this.A),this.L!=2&&(ua(),bt(17)),br(this),this.s=2,fa(this)):pb(this,this.S-l)};function fa(l){l.j.G==0||l.J||Ub(l.j,l)}function br(l){bp(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,nb(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Ip(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||Ep(f.h,l))){if(!l.K&&Ep(f.h,l)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)jl(f),Bl(f);else break e;Sp(f),bt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=da(m(f.Za,f),6e3));if(1>=_b(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Er(f,11)}else if((l.K||f.g==l)&&jl(f),!V(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let be=C[d];if(f.T=be[0],be=be[1],f.G==2)if(be[0]=="c"){f.K=be[1],f.ia=be[2];let dt=be[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=be[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let vs=be[5];vs!=null&&typeof vs=="number"&&0<vs&&(g=1.5*vs,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let cn=l.g;if(cn){let Hl=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hl){var R=g.h;R.g||Hl.indexOf("spdy")==-1&&Hl.indexOf("quic")==-1&&Hl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Dp(R,R.h),R.h=null))}if(g.D){let Mp=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mp&&(g.ya=Mp,Me(g.I,g.D,Mp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=l;if(g.qa=Hb(g,g.J?g.ia:null,g.W),F.K){yb(g.h,F);var Se=F,rt=g.L;rt&&(Se.I=rt),Se.B&&(bp(Se),Ol(Se)),g.g=F}else Vb(g);0<f.i.length&&Ul(f)}else be[0]!="stop"&&be[0]!="close"||Er(f,7);else f.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Er(f,7):Cp(f):be[0]!="noop"&&f.l&&f.l.ta(be),f.v=0)}}ua(4)}catch{}}var LN=class{constructor(l,d){this.g=l,this.map=d}};function gb(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mb(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _b(l){return l.h?1:l.g?l.g.size:0}function Ep(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Dp(l,d){l.g?l.g.add(d):l.h=d}function yb(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}gb.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function vb(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let f of l.g.values())d=d.concat(f.D);return d}return A(l.i)}function VN(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],f=l.length,g=0;g<f;g++)d.push(l[g]);return d}d=[],f=0;for(g in l)d[f++]=l[g];return d}function BN(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(let g in l)d[f++]=g;return d}}}function wb(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=BN(l),g=VN(l),C=g.length,R=0;R<C;R++)d.call(void 0,g[R],f&&f[R],l)}var bb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UN(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var g=l[f].indexOf("="),C=null;if(0<=g){var R=l[f].substring(0,g);C=l[f].substring(g+1)}else R=l[f];d(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ir(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ir){this.h=l.h,xl(this,l.j),this.o=l.o,this.g=l.g,kl(this,l.s),this.l=l.l;var d=l.i,f=new ma;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Ib(this,f),this.m=l.m}else l&&(d=String(l).match(bb))?(this.h=!1,xl(this,d[1]||"",!0),this.o=pa(d[2]||""),this.g=pa(d[3]||"",!0),kl(this,d[4]),this.l=pa(d[5]||"",!0),Ib(this,d[6]||"",!0),this.m=pa(d[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}Ir.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ga(d,Eb,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ga(d,Eb,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(ga(f,f.charAt(0)=="/"?HN:$N,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",ga(f,zN)),l.join("")};function zn(l){return new Ir(l)}function xl(l,d,f){l.j=f?pa(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function kl(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Ib(l,d,f){d instanceof ma?(l.i=d,qN(l.i,l.h)):(f||(d=ga(d,GN)),l.i=new ma(d,l.h))}function Me(l,d,f){l.i.set(d,f)}function Fl(l){return Me(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function pa(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ga(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,jN),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function jN(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Eb=/[#\/\?@]/g,$N=/[#\?:]/g,HN=/[#\?]/g,GN=/[#\?@]/g,zN=/#/g;function ma(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Oi(l){l.g||(l.g=new Map,l.h=0,l.i&&UN(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ma.prototype,n.add=function(l,d){Oi(this),this.i=null,l=_s(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function Db(l,d){Oi(l),d=_s(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Tb(l,d){return Oi(l),d=_s(l,d),l.g.has(d)}n.forEach=function(l,d){Oi(this),this.g.forEach(function(f,g){f.forEach(function(C){l.call(d,C,g,this)},this)},this)},n.na=function(){Oi(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=l[g];for(let R=0;R<C.length;R++)f.push(d[g])}return f},n.V=function(l){Oi(this);let d=[];if(typeof l=="string")Tb(this,l)&&(d=d.concat(this.g.get(_s(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},n.set=function(l,d){return Oi(this),this.i=null,l=_s(this,l),Tb(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},n.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Cb(l,d,f){Db(l,d),0<f.length&&(l.i=null,l.g.set(_s(l,d),A(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var C=R;F[g]!==""&&(C+="="+encodeURIComponent(String(F[g]))),l.push(C)}}return this.i=l.join("&")};function _s(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function qN(l,d){d&&!l.j&&(Oi(l),l.i=null,l.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(Db(this,g),Cb(this,C,f))},l)),l.j=d}function WN(l,d){let f=new ha;if(a.Image){let g=new Image;g.onload=_(xi,f,"TestLoadImage: loaded",!0,d,g),g.onerror=_(xi,f,"TestLoadImage: error",!1,d,g),g.onabort=_(xi,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=_(xi,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else d(!1)}function KN(l,d){let f=new ha,g=new AbortController,C=setTimeout(()=>{g.abort(),xi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:g.signal}).then(R=>{clearTimeout(C),R.ok?xi(f,"TestPingServer: ok",!0,d):xi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),xi(f,"TestPingServer: error",!1,d)})}function xi(l,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function QN(){this.g=new NN}function JN(l,d,f){let g=f||"";try{wb(l,function(C,R){let F=C;u(C)&&(F=pp(C)),d.push(g+R+"="+encodeURIComponent(F))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function _a(l){this.l=l.Ub||null,this.j=l.eb||!1}I(_a,gp),_a.prototype.g=function(){return new Ll(this.l,this.j)},_a.prototype.i=function(l){return function(){return l}}({});function Ll(l,d){ut.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ll,ut),n=Ll.prototype,n.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,va(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sb(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sb(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?ya(this):va(this),this.readyState==3&&Sb(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ya(this))},n.Qa=function(l){this.g&&(this.response=l,ya(this))},n.ga=function(){this.g&&ya(this)};function ya(l){l.readyState=4,l.l=null,l.j=null,l.v=null,va(l)}n.setRequestHeader=function(l,d){this.u.append(l,d)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function va(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ab(l){let d="";return q(l,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Tp(l,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Ab(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Me(l,d,f))}function Fe(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Fe,ut);var YN=/^https?$/i,ZN=["POST","PUT"];n=Fe.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yp.g(),this.v=this.o?ib(this.o):ib(yp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(R){Mb(this,R);return}if(l=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),C=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZN,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,F]of f)this.g.setRequestHeader(R,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pb(this),this.u=!0,this.g.send(l),this.u=!1}catch(R){Mb(this,R)}};function Mb(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Rb(l),Vl(l)}function Rb(l){l.A||(l.A=!0,wt(l,"complete"),wt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,wt(this,"complete"),wt(this,"abort"),Vl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vl(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Nb(this):this.bb())},n.bb=function(){Nb(this)};function Nb(l){if(l.h&&typeof o<"u"&&(!l.v[1]||qn(l)!=4||l.Z()!=2)){if(l.u&&qn(l)==4)Xw(l.Ea,0,l);else if(wt(l,"readystatechange"),qn(l)==4){l.h=!1;try{let F=l.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var C=String(l.D).match(bb)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!YN.test(C?C.toLowerCase():"")}f=g}if(f)wt(l,"complete"),wt(l,"success");else{l.m=6;try{var R=2<qn(l)?l.g.statusText:""}catch{R=""}l.l=R+" ["+l.Z()+"]",Rb(l)}}finally{Vl(l)}}}}function Vl(l,d){if(l.g){Pb(l);let f=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||wt(l,"ready");try{f.onreadystatechange=g}catch{}}}function Pb(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function qn(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),RN(d)}};function Ob(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function XN(l){let d={};l=(l.g&&2<=qn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(V(l[g]))continue;var f=T(l[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[C]||[];d[C]=R,R.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function xb(l){this.Aa=0,this.i=[],this.j=new ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,l),this.cb=wa("retryDelaySeedMs",1e4,l),this.Wa=wa("forwardChannelMaxRetries",2,l),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new gb(l&&l.concurrentRequestLimit),this.Da=new QN,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xb.prototype,n.la=8,n.G=1,n.connect=function(l,d,f,g){bt(0),this.W=l,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Hb(this,null,this.W),Ul(this)};function Cp(l){if(kb(l),l.G==3){var d=l.U++,f=zn(l.I);if(Me(f,"SID",l.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),ba(l,f),d=new Pi(l,l.j,d),d.L=2,d.v=Fl(zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Gb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ol(d)}$b(l)}function Bl(l){l.g&&(Ap(l),l.g.cancel(),l.g=null)}function kb(l){Bl(l),l.u&&(a.clearTimeout(l.u),l.u=null),jl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ul(l){if(!mb(l.h)&&!l.s){l.s=!0;var d=l.Ga;ra||Ww(),sa||(ra(),sa=!0),sp.add(d,l),l.B=0}}function eP(l,d){return _b(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=da(m(l.Ga,l,d),jb(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let C=new Pi(this,this.j,l),R=this.o;if(this.S&&(R?(R=y(R),D(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Lb(this,C,d),f=zn(this.I),Me(f,"RID",l),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),ba(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(Ab(R)))+"&"+d:this.m&&Tp(f,this.m,R)),Dp(this.h,C),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),C.T=!0,wp(C,f,null)):wp(C,f,d),this.G=2}}else this.G==3&&(l?Fb(this,l):this.i.length==0||mb(this.h)||Fb(this))};function Fb(l,d){var f;d?f=d.l:f=l.U++;let g=zn(l.I);Me(g,"SID",l.K),Me(g,"RID",f),Me(g,"AID",l.T),ba(l,g),l.m&&l.o&&Tp(g,l.m,l.o),f=new Pi(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Lb(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Dp(l.h,f),wp(f,g,d)}function ba(l,d){l.H&&q(l.H,function(f,g){Me(d,g,f)}),l.l&&wb({},function(f,g){Me(d,g,f)})}function Lb(l,d,f){f=Math.min(l.i.length,f);var g=l.l?m(l.l.Na,l.l,l):null;e:{var C=l.i;let R=-1;for(;;){let F=["count="+f];R==-1?0<f?(R=C[0].g,F.push("ofs="+R)):R=0:F.push("ofs="+R);let Se=!0;for(let rt=0;rt<f;rt++){let be=C[rt].g,dt=C[rt].map;if(be-=R,0>be)R=Math.max(0,C[rt].g-100),Se=!1;else try{JN(dt,F,"req"+be+"_")}catch{g&&g(dt)}}if(Se){g=F.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,g}function Vb(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ra||Ww(),sa||(ra(),sa=!0),sp.add(d,l),l.v=0}}function Sp(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=da(m(l.Fa,l),jb(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,Bb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=da(m(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Bl(this),Bb(this))};function Ap(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Bb(l){l.g=new Pi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=zn(l.qa);Me(d,"RID","rpc"),Me(d,"SID",l.K),Me(d,"AID",l.T),Me(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Me(d,"TO",l.ja),Me(d,"TYPE","xmlhttp"),ba(l,d),l.m&&l.o&&Tp(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Fl(zn(d)),f.m=null,f.P=!0,hb(f,l)}n.Za=function(){this.C!=null&&(this.C=null,Bl(this),Sp(this),bt(19))};function jl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Ub(l,d){var f=null;if(l.g==d){jl(l),Ap(l),l.g=null;var g=2}else if(Ep(l.h,d))f=d.D,yb(l.h,d),g=1;else return;if(l.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=l.B;g=Rl(),wt(g,new cb(g,f)),Ul(l)}else Vb(l);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&eP(l,d)||g==2&&Sp(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),C){case 1:Er(l,5);break;case 4:Er(l,10);break;case 3:Er(l,6);break;default:Er(l,2)}}}function jb(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function Er(l,d){if(l.j.info("Error code "+d),d==2){var f=m(l.fb,l),g=l.Xa;let C=!g;g=new Ir(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xl(g,"https"),Fl(g),C?WN(g.toString(),f):KN(g.toString(),f)}else bt(2);l.G=0,l.l&&l.l.sa(d),$b(l),kb(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function $b(l){if(l.G=0,l.ka=[],l.l){let d=vb(l.h);(d.length!=0||l.i.length!=0)&&(M(l.ka,d),M(l.ka,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.ra()}}function Hb(l,d,f){var g=f instanceof Ir?zn(f):new Ir(f);if(g.g!="")d&&(g.g=d+"."+g.g),kl(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var R=new Ir(null);g&&xl(R,g),d&&(R.g=d),C&&kl(R,C),f&&(R.l=f),g=R}return f=l.D,d=l.ya,f&&d&&Me(g,f,d),Me(g,"VER",l.la),ba(l,g),g}function Gb(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Fe(new _a({eb:f})):new Fe(l.pa),d.Ha(l.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zb(){}n=zb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $l(){}$l.prototype.g=function(l,d){return new xt(l,d)};function xt(l,d){ut.call(this),this.g=new xb(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!V(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new ys(this)}I(xt,ut),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){Cp(this.g)},xt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=pp(l),l=f);d.i.push(new LN(d.Ya++,l)),d.G==3&&Ul(d)},xt.prototype.N=function(){this.g.l=null,delete this.j,Cp(this.g),delete this.g,xt.aa.N.call(this)};function qb(l){mp.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}I(qb,mp);function Wb(){_p.call(this),this.status=1}I(Wb,_p);function ys(l){this.g=l}I(ys,zb),ys.prototype.ua=function(){wt(this.g,"a")},ys.prototype.ta=function(l){wt(this.g,new qb(l))},ys.prototype.sa=function(l){wt(this.g,new Wb)},ys.prototype.ra=function(){wt(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,Uv=Ti.createWebChannelTransport=function(){return new $l},Bv=Ti.getStatEventTarget=function(){return Rl()},Vv=Ti.Event=wr,hf=Ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nl.NO_ERROR=0,Nl.TIMEOUT=8,Nl.HTTP_ERROR=6,il=Ti.ErrorCode=Nl,lb.COMPLETE="complete",Lv=Ti.EventType=lb,rb.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Oo=Ti.WebChannel=rb,m4=Ti.FetchXmlHttpFactory=_a,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Fv=Ti.XhrIo=Fe}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});var pM="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var ea="10.14.0";var as=new ar("@firebase/firestore");function rl(){return as.logLevel}function $(n,...e){if(as.logLevel<=pe.DEBUG){let t=e.map(Tw);as.debug(`Firestore (${ea}): ${n}`,...t)}}function Si(n,...e){if(as.logLevel<=pe.ERROR){let t=e.map(Tw);as.error(`Firestore (${ea}): ${n}`,...t)}}function Uo(n,...e){if(as.logLevel<=pe.WARN){let t=e.map(Tw);as.warn(`Firestore (${ea}): ${n}`,...t)}}function Tw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function te(n="Unexpected state"){let e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+n;throw Si(e),new Error(e)}function Ce(n,e){n||te()}function ne(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends qt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ci=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var _f=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},qv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Wv=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ce(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),s=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ci,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>b(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ci)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ce(typeof i.accessToken=="string"),new _f(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new it(e)}},Kv=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Qv=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Kv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Yv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ce(this.o===void 0);let i=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ce(typeof t.token=="string"),this.R=t.token,new Jv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var yf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=_4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function Ie(n,e){return n<e?-1:n>e?1:0}function jo(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vf=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&te(),i===void 0?i=e.length-t:i>e.length-t&&te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ke=class n extends vf{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class n extends vf{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return y4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};var Zv=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Zv.UNKNOWN_ID=-1;function v4(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=re.fromTimestamp(i===1e9?new ct(t+1,0):new ct(t,i));return new cs(r,K.empty(),e)}function w4(n){return new cs(n.readTime,n.key,-1)}var cs=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(re.min(),K.empty(),-1)}static max(){return new n(re.max(),K.empty(),-1)}};function b4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}var I4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function El(n){return b(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==I4)throw n;$("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},c=>i(c))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;t(e[u]).next(h=>{o[u]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function E4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dl(n){return n.name==="IndexedDbTransactionError"}var JM=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Wf(n){return n==null}function dl(n){return n===0&&1/n==-1/0}function D4(n){return typeof n=="number"&&Number.isInteger(n)&&!dl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var T4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XZ=[...T4,"documentOverlays"],C4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],S4=C4,A4=[...S4,"indexConfiguration","indexState","indexEntries"];var eX=[...A4,"globals"];function gM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ta(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Be=class n{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lo(this.root,e,this.comparator,!0)}},Lo=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Un=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,t,i,r,s){return this}insert(e,t,i){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wf(this.data.getIterator())}getIteratorFrom(e){return new wf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},wf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Bn=class n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(Kt.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var bf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bf("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var M4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(n){if(Ce(!!n),typeof n=="string"){let e=0,t=M4.exec(n);if(Ce(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _r(n){return typeof n=="string"?vt.fromBase64String(n):vt.fromUint8Array(n)}function Cw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Sw(n){let e=n.mapValue.fields.__previous_value__;return Cw(e)?Sw(e):e}function hl(n){let e=Ai(n.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var e0=class{constructor(e,t,i,r,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},If=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ff={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cw(n)?4:XM(n)?9007199254740991:ZM(n)?10:11:te()}function Hn(n,e){if(n===e)return!0;let t=ls(n);if(t!==ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Ai(r.timestampValue),a=Ai(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return _r(r.bytesValue).isEqual(_r(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Ne(r.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(r.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ne(r.integerValue)===Ne(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Ne(r.doubleValue),a=Ne(s.doubleValue);return o===a?dl(o)===dl(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return jo(n.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(gM(o)!==gM(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Hn(o[c],a[c])))return!1;return!0}(n,e);default:return te()}}function fl(n,e){return(n.values||[]).find(t=>Hn(t,e))!==void 0}function $o(n,e){if(n===e)return 0;let t=ls(n),i=ls(e);if(t!==i)return Ie(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ne(s.integerValue||s.doubleValue),c=Ne(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return mM(n.timestampValue,e.timestampValue);case 4:return mM(hl(n),hl(e));case 5:return Ie(n.stringValue,e.stringValue);case 6:return function(s,o){let a=_r(s),c=_r(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=Ie(a[u],c[u]);if(h!==0)return h}return Ie(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ie(Ne(s.latitude),Ne(o.latitude));return a!==0?a:Ie(Ne(s.longitude),Ne(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _M(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,h;let p=s.fields||{},m=o.fields||{},_=(a=p.value)===null||a===void 0?void 0:a.arrayValue,I=(c=m.value)===null||c===void 0?void 0:c.arrayValue,A=Ie(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:_M(_,I)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ff.mapValue&&o===ff.mapValue)return 0;if(s===ff.mapValue)return 1;if(o===ff.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let m=Ie(c[p],h[p]);if(m!==0)return m;let _=$o(a[c[p]],u[h[p]]);if(_!==0)return _}return Ie(c.length,h.length)}(n.mapValue,e.mapValue);default:throw te()}}function mM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);let t=Ai(n),i=Ai(e),r=Ie(t.seconds,i.seconds);return r!==0?r:Ie(t.nanos,i.nanos)}function _M(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=$o(t[r],i[r]);if(s)return s}return Ie(t.length,i.length)}function Ho(n){return t0(n)}function t0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Ai(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _r(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=t0(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${t0(t.fields[o])}`;return r+"}"}(n.mapValue):te()}function yM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function n0(n){return!!n&&"integerValue"in n}function Aw(n){return!!n&&"arrayValue"in n}function vM(n){return!!n&&"nullValue"in n}function wM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gf(n){return!!n&&"mapValue"in n}function ZM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ta(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ol(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var vn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=Kt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=ol(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ta(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(ol(this.value))}};function eR(n){let e=[];return ta(n.fields,(t,i)=>{let r=new Kt([t]);if(gf(i)){let s=eR(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Bn(e)}var wn=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),vn.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,re.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Go=class{constructor(e,t){this.position=e,this.inclusive=t}};function bM(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=K.comparator(K.fromName(o.referenceValue),t.key):i=$o(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function IM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hn(n.position[t],e.position[t]))return!1;return!0}var zo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function R4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Ef=class{},Ke=class n extends Ef{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new r0(e,t,i):t==="array-contains"?new a0(e,i):t==="in"?new c0(e,i):t==="not-in"?new l0(e,i):t==="array-contains-any"?new u0(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new s0(e,i):new o0(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($o(t,this.value)):t!==null&&ls(this.value)===ls(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bn=class n extends Ef{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return tR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function tR(n){return n.op==="and"}function nR(n){return N4(n)&&tR(n)}function N4(n){for(let e of n.filters)if(e instanceof bn)return!1;return!0}function i0(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if(nR(n))return n.filters.map(e=>i0(e)).join(",");{let e=n.filters.map(t=>i0(t)).join(",");return`${n.op}(${e})`}}function iR(n,e){return n instanceof Ke?function(i,r){return r instanceof Ke&&i.op===r.op&&i.field.isEqual(r.field)&&Hn(i.value,r.value)}(n,e):n instanceof bn?function(i,r){return r instanceof bn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&iR(o,r.filters[a]),!0):!1}(n,e):void te()}function rR(n){return n instanceof Ke?function(t){return`${t.field.canonicalString()} ${t.op} ${Ho(t.value)}`}(n):n instanceof bn?function(t){return t.op.toString()+" {"+t.getFilters().map(rR).join(" ,")+"}"}(n):"Filter"}var r0=class extends Ke{constructor(e,t,i){super(e,t,i),this.key=K.fromName(i.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},s0=class extends Ke{constructor(e,t){super(e,"in",t),this.keys=sR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},o0=class extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=sR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function sR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>K.fromName(i.referenceValue))}var a0=class extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Aw(t)&&fl(t.arrayValue,this.value)}},c0=class extends Ke{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&fl(this.value.arrayValue,t)}},l0=class extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!fl(this.value.arrayValue,t)}},u0=class extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Aw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>fl(this.value.arrayValue,i))}};var d0=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function EM(n,e=null,t=[],i=[],r=null,s=null,o=null){return new d0(n,e,t,i,r,s,o)}function Mw(n){let e=ne(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>i0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Wf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ho(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ho(i)).join(",")),e.ue=t}return e.ue}function Rw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!R4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IM(n.startAt,e.startAt)&&IM(n.endAt,e.endAt)}function h0(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var us=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function P4(n,e,t,i,r,s,o,a){return new us(n,e,t,i,r,s,o,a)}function Nw(n){return new us(n)}function DM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oR(n){return n.collectionGroup!==null}function al(n){let e=ne(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yt(Kt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new zo(s,i))}),t.has(Kt.keyField().canonicalString())||e.ce.push(new zo(Kt.keyField(),i))}return e.ce}function jn(n){let e=ne(n);return e.le||(e.le=O4(e,al(n))),e.le}function O4(n,e){if(n.limitType==="F")return EM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new zo(r.field,s)});let t=n.endAt?new Go(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Go(n.startAt.position,n.startAt.inclusive):null;return EM(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function f0(n,e){let t=n.filters.concat([e]);return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function p0(n,e,t){return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kf(n,e){return Rw(jn(n),jn(e))&&n.limitType===e.limitType}function aR(n){return`${Mw(jn(n))}|lt:${n.limitType}`}function xo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>rR(r)).join(", ")}]`),Wf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ho(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ho(r)).join(",")),`Target(${i})`}(jn(n))}; limitType=${n.limitType})`}function Qf(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):K.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of al(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=bM(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,al(i),r)||i.endAt&&!function(o,a,c){let u=bM(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,al(i),r))}(n,e)}function x4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cR(n){return(e,t)=>{let i=!1;for(let r of al(n)){let s=k4(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function k4(n,e,t){let i=n.field.isKeyField()?K.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?$o(c,u):te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return te()}}var yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return YM(this.inner)}size(){return this.innerSize}};var F4=new Be(K.comparator);function Mi(){return F4}var lR=new Be(K.comparator);function sl(...n){let e=lR;for(let t of n)e=e.insert(t.key,t);return e}function uR(n){let e=lR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function is(){return cl()}function dR(){return cl()}function cl(){return new yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var L4=new Be(K.comparator),V4=new yt(K.comparator);function ge(...n){let e=V4;for(let t of n)e=e.add(t);return e}var B4=new yt(Ie);function U4(){return B4}function Pw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function hR(n){return{integerValue:""+n}}function j4(n,e){return D4(e)?hR(e):Pw(n,e)}var qo=class{constructor(){this._=void 0}};function $4(n,e,t){return n instanceof Wo?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Cw(s)&&(s=Sw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ds?pR(n,e):n instanceof hs?gR(n,e):function(r,s){let o=fR(r,s),a=TM(o)+TM(r.Pe);return n0(o)&&n0(r.Pe)?hR(a):Pw(r.serializer,a)}(n,e)}function H4(n,e,t){return n instanceof ds?pR(n,e):n instanceof hs?gR(n,e):t}function fR(n,e){return n instanceof Ko?function(i){return n0(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Wo=class extends qo{},ds=class extends qo{constructor(e){super(),this.elements=e}};function pR(n,e){let t=mR(e);for(let i of n.elements)t.some(r=>Hn(r,i))||t.push(i);return{arrayValue:{values:t}}}var hs=class extends qo{constructor(e){super(),this.elements=e}};function gR(n,e){let t=mR(e);for(let i of n.elements)t=t.filter(r=>!Hn(r,i));return{arrayValue:{values:t}}}var Ko=class extends qo{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function TM(n){return Ne(n.integerValue||n.doubleValue)}function mR(n){return Aw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function G4(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof ds&&r instanceof ds||i instanceof hs&&r instanceof hs?jo(i.elements,r.elements,Hn):i instanceof Ko&&r instanceof Ko?Hn(i.Pe,r.Pe):i instanceof Wo&&r instanceof Wo}(n.transform,e.transform)}var g0=class{constructor(e,t){this.version=e,this.transformResults=t}},os=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function mf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Qo=class{};function _R(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Df(n.key,os.none()):new fs(n.key,n.data,os.none());{let t=n.data,i=vn.empty(),r=new yt(Kt.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ri(n.key,i,new Bn(r.toArray()),os.none())}}function z4(n,e,t){n instanceof fs?function(r,s,o){let a=r.value.clone(),c=SM(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ri?function(r,s,o){if(!mf(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=SM(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(yR(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function ll(n,e,t,i){return n instanceof fs?function(s,o,a,c){if(!mf(s.precondition,o))return a;let u=s.value.clone(),h=AM(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ri?function(s,o,a,c){if(!mf(s.precondition,o))return a;let u=AM(s.fieldTransforms,c,o),h=o.data;return h.setAll(yR(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(s,o,a){return mf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function q4(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=fR(i.transform,r||null);s!=null&&(t===null&&(t=vn.empty()),t.set(i.field,s))}return t||null}function CM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&jo(i,r,(s,o)=>G4(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var fs=class extends Qo{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ri=class extends Qo{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function yR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function SM(n,e,t){let i=new Map;Ce(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,H4(o,a,t[r]))}return i}function AM(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,$4(s,o,e))}return i}var Df=class extends Qo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},m0=class extends Qo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _0=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&z4(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=ll(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=ll(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=dR();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let c=_R(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(t,i)=>CM(t,i))&&jo(this.baseMutations,e.baseMutations,(t,i)=>CM(t,i))}},y0=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ce(e.mutations.length===i.length);let r=function(){return L4}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var v0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var w0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var qe,ve;function W4(n){switch(n){default:return te();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function vR(n){if(n===void 0)return Si("GRPC error has no .code"),N.UNKNOWN;switch(n){case qe.OK:return N.OK;case qe.CANCELLED:return N.CANCELLED;case qe.UNKNOWN:return N.UNKNOWN;case qe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case qe.INTERNAL:return N.INTERNAL;case qe.UNAVAILABLE:return N.UNAVAILABLE;case qe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case qe.NOT_FOUND:return N.NOT_FOUND;case qe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case qe.ABORTED:return N.ABORTED;case qe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case qe.DATA_LOSS:return N.DATA_LOSS;default:return te()}}(ve=qe||(qe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var MM=null;function K4(){return new TextEncoder}var Q4=new gr([4294967295,4294967295],0);function RM(n){let e=K4().encode(n),t=new kv;return t.update(e),new Uint8Array(t.digest())}function NM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gr([t,i],0),new gr([r,s],0)]}var b0=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new rs(`Invalid padding: ${t}`);if(i<0)throw new rs(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new rs(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new rs(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=gr.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(gr.fromNumber(i)));return r.compare(Q4)===1&&(r=new gr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=RM(e),[i,r]=NM(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=RM(e),[i,r]=NM(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},rs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Tf=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(re.min(),r,new Be(Ie),Mi(),ge())}},pl=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,ge(),ge(),ge())}};var Vo=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Cf=class{constructor(e,t){this.targetId=e,this.me=t}},Sf=class{constructor(e,t,i=vt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Af=class{constructor(){this.fe=0,this.ge=OM(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),t=ge(),i=ge();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:te()}}),new pl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=OM()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},I0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=PM(),this.Qe=new Be(Ie)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(h0(s))if(i===0){let o=new K(s.path);this.Ue(t,o,wn.newNoDocument(o,re.min()))}else Ce(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}MM?.et(function(h,p,m,_,I){var A,M,P,V,L,W;let de={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},q=p.unchangedNames;return q&&(de.bloomFilter={applied:I===0,hashCount:(A=q?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(V=(P=(M=q?.bits)===null||M===void 0?void 0:M.bitmap)===null||P===void 0?void 0:P.length)!==null&&V!==void 0?V:0,padding:(W=(L=q?.bits)===null||L===void 0?void 0:L.padding)!==null&&W!==void 0?W:0,mightContain:E=>{var y;return(y=_?.mightContain(E))!==null&&y!==void 0&&y}}),de}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=_r(i).toUint8Array()}catch(c){if(c instanceof bf)return Uo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new b0(o,r,s)}catch(c){return Uo(c instanceof rs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&h0(a.target)){let c=new K(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,wn.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=ge();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Tf(e,t,this.Qe,this.ke,i);return this.ke=Mi(),this.qe=PM(),this.Qe=new Be(Ie),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Af,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new yt(Ie),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||$("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Af),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function PM(){return new Be(K.comparator)}function OM(){return new Be(K.comparator)}var J4={asc:"ASCENDING",desc:"DESCENDING"},Y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z4={and:"AND",or:"OR"},E0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function D0(n,e){return n.useProto3Json||Wf(e)?e:{value:e}}function Mf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function X4(n,e){return Mf(n,e.toTimestamp())}function $n(n){return Ce(!!n),re.fromTimestamp(function(t){let i=Ai(t);return new ct(i.seconds,i.nanos)}(n))}function Ow(n,e){return T0(n,e).canonicalString()}function T0(n,e){let t=function(r){return new ke(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function bR(n){let e=ke.fromString(n);return Ce(CR(e)),e}function C0(n,e){return Ow(n.databaseId,e.path)}function jv(n,e){let t=bR(e);if(t.get(1)!==n.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(ER(t))}function IR(n,e){return Ow(n.databaseId,e)}function ez(n){let e=bR(n);return e.length===4?ke.emptyPath():ER(e)}function S0(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ER(n){return Ce(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function xM(n,e,t){return{name:C0(n,e),fields:t.value.mapValue.fields}}function tz(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Ce(h===void 0||typeof h=="string"),vt.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array),vt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let h=u.code===void 0?N.UNKNOWN:vR(u.code);return new j(h,u.message||"")}(o);t=new Sf(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=jv(n,i.document.name),s=$n(i.document.updateTime),o=i.document.createTime?$n(i.document.createTime):re.min(),a=new vn({mapValue:{fields:i.document.fields}}),c=wn.newFoundDocument(r,s,o,a),u=i.targetIds||[],h=i.removedTargetIds||[];t=new Vo(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=jv(n,i.document),s=i.readTime?$n(i.readTime):re.min(),o=wn.newNoDocument(r,s),a=i.removedTargetIds||[];t=new Vo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=jv(n,i.document),s=i.removedTargetIds||[];t=new Vo([],s,r,null)}else{if(!("filter"in e))return te();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new w0(r,s),a=i.targetId;t=new Cf(a,o)}}return t}function nz(n,e){let t;if(e instanceof fs)t={update:xM(n,e.key,e.value)};else if(e instanceof Df)t={delete:C0(n,e.key)};else if(e instanceof Ri)t={update:xM(n,e.key,e.data),updateMask:dz(e.fieldMask)};else{if(!(e instanceof m0))return te();t={verify:C0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Wo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ds)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ko)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:X4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(n,e.precondition)),t}function iz(n,e){return n&&n.length>0?(Ce(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?$n(r.updateTime):$n(s);return o.isEqual(re.min())&&(o=$n(s)),new g0(o,r.transformResults||[])}(t,e))):[]}function rz(n,e){return{documents:[IR(n,e.path)]}}function sz(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=IR(n,r);let s=function(u){if(u.length!==0)return TR(bn.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:ko(m.field),direction:cz(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=D0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function oz(n){let e=ez(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Ce(i===1);let h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(p){let m=DR(p);return m instanceof bn&&nR(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(I){return new zo(Fo(I.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Wf(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(p){let m=!!p.before,_=p.values||[];return new Go(_,m)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let m=!p.before,_=p.values||[];return new Go(_,m)}(t.endAt)),P4(e,r,o,s,a,"F",c,u)}function az(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Fo(t.unaryFilter.field);return Ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Fo(t.unaryFilter.field);return Ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Fo(t.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Fo(t.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(n):n.fieldFilter!==void 0?function(t){return Ke.create(Fo(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bn.create(t.compositeFilter.filters.map(i=>DR(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return te()}}(t.compositeFilter.op))}(n):te()}function cz(n){return J4[n]}function lz(n){return Y4[n]}function uz(n){return Z4[n]}function ko(n){return{fieldPath:n.canonicalString()}}function Fo(n){return Kt.fromServerFormat(n.fieldPath)}function TR(n){return n instanceof Ke?function(t){if(t.op==="=="){if(wM(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(vM(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wM(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(vM(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:lz(t.op),value:t.value}}}(n):n instanceof bn?function(t){let i=t.getFilters().map(r=>TR(r));return i.length===1?i[0]:{compositeFilter:{op:uz(t.op),filters:i}}}(n):te()}function dz(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var gl=class n{constructor(e,t,i,r,s=re.min(),o=re.min(),a=vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var A0=class{constructor(e){this.ct=e}};function hz(n){let e=oz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?p0(e,e.limit,"L"):e}var Rf=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ne(e.integerValue));else if("doubleValue"in e){let i=Ne(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),dl(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Ai(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(_r(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?XM(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ZM(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):te()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(Ne(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),K.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Rf.vt=new Rf;var M0=class{constructor(){this.un=new R0}addToCollectionParentIndex(e,t){return this.un.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(cs.min())}updateCollectionGroup(e,t,i){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},R0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new yt(ke.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new yt(ke.comparator)).toArray()}};var nX=new Uint8Array(0);var Vn=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);var ml=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var N0=class{constructor(){this.changes=new yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?x.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var P0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var O0=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&ll(i.mutation,r,Bn.empty(),ct.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ge()){let r=is();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=sl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ge()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Mi(),o=cl(),a=function(){return cl()}();return t.forEach((c,u)=>{let h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof Ri)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ll(h.mutation,u,h.mutation.getFieldMask(),ct.now())):o.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new P0(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=cl(),r=new Be((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let h=i.get(c)||Bn.empty();h=a.applyToLocalView(u,h),i.set(c,h);let p=(r.get(a.batchId)||ge()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,p=dR();h.forEach(m=>{if(!s.has(m)){let _=_R(t.get(m),i.get(m));_!==null&&p.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return x.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):x.resolve(is()),a=-1,c=s;return o.next(u=>x.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ge())).next(h=>({batchId:a,changes:uR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(i=>{let r=sl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=sl();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,c=>{let u=function(p,m){return new us(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((c,u)=>{let h=u.getKey();o.get(h)===null&&(o=o.insert(h,wn.newInvalidDocument(h)))});let a=sl();return o.forEach((c,u)=>{let h=s.get(c);h!==void 0&&ll(h.mutation,u,Bn.empty(),ct.now()),Qf(t,u)&&(a=a.insert(c,u))}),a})}};var x0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return x.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:$n(r.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:hz(r.bundledQuery),readTime:$n(r.readTime)}}(t)),x.resolve()}};var k0=class{constructor(){this.overlays=new Be(K.comparator),this.Ir=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let i=is();return x.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),x.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),x.resolve()}getOverlaysForCollection(e,t,i){let r=is(),s=t.length+1,o=new K(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return x.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Be((u,h)=>u-h),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=is(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=is(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return x.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new v0(t,i));let s=this.Ir.get(t);s===void 0&&(s=ge(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var F0=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var _l=class{constructor(){this.Tr=new yt(We.Er),this.dr=new yt(We.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new We(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new We(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new K(new ke([])),i=new We(t,e),r=new We(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new K(new ke([])),i=new We(t,e),r=new We(t,e+1),s=ge();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new We(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},We=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return K.comparator(e.key,t.key)||Ie(e.wr,t.wr)}static Ar(e,t){return Ie(e.wr,t.wr)||K.comparator(e.key,t.key)}};var L0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new yt(We.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new _0(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new We(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,t){return x.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new We(t,0),r=new We(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yt(Ie);return t.forEach(r=>{let s=new We(r,0),o=new We(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),x.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;K.isDocumentKey(s)||(s=s.child(""));let o=new We(new K(s),0),a=new yt(Ie);return this.br.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ce(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return x.forEach(t.mutations,r=>{let s=new We(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new We(t,0),r=this.br.firstAfterOrEqual(i);return x.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var V0=class{constructor(e){this.Mr=e,this.docs=function(){return new Be(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return x.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let i=Mi();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():wn.newInvalidDocument(r))}),x.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Mi(),o=t.path,a=new K(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||b4(w4(h),i)<=0||(r.has(h.key)||Qf(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,t,i,r){te()}Or(e,t){return x.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new B0(this)}getSize(e){return x.resolve(this.size)}},B0=class extends N0{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),x.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var U0=class{constructor(e){this.persistence=e,this.Nr=new yr(t=>Mw(t),Rw),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _l,this.targetCount=0,this.kr=ml.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),x.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Kn(t),x.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),x.waitFor(s).next(()=>r)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return x.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),x.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return x.resolve(i)}containsKey(e,t){return x.resolve(this.Br.containsKey(t))}};var j0=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new JM(0),this.Kr=!1,this.Kr=!0,this.$r=new F0,this.referenceDelegate=e(this),this.Ur=new U0(this),this.indexManager=new M0,this.remoteDocumentCache=function(r){return new V0(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new A0(t),this.Gr=new x0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new L0(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){$("MemoryPersistence","Starting transaction:",e);let r=new $0(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return x.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},$0=class extends Xv{constructor(e){super(),this.currentSequenceNumber=e}},H0=class n{constructor(e){this.persistence=e,this.Jr=new _l,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),x.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),x.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,i=>{let r=K.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,re.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return x.or([()=>x.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var G0=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=ge(),r=ge();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var z0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var q0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return US()?8:E4(nt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new z0;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(rl()<=pe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(rl()<=pe.DEBUG&&$("QueryEngine","Query:",xo(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(rl()<=pe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(t))):x.resolve())}Yi(e,t){if(DM(t))return x.resolve(null);let i=jn(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=p0(t,null,"F"),i=jn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=ge(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.ts(t,a);return this.ns(t,u,o,c.readTime)?this.Yi(e,p0(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,i,r){return DM(t)||r.isEqual(re.min())?x.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?x.resolve(null):(rl()<=pe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xo(t)),this.rs(e,o,t,v4(r,-1)).next(a=>a))})}ts(e,t){let i=new yt(cR(e));return t.forEach((r,s)=>{Qf(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return rl()<=pe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",xo(t)),this.Ji.getDocumentsMatchingQuery(e,t,cs.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var W0=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Be(Ie),this._s=new yr(s=>Mw(s),Rw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function fz(n,e,t,i){return new W0(n,e,t,i)}function SR(n,e){return b(this,null,function*(){let t=ne(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=ge();for(let u of r){o.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of s){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function pz(n,e){let t=ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){let p=u.batch,m=p.keys(),_=x.resolve();return m.forEach(I=>{_=_.next(()=>h.getEntry(c,I)).next(A=>{let M=u.docVersions.get(I);Ce(M!==null),A.version.compareTo(M)<0&&(p.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),h.addEntry(A)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function AR(n){let e=ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function gz(n,e){let t=ne(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=r.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,h.addedDocuments,p)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(vt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,i)),r=r.insert(p,_),function(A,M,P){return A.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,_,h)&&a.push(t.Ur.updateTargetData(s,_))});let c=Mi(),u=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(mz(s,o,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!i.isEqual(re.min())){let h=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.os=r,s))}function mz(n,e,t){let i=ge(),r=ge();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Mi();return t.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(re.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:r}})}function _z(n,e){let t=ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function yz(n,e){let t=ne(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,x.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new gl(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function K0(n,e,t){return b(this,null,function*(){let i=ne(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Dl(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function kM(n,e,t){let i=ne(n),r=re.min(),s=ge();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){let p=ne(c),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(u,h)}(i,o,jn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:re.min(),t?s:ge())).next(a=>(vz(i,x4(e),a),{documents:a,Ts:s})))}function vz(n,e,t){let i=n.us.get(e)||re.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var Nf=class{constructor(){this.activeTargetIds=U4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Q0=class{constructor(){this.so=new Nf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Nf,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var J0=class{_o(e){}shutdown(){}};var Pf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pf=null;function $v(){return pf===null?pf=function(){return 268435456+Math.round(2147483648*Math.random())}():pf++,"0x"+pf.toString(16)}var wz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Y0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var _t="WebChannelConnection",Z0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let a=$v(),c=this.xo(t,i.toUriEncodedString());$("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,c,u,r).then(h=>($("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Uo("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=wz[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=$v();return new Promise((o,a)=>{let c=new Fv;c.setWithCredentials(!0),c.listenOnce(Lv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case il.NO_ERROR:let h=c.getResponseJson();$(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case il.TIMEOUT:$(_t,`RPC '${e}' ${s} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:let p=c.getStatus();if($(_t,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let I=function(M){let P=M.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(P)>=0?P:N.UNKNOWN}(_.status);a(new j(I,_.message))}else a(new j(N.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{$(_t,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);$(_t,`RPC '${e}' ${s} sending request:`,r),c.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=$v(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uv(),a=Bv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let h=s.join("");$(_t,`Creating RPC '${e}' stream ${r}: ${h}`,c);let p=o.createWebChannel(h,c),m=!1,_=!1,I=new Y0({Io:M=>{_?$(_t,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(m||($(_t,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),$(_t,`RPC '${e}' stream ${r} sending:`,M),p.send(M))},To:()=>p.close()}),A=(M,P,V)=>{M.listen(P,L=>{try{V(L)}catch(W){setTimeout(()=>{throw W},0)}})};return A(p,Oo.EventType.OPEN,()=>{_||($(_t,`RPC '${e}' stream ${r} transport opened.`),I.yo())}),A(p,Oo.EventType.CLOSE,()=>{_||(_=!0,$(_t,`RPC '${e}' stream ${r} transport closed`),I.So())}),A(p,Oo.EventType.ERROR,M=>{_||(_=!0,Uo(_t,`RPC '${e}' stream ${r} transport errored:`,M),I.So(new j(N.UNAVAILABLE,"The operation could not be completed")))}),A(p,Oo.EventType.MESSAGE,M=>{var P;if(!_){let V=M.data[0];Ce(!!V);let L=V,W=L.error||((P=L[0])===null||P===void 0?void 0:P.error);if(W){$(_t,`RPC '${e}' stream ${r} received error:`,W);let de=W.status,q=function(v){let D=qe[v];if(D!==void 0)return vR(D)}(de),E=W.message;q===void 0&&(q=N.INTERNAL,E="Unknown error status: "+de+" with message "+W.message),_=!0,I.So(new j(q,E)),p.close()}else $(_t,`RPC '${e}' stream ${r} received:`,V),I.bo(V)}}),A(a,Vv.STAT_EVENT,M=>{M.stat===hf.PROXY?$(_t,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===hf.NOPROXY&&$(_t,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}};function Hv(){return typeof document<"u"?document:null}function Jf(n){return new E0(n,!0)}var Of=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var xf=class{constructor(e,t,i,r,s,o,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Of(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return b(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return b(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return b(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new j(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>b(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},X0=class extends xf{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=tz(this.serializer,e),i=function(s){if(!("targetChange"in s))return re.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?$n(o.readTime):re.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=S0(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=h0(c)?{documents:rz(s,c)}:{query:sz(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wR(s,o.resumeToken);let u=D0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Mf(s,o.snapshotVersion.toTimestamp());let u=D0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=az(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=S0(this.serializer),t.removeTarget=e,this.a_(t)}},ew=class extends xf{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=iz(e.writeResults,e.commitTime),i=$n(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=S0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>nz(this.serializer,i))};this.a_(t)}};var tw=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,T0(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,T0(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},nw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Si(t),this.D_=!1):$("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var iw=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>b(this,null,function*(){ps(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(c){return b(this,null,function*(){let u=ne(c);u.L_.add(4),yield Tl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Yf(u)})}(this))}))}),this.q_=new nw(i,r)}};function Yf(n){return b(this,null,function*(){if(ps(n))for(let e of n.B_)yield e(!0)})}function Tl(n){return b(this,null,function*(){for(let e of n.B_)yield e(!1)})}function MR(n,e){let t=ne(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Lw(t)?Fw(t):na(t).r_()&&kw(t,e))}function xw(n,e){let t=ne(n),i=na(t);t.N_.delete(e),i.r_()&&RR(t,e),t.N_.size===0&&(i.r_()?i.o_():ps(t)&&t.q_.set("Unknown"))}function kw(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).A_(e)}function RR(n,e){n.Q_.xe(e),na(n).R_(e)}function Fw(n){n.Q_=new I0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),na(n).start(),n.q_.v_()}function Lw(n){return ps(n)&&!na(n).n_()&&n.N_.size>0}function ps(n){return ne(n).L_.size===0}function NR(n){n.Q_=void 0}function bz(n){return b(this,null,function*(){n.q_.set("Online")})}function Iz(n){return b(this,null,function*(){n.N_.forEach((e,t)=>{kw(n,e)})})}function Ez(n,e){return b(this,null,function*(){NR(n),Lw(n)?(n.q_.M_(e),Fw(n)):n.q_.set("Unknown")})}function Dz(n,e,t){return b(this,null,function*(){if(n.q_.set("Online"),e instanceof Sf&&e.state===2&&e.cause)try{yield function(r,s){return b(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield kf(n,i)}else if(e instanceof Vo?n.Q_.Ke(e):e instanceof Cf?n.Q_.He(e):n.Q_.We(e),!t.isEqual(re.min()))try{let i=yield AR(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let h=s.N_.get(c);if(!h)return;s.N_.set(c,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),RR(s,c);let p=new gl(h.target,c,u,h.sequenceNumber);kw(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){$("RemoteStore","Failed to raise snapshot:",i),yield kf(n,i)}})}function kf(n,e,t){return b(this,null,function*(){if(!Dl(e))throw e;n.L_.add(1),yield Tl(n),n.q_.set("Offline"),t||(t=()=>AR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Yf(n)}))})}function PR(n,e){return e().catch(t=>kf(n,t,e))}function Zf(n){return b(this,null,function*(){let e=ne(n),t=vr(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Tz(e);)try{let r=yield _z(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,Cz(e,r)}catch(r){yield kf(e,r)}OR(e)&&xR(e)})}function Tz(n){return ps(n)&&n.O_.length<10}function Cz(n,e){n.O_.push(e);let t=vr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function OR(n){return ps(n)&&!vr(n).n_()&&n.O_.length>0}function xR(n){vr(n).start()}function Sz(n){return b(this,null,function*(){vr(n).p_()})}function Az(n){return b(this,null,function*(){let e=vr(n);for(let t of n.O_)e.m_(t.mutations)})}function Mz(n,e,t){return b(this,null,function*(){let i=n.O_.shift(),r=y0.from(i,e,t);yield PR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Zf(n)})}function Rz(n,e){return b(this,null,function*(){e&&vr(n).V_&&(yield function(i,r){return b(this,null,function*(){if(function(o){return W4(o)&&o!==N.ABORTED}(r.code)){let s=i.O_.shift();vr(i).s_(),yield PR(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Zf(i)}})}(n,e)),OR(n)&&xR(n)})}function FM(n,e){return b(this,null,function*(){let t=ne(n);t.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let i=ps(t);t.L_.add(3),yield Tl(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Yf(t)})}function Nz(n,e){return b(this,null,function*(){let t=ne(n);e?(t.L_.delete(2),yield Yf(t)):e||(t.L_.add(2),yield Tl(t),t.q_.set("Unknown"))})}function na(n){return n.K_||(n.K_=function(t,i,r){let s=ne(t);return s.w_(),new X0(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:bz.bind(null,n),Ro:Iz.bind(null,n),mo:Ez.bind(null,n),d_:Dz.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.K_.s_(),Lw(n)?Fw(n):n.q_.set("Unknown")):(yield n.K_.stop(),NR(n))}))),n.K_}function vr(n){return n.U_||(n.U_=function(t,i,r){let s=ne(t);return s.w_(),new ew(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Sz.bind(null,n),mo:Rz.bind(null,n),f_:Az.bind(null,n),g_:Mz.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.U_.s_(),yield Zf(n)):(yield n.U_.stop(),n.O_.length>0&&($("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var rw=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Vw(n,e){if(Si("AsyncQueue",`${e}: ${n}`),Dl(n))return new j(N.UNAVAILABLE,`${e}: ${n}`);throw n}var Ff=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||K.comparator(t.key,i.key):(t,i)=>K.comparator(t.key,i.key),this.keyedMap=sl(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Lf=class{constructor(){this.W_=new Be(K.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},Jo=class n{constructor(e,t,i,r,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Ff.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var sw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},ow=class{constructor(){this.queries=LM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=ne(t),s=r.queries;r.queries=LM(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(i)})})(this,new j(N.ABORTED,"Firestore shutting down"))}};function LM(){return new yr(n=>aR(n),Kf)}function Pz(n,e){return b(this,null,function*(){let t=ne(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new sw,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=Vw(o,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Bw(t)})}function Oz(n,e){return b(this,null,function*(){let t=ne(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function xz(n,e){let t=ne(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&Bw(t)}function kz(n,e,t){let i=ne(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function Bw(n){n.Y_.forEach(e=>{e.next()})}var aw,VM;(VM=aw||(aw={})).ea="default",VM.Cache="cache";var cw=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==aw.Cache}};var Vf=class{constructor(e){this.key=e}},Bf=class{constructor(e){this.key=e}},lw=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=cR(e),this.Ra=new Ff(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Lf,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{let m=r.get(h),_=Qf(this.query,p)?p:null,I=!!m&&this.mutatedKeys.has(m.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),M=!1;m&&_?m.data.isEqual(_.data)?I!==A&&(i.track({type:3,doc:_}),M=!0):this.ga(m,_)||(i.track({type:2,doc:_}),M=!0,(c&&this.Aa(_,c)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),M=!0):m&&!_&&(i.track({type:1,doc:m}),M=!0,(c||u)&&(a=!0)),M&&(_?(o=o.add(_),s=A?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(_,I){let A=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return A(_)-A(I)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Jo(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new Bf(i))}),this.da.forEach(i=>{e.has(i)||t.push(new Vf(i))}),t}ba(e){this.Ta=e.Ts,this.da=ge();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Jo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},uw=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},dw=class{constructor(e){this.key=e,this.va=!1}},hw=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new yr(a=>aR(a),Kf),this.Ma=new Map,this.xa=new Set,this.Oa=new Be(K.comparator),this.Na=new Map,this.La=new _l,this.Ba={},this.ka=new Map,this.qa=ml.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Fz(n,e,t=!0){return b(this,null,function*(){let i=UR(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield kR(i,e,t,!0),r})}function Lz(n,e){return b(this,null,function*(){let t=UR(n);yield kR(t,e,!0,!1)})}function kR(n,e,t,i){return b(this,null,function*(){let r=yield yz(n.localStore,jn(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return i&&(a=yield Vz(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&MR(n.remoteStore,r),a})}function Vz(n,e,t,i,r){return b(this,null,function*(){n.Ka=(p,m,_)=>function(A,M,P,V){return b(this,null,function*(){let L=M.view.ma(P);L.ns&&(L=yield kM(A.localStore,M.query,!1).then(({documents:E})=>M.view.ma(E,L)));let W=V&&V.targetChanges.get(M.targetId),de=V&&V.targetMismatches.get(M.targetId)!=null,q=M.view.applyChanges(L,A.isPrimaryClient,W,de);return UM(A,M.targetId,q.wa),q.snapshot})}(n,p,m,_);let s=yield kM(n.localStore,e,!0),o=new lw(e,s.Ts),a=o.ma(s.documents),c=pl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=o.applyChanges(a,n.isPrimaryClient,c);UM(n,t,u.wa);let h=new uw(e,t,o);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function Bz(n,e,t){return b(this,null,function*(){let i=ne(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Kf(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield K0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&xw(i.remoteStore,r.targetId),fw(i,r.targetId)}).catch(El))):(fw(i,r.targetId),yield K0(i.localStore,r.targetId,!0))})}function Uz(n,e){return b(this,null,function*(){let t=ne(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),xw(t.remoteStore,i.targetId))})}function jz(n,e,t){return b(this,null,function*(){let i=Kz(n);try{let r=yield function(o,a){let c=ne(o),u=ct.now(),h=a.reduce((_,I)=>_.add(I.key),ge()),p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=Mi(),A=ge();return c.cs.getEntries(_,h).next(M=>{I=M,I.forEach((P,V)=>{V.isValidDocument()||(A=A.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,I)).next(M=>{p=M;let P=[];for(let V of a){let L=q4(V,p.get(V.key).overlayedDocument);L!=null&&P.push(new Ri(V.key,L,eR(L.value.mapValue),os.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,P,a)}).next(M=>{m=M;let P=M.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(_,M.batchId,P)})}).then(()=>({batchId:m.batchId,changes:uR(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Be(Ie)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,t),yield Cl(i,r.changes),yield Zf(i.remoteStore)}catch(r){let s=Vw(r,"Failed to persist write");t.reject(s)}})}function FR(n,e){return b(this,null,function*(){let t=ne(n);try{let i=yield gz(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(Ce(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Ce(o.va):r.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),yield Cl(t,i,e)}catch(i){yield El(i)}})}function BM(n,e,t){let i=ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=ne(o);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(u=!0)}),u&&Bw(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function $z(n,e,t){return b(this,null,function*(){let i=ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new Be(K.comparator);o=o.insert(s,wn.newNoDocument(s,re.min()));let a=ge().add(s),c=new Tf(re.min(),new Map,new Be(Ie),o,a);yield FR(i,c),i.Oa=i.Oa.remove(s),i.Na.delete(e),Uw(i)}else yield K0(i.localStore,e,!1).then(()=>fw(i,e,t)).catch(El)})}function Hz(n,e){return b(this,null,function*(){let t=ne(n),i=e.batch.batchId;try{let r=yield pz(t.localStore,e);VR(t,i,null),LR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Cl(t,r)}catch(r){yield El(r)}})}function Gz(n,e,t){return b(this,null,function*(){let i=ne(n);try{let r=yield function(o,a){let c=ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Ce(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(i.localStore,e);VR(i,e,t),LR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Cl(i,r)}catch(r){yield El(r)}})}function LR(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function VR(n,e,t){let i=ne(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function fw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||BR(n,i)})}function BR(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(xw(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Uw(n))}function UM(n,e,t){for(let i of t)i instanceof Vf?(n.La.addReference(i.key,e),zz(n,i)):i instanceof Bf?($("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||BR(n,i.key)):te()}function zz(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||($("SyncEngine","New document in limbo: "+t),n.xa.add(i),Uw(n))}function Uw(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new K(ke.fromString(e)),i=n.qa.next();n.Na.set(i,new dw(t)),n.Oa=n.Oa.insert(t,i),MR(n.remoteStore,new gl(jn(Nw(t.path)),i,"TargetPurposeLimboResolution",JM.oe))}}function Cl(n,e,t){return b(this,null,function*(){let i=ne(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{o.push(i.Ka(c,e,t).then(u=>{var h;if((u||t)&&i.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){r.push(u);let p=G0.Wi(c.targetId,u);s.push(p)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(c,u){return b(this,null,function*(){let h=ne(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(u,m=>x.forEach(m.$i,_=>h.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>x.forEach(m.Ui,_=>h.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Dl(p))throw p;$("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let _=h.os.get(m),I=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(I);h.os=h.os.insert(m,A)}}})}(i.localStore,s))})}function qz(n,e){return b(this,null,function*(){let t=ne(n);if(!t.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let i=yield SR(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new j(N.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Cl(t,i.hs)}})}function Wz(n,e){let t=ne(n),i=t.Na.get(e);if(i&&i.va)return ge().add(i.key);{let r=ge(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function UR(n){let e=ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$z.bind(null,e),e.Ca.d_=xz.bind(null,e.eventManager),e.Ca.$a=kz.bind(null,e.eventManager),e}function Kz(n){let e=ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gz.bind(null,e),e}var jM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Jf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return fz(this.persistence,new q0,t.initialUser,this.serializer)}Ga(t){return new j0(H0.Zr,this.serializer)}Wa(t){return new Q0}terminate(){return b(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Qz=(()=>{class n{initialize(t,i){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qz.bind(null,this.syncEngine),yield Nz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new ow}()}createDatastore(t){let i=Jf(t.databaseInfo.databaseId),r=function(o){return new Z0(o)}(t.databaseInfo);return function(o,a,c,u){return new tw(o,a,c,u)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,o,a,c){return new iw(r,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,i=>BM(this.syncEngine,i,0),function(){return Pf.D()?new Pf:new J0}())}createSyncEngine(t,i){return function(s,o,a,c,u,h,p){let m=new hw(s,o,a,c,u,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return b(this,null,function*(){var t,i;yield function(s){return b(this,null,function*(){let o=ne(s);$("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Tl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var pw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var gw=class{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=it.UNAUTHENTICATED,this.clientId=yf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>b(this,null,function*(){$("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Vw(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Gv(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>b(this,null,function*(){i.isEqual(r)||(yield SR(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function $M(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Jz(n);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>FM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>FM(e.remoteStore,r)),n._onlineComponents=e})}function Jz(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===N.FAILED_PRECONDITION||r.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),yield Gv(n,new jM)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield Gv(n,new jM);return n._offlineComponents})}function jR(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield $M(n,n._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield $M(n,new Qz))),n._onlineComponents})}function Yz(n){return jR(n).then(e=>e.syncEngine)}function HM(n){return b(this,null,function*(){let e=yield jR(n),t=e.eventManager;return t.onListen=Fz.bind(null,e.syncEngine),t.onUnlisten=Bz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Uz.bind(null,e.syncEngine),t})}function $R(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var GM=new Map;function HR(n,e,t){if(!t)throw new j(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zz(n,e,t,i){if(e===!0&&i===!0)throw new j(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zM(n){if(!K.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qM(n){if(K.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":te()}function ul(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Xf(n);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Uf=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$R((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Yo=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uf(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zv;switch(i.type){case"firstParty":return new Qv(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=GM.get(t);i&&($("ComponentProvider","Removing Datastore"),GM.delete(t),i.terminate())}(this),Promise.resolve()}};function GR(n,e,t,i={}){var r;let s=(n=ul(n,Yo))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=it.MOCK_USER;else{a=xS(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new it(u)}n._authCredentials=new qv(new _f(a,c))}}var Zo=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Qt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},mr=class n extends Zo{constructor(e,t,i){super(e,t,Nw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function zR(n,e,...t){if(n=at(n),HR("collection","path",e),n instanceof Yo){let i=ke.fromString(e,...t);return qM(i),new mr(n,null,i)}{if(!(n instanceof Qt||n instanceof mr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ke.fromString(e,...t));return qM(i),new mr(n.firestore,null,i)}}function qR(n,e,...t){if(n=at(n),arguments.length===1&&(e=yf.newId()),HR("doc","path",e),n instanceof Yo){let i=ke.fromString(e,...t);return zM(i),new Qt(n,null,new K(i))}{if(!(n instanceof Qt||n instanceof mr))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ke.fromString(e,...t));return zM(i),new Qt(n.firestore,n instanceof mr?n.converter:null,new K(i))}}var jf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Of(this,"async_queue_retry"),this.Vu=()=>{let i=Hv();i&&$("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=Hv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Hv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Ci;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return b(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Dl(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Si("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=rw.createAndSchedule(this,e,t,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return b(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function WM(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Xo=class extends Yo{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new jf,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new jf(e),this._firestoreClient=void 0,yield e}})}};function WR(n,e){let t=typeof n=="object"?n:So(),i=typeof n=="string"?n:e||"(default)",r=zc(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=OS("firestore");s&&GR(r,...s)}return r}function KR(n){if(n._terminated)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Xz(n),n._firestoreClient}function Xz(n){var e,t,i;let r=n._freezeSettings(),s=function(a,c,u,h){return new e0(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$R(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new gw(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var yl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(vt.fromBase64String(e))}catch(t){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var vl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $f=class{constructor(e){this._methodName=e}};var wl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var bl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var eq=/^__.*__$/,mw=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,t,this.fieldTransforms):new fs(e,this.data,t,this.fieldTransforms)}};function QR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var _w=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QR(this.Cu)&&eq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},yw=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jf(e)}Qu(e,t,i,r=!1){return new _w({Cu:e,methodName:t,qu:i,path:Kt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function JR(n){let e=n._freezeSettings(),t=Jf(n._databaseId);return new yw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tq(n,e,t,i,r,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,r);XR("Data must be an object, but it was:",o,i);let a=YR(i,o),c,u;if(s.merge)c=new Bn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=iq(e,p,t);if(!o.contains(m))throw new j(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);sq(h,m)||h.push(m)}c=new Bn(h),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new mw(new vn(a),c,u)}function nq(n,e,t,i=!1){return jw(t,n.Qu(i?4:3,e))}function jw(n,e){if(ZR(n=at(n)))return XR("Unsupported field value:",e,n),YR(n,e);if(n instanceof $f)return function(i,r){if(!QR(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=jw(a,r.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=at(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return j4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=ct.fromDate(i);return{timestampValue:Mf(r.serializer,s)}}if(i instanceof ct){let s=new ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mf(r.serializer,s)}}if(i instanceof wl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yl)return{bytesValue:wR(r.serializer,i._byteString)};if(i instanceof Qt){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ow(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof bl)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Pw(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Xf(i)}`)}(n,e)}function YR(n,e){let t={};return YM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(n,(i,r)=>{let s=jw(r,e.Mu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function ZR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof wl||n instanceof yl||n instanceof Qt||n instanceof $f||n instanceof bl)}function XR(n,e,t){if(!ZR(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Xf(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function iq(n,e,t){if((e=at(e))instanceof vl)return e._internalPath;if(typeof e=="string")return eN(n,e);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,t)}var rq=new RegExp("[~\\*/\\[\\]]");function eN(n,e,t){if(e.search(rq)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vl(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hf(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new j(N.INVALID_ARGUMENT,a+n+c)}function sq(n,e){return n.some(t=>t.isEqual(e))}var Gf=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(tN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},vw=class extends Gf{data(){return super.data()}};function tN(n,e){return typeof e=="string"?eN(n,e):e instanceof vl?e._internalPath:e._delegate._internalPath}function oq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Il=class{},ww=class extends Il{};function nN(n,e,...t){let i=[];e instanceof Il&&i.push(e),i=i.concat(t),function(s){let o=s.filter(c=>c instanceof Iw).length,a=s.filter(c=>c instanceof bw).length;if(o>1||o>0&&a>0)throw new j(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var bw=class n extends ww{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return iN(e._query,t),new Zo(e.firestore,e.converter,f0(e._query,t))}_parse(e){let t=JR(e.firestore);return function(s,o,a,c,u,h,p){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new j(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){QM(p,h);let _=[];for(let I of p)_.push(KM(c,s,I));m={arrayValue:{values:_}}}else m=KM(c,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||QM(p,h),m=nq(a,o,p,h==="in"||h==="not-in");return Ke.create(u,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var Iw=class n extends Il{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:bn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)iN(o,c),o=f0(o,c)}(e._query,t),new Zo(e.firestore,e.converter,f0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function KM(n,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new j(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oR(e)&&t.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(ke.fromString(t));if(!K.isDocumentKey(i))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yM(n,new K(i))}if(t instanceof Qt)return yM(n,t._key);throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(t)}.`)}function QM(n,e){if(!Array.isArray(n)||n.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iN(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Ew=class{convertValue(e,t="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return ta(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Ne(o.doubleValue));return new bl(s)}convertGeoPoint(e){return new wl(Ne(e.latitude),Ne(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=Sw(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){let t=Ai(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=ke.fromString(e);Ce(CR(i));let r=new If(i.get(1),i.get(3)),s=new K(i.popFirst(5));return r.isEqual(t)||Si(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function aq(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var ss=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zf=class extends Gf{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Bo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(tN("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Bo=class extends zf{data(e={}){return super.data(e)}},Dw=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ss(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bo(this._firestore,this._userDataWriter,i.key,i,new ss(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Bo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ss(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Bo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ss(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:cq(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function cq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var qf=class extends Ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}};function rN(n,e){let t=ul(n.firestore,Xo),i=qR(n),r=aq(n.converter,e);return lq(t,[tq(JR(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,os.exists(!1))]).then(()=>i)}function $w(n,...e){var t,i,r;n=at(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||WM(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(WM(e[o])){let p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[o+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let c,u,h;if(n instanceof Qt)u=ul(n.firestore,Xo),h=Nw(n._key.path),c={next:p=>{e[o]&&e[o](uq(u,n,p))},error:e[o+1],complete:e[o+2]};else{let p=ul(n,Zo);u=ul(p.firestore,Xo),h=p._query;let m=new qf(u);c={next:_=>{e[o]&&e[o](new Dw(u,m,p,_))},error:e[o+1],complete:e[o+2]},oq(n._query)}return function(m,_,I,A){let M=new pw(A),P=new cw(_,M,I);return m.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return Pz(yield HM(m),P)})),()=>{M.Za(),m.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return Oz(yield HM(m),P)}))}}(KR(u),h,a,c)}function lq(n,e){return function(i,r){let s=new Ci;return i.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return jz(yield Yz(i),r,s)})),s.promise}(KR(n),e)}function uq(n,e,t){let i=t.docs.get(e._key),r=new qf(n);return new zf(n,r,e._key,i,new ss(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){ea=r})(ur),lr(new an("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Xo(new Wv(i.getProvider("auth-internal")),new Yv(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new If(u.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ze(pM,"4.7.3",e),ze(pM,"4.7.3","esm2017")})();var ep=function(){return ep=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ep.apply(this,arguments)};var fq={includeMetadataChanges:!1};function sN(n,e){return e===void 0&&(e=fq),new Y(function(t){var i=$w(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function oN(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:ep(ep({},i),(t={},t[e.idField]=n.id,t))}function aN(n){return sN(n,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function cN(n,e){return e===void 0&&(e={}),aN(n).pipe(J(function(t){return t.map(function(i){return oN(i,e)})}))}var gs=class{constructor(e){return e}},lN="firestore",Hw=class{constructor(){return qc(lN)}};var Gw=new B("angularfire2.firestore-instances");function pq(n,e){let t=Uh(lN,n,e);return t&&new gs(t)}function gq(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new gs(i)}}var mq={provide:Hw,deps:[[new gt,Gw]]},_q={provide:gs,useFactory:pq,deps:[[new gt,Gw],Ii]};function uN(n,...e){return ze("angularfire",Yr.full,"fst"),pn([_q,mq,{provide:Gw,useFactory:gq(n),multi:!0,deps:[we,Xe,Ro,Zr,[new gt,nl],[new gt,Mo],...e]}])}var dN=Wt(cN,!0);var hN=Wt(rN,!0);var zw=Wt(zR,!0);var fN=Wt(WR,!0);var pN=Wt(nN,!0);var tp=class n{constructor(e,t){this.firestore=e;this.http=t}addDocument(e){let t=zw(this.firestore,"categories");return Te(hN(t,e).then(i=>i.id))}getDocuments(){let e=zw(this.firestore,"categories");return dN(pN(e))}getData(){return this.http.get("assets/json/data_all.json")}static \u0275fac=function(t){return new(t||n)(H(gs),H(E_))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function wq(n,e){if(n&1&&(_e(0,"option",8),He(1),fe()),n&2){let t=e.$implicit;xe("ngValue",t-1),ie(),Zi(" Level ",t," ")}}function bq(n,e){if(n&1&&(xd(0),_e(1,"div",1)(2,"div",2)(3,"b",3),He(4),fe()(),_e(5,"div",4)(6,"ngb-progressbar",13)(7,"i"),He(8),fe()()()(),kd()),n&2){let t=Ge(2);ie(4),o_("Level ",t.selectedSubcategoryIndex+1," Progress ( ",t.getTotalCompletedProblemsAtLevel()," of ",t.getTotalProblemsAtLevel()," - Remaining ",t.getTotalProblemsAtLevel()-t.getTotalCompletedProblemsAtLevel()," ) : "),ie(2),xe("value",t.getPercentage(t.getTotalProblemsAtLevel(),t.getTotalCompletedProblemsAtLevel()))("striped",!0)("animated",!0),ie(2),Zi("",t.getPercentage(t.getTotalProblemsAtLevel(),t.getTotalCompletedProblemsAtLevel()),"%")}}function Iq(n,e){if(n&1){let t=Yi();_e(0,"li",27)(1,"input",28),li("ngModelChange",function(r){let s=gn(t).$implicit;return Xi(s.selected,r)||(s.selected=r),mn(r)}),Je("change",function(){let r=gn(t).index,s=Ge().index,o=Ge().index,a=Ge(2);return mn(a.onProblemChange(o,s,r))}),fe(),_e(2,"label",29)(3,"a",30),He(4),fe()()()}if(n&2){let t=e.$implicit,i=Ge().$implicit,r=Ge().$implicit;ie(),ci("ngModel",t.selected),ie(2),s_("href","https://takeuforward.org/plus/data-structures-and-algorithm/",r.category_slug,"/",i.subcategory_slug,"/",t.problem_slug,"",km),ie(),so(t.problem_name)}}function Eq(n,e){if(n&1){let t=Yi();_e(0,"div",14)(1,"h2",15)(2,"button",16)(3,"input",17),li("ngModelChange",function(r){let s=gn(t).$implicit;return Xi(s.selected,r)||(s.selected=r),mn(r)}),Je("change",function(){let r=gn(t).index,s=Ge().index,o=Ge(2);return mn(o.onSubcategoryChange(s,r))}),fe(),He(4),fe()(),_e(5,"div",24)(6,"div",19)(7,"ul",25),$t(8,Iq,5,6,"li",26),fe()()()()}if(n&2){let t=e.$implicit,i=e.index,r=Ge().index,s=Ge(2);ie(),xe("id","subcategoryHeading"+r+"-"+i),ie(),sn("data-bs-target","#subcategoryCollapse"+r+"-"+i)("aria-expanded",i===s.activeSubCategory)("aria-controls","subcategoryCollapse"+r+"-"+i),ie(),ci("ngModel",t.selected),ie(),Za(" ",t.subcategory_name," (",s.getCompletedProblemsInSubcategory(t),"/",t.problems.length,") "),ie(),Rn("show",i===s.activeSubCategory),xe("id","subcategoryCollapse"+r+"-"+i),sn("aria-labelledby","subcategoryHeading"+r+"-"+i)("data-bs-parent","#subcategoryAccordion"+r),ie(3),xe("ngForOf",t.problems)}}function Dq(n,e){if(n&1){let t=Yi();_e(0,"div",14)(1,"h2",15)(2,"button",16)(3,"input",17),li("ngModelChange",function(r){let s=gn(t).$implicit;return Xi(s.selected,r)||(s.selected=r),mn(r)}),Je("change",function(){let r=gn(t).index,s=Ge(2);return mn(s.onCategoryChange(r))}),fe(),He(4),fe()(),_e(5,"div",18)(6,"div",19)(7,"div",1)(8,"div",20)(9,"b"),He(10,"Progress : "),fe()(),_e(11,"div",21)(12,"ngb-progressbar",22)(13,"i"),He(14),fe()()()(),_e(15,"div",23),$t(16,Eq,9,14,"div",12),fe()()()()}if(n&2){let t=e.$implicit,i=e.index,r=Ge(2);ie(),xe("id","categoryHeading"+i),ie(),sn("data-bs-target","#categoryCollapse"+i)("aria-expanded",i===r.activeCategory)("aria-controls","categoryCollapse"+i),ie(),ci("ngModel",t.selected),ie(),Za(" ",t.category_name," (",r.getCompletedProblemsInCategory(t),"/",r.getTotalProblemsInCategory(t),") "),ie(),Rn("show",i===r.activeCategory),xe("id","categoryCollapse"+i),sn("aria-labelledby","categoryHeading"+i),ie(7),xe("value",r.getPercentage(r.getTotalProblemsInCategory(t),r.getCompletedProblemsInCategory(t)))("striped",!0)("animated",!0),ie(2),Zi("",r.getPercentage(r.getTotalProblemsInCategory(t),r.getCompletedProblemsInCategory(t)),"%"),ie(),xe("id","subcategoryAccordion"+i),ie(),xe("ngForOf",t.subcategories)}}function Tq(n,e){if(n&1&&(_e(0,"div"),$t(1,bq,9,8,"ng-container",10),_e(2,"div",11),$t(3,Dq,17,18,"div",12),fe()()),n&2){let t=Ge();ie(),xe("ngIf",t.selectedSubcategoryIndex!==null),ie(2),xe("ngForOf",t.filteredData)}}var np=class n{constructor(e,t,i){this.auth=e;this.router=t;this.dataService=i}dashboardData=[];filteredData=[];selectedSubcategoryIndex=null;activeCategory=999;activeSubCategory=999;levels=Array.from({length:8},(e,t)=>t+1);ngOnInit(){this.loadFromLocalStorage(),this.filteredData.length||this.loadData()}ngAfterViewInit(){document.querySelectorAll(".accordion-collapse").forEach(e=>{new bootstrap.Collapse(e,{toggle:!1})})}loadData(){this.dataService.getData().subscribe(e=>{this.dashboardData=e,this.filteredData=e,this.activeCategory=0,this.activeSubCategory=0,this.saveToLocalStorage(),console.log("Dashboard data loaded:",this.dashboardData)},e=>{console.error("Error loading dashboard data:",e)})}filterSubcategories(){this.selectedSubcategoryIndex===null?this.filteredData=this.dashboardData:this.filteredData=this.dashboardData.map(e=>{let t=[];e.category_id==="extras"?this.selectedSubcategoryIndex!=null&&this.selectedSubcategoryIndex<1&&(t=e.subcategories):t=e.subcategories.filter((i,r)=>r===this.selectedSubcategoryIndex);debugger;return ce(k({},e),{subcategories:t,selected:t.length>0&&t.every(i=>i.problems.every(r=>r.selected))})}).filter(e=>e.subcategories.length>0),this.filteredData.forEach((e,t)=>{debugger;e.selected||(this.activeCategory=Math.min(t,this.activeCategory)),e.subcategories.forEach((i,r)=>{i.selected=i.problems.every(s=>s.selected),!i.selected&&this.activeSubCategory===999&&(this.activeSubCategory=r)})}),this.saveToLocalStorage()}getTotalProblems(){return this.dashboardData.reduce((e,t)=>e+this.getTotalProblemsInCategory(t),0)}getTotalCompletedProblems(){return this.dashboardData.reduce((e,t)=>e+this.getCompletedProblemsInCategory(t),0)}getCompletionPercentage(){let e=this.getTotalProblems(),t=this.getTotalCompletedProblems();return e>0?(t/e*100).toFixed(2):"0.00"}getTotalProblemsAtLevel(){return this.filteredData.reduce((e,t)=>e+this.getTotalProblemsInCategory(t),0)}getTotalCompletedProblemsAtLevel(){return this.filteredData.reduce((e,t)=>e+this.getCompletedProblemsInCategory(t),0)}getCompletionPercentageAtLevel(){let e=this.getTotalProblemsAtLevel(),t=this.getTotalCompletedProblemsAtLevel();return e>0?(t/e*100).toFixed(2):"0.00"}getPercentage(e,t){return e>0?Math.ceil(t/e*100):0}getTotalProblemsInCategory(e){return e.subcategories.reduce((t,i)=>t+i.problems.length,0)}getCompletedProblemsInCategory(e){return e.subcategories.reduce((t,i)=>t+i.problems.filter(r=>r.selected).length,0)}getCompletedSubcategoriesInCategory(e){return e.subcategories.filter(t=>t.selected).length}getCompletedProblemsInSubcategory(e){return e.problems.filter(t=>t.selected).length}onCategoryChange(e){let t=this.filteredData[e];t.subcategories.forEach(i=>{i.selected=t.selected,i.problems.forEach(r=>r.selected=t.selected)}),this.saveToLocalStorage()}onSubcategoryChange(e,t){let i=this.filteredData[e].subcategories[t];i.problems.forEach(r=>r.selected=i.selected),this.updateCategorySelection(e),this.saveToLocalStorage()}onProblemChange(e,t,i){this.updateSubcategorySelection(e,t),this.updateCategorySelection(e),this.saveToLocalStorage()}saveToLocalStorage(){localStorage.setItem("dashboardData",JSON.stringify(this.dashboardData)),localStorage.setItem("selectedSubcategoryIndex",JSON.stringify(this.selectedSubcategoryIndex))}loadFromLocalStorage(){let e=localStorage.getItem("dashboardData");e&&(this.filteredData=JSON.parse(e),this.dashboardData=this.filteredData);let t=localStorage.getItem("selectedSubcategoryIndex");t&&(this.selectedSubcategoryIndex=JSON.parse(t)),this.filterSubcategories()}updateSubcategorySelection(e,t){let i=this.filteredData[e].subcategories[t];i.selected=i.problems.every(r=>r.selected)}updateCategorySelection(e){let t=this.filteredData[e];t.selected=t.subcategories.every(i=>i.selected)}logout(){cM(this.auth).then(()=>{this.router.navigate(["/login"])})}static \u0275fac=function(t){return new(t||n)(Z(yn),Z(At),Z(tp))};static \u0275cmp=Pt({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[Ot],decls:15,vars:11,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-4"],[2,"color","orangered"],[1,"col-md-8",2,"margin-top","5px"],["type","success",1,"mb-3",3,"value","striped","animated"],[1,"mb-3"],["id","subcategoryFilter",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","categoryAccordion",1,"accordion"],["class","accordion-item",4,"ngFor","ngForOf"],["type","warning",1,"mb-3",3,"value","striped","animated"],[1,"accordion-item"],[1,"accordion-header",3,"id"],["type","button","data-bs-toggle","collapse",1,"accordion-button"],["type","checkbox",1,"me-2",3,"ngModelChange","change","ngModel"],["data-bs-parent","#categoryAccordion",1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"col-md-2"],[1,"col-md-10",2,"margin-top","5px"],["type","primary",1,"mb-3",3,"value","striped","animated"],[1,"accordion",3,"id"],[1,"accordion-collapse","collapse",3,"id"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["type","checkbox",1,"form-check-input","me-2",3,"ngModelChange","change","ngModel"],[1,"form-check-label"],["target","_blank",3,"href"]],template:function(t,i){t&1&&(_e(0,"div",0)(1,"div",1)(2,"div",2)(3,"b",3),He(4),fe()(),_e(5,"div",4)(6,"ngb-progressbar",5)(7,"i"),He(8),fe()()()(),_e(9,"div",6)(10,"select",7),li("ngModelChange",function(s){return Xi(i.selectedSubcategoryIndex,s)||(i.selectedSubcategoryIndex=s),s}),Je("change",function(){return i.filterSubcategories()}),_e(11,"option",8),He(12,"All Levels"),fe(),$t(13,wq,2,2,"option",9),fe()(),$t(14,Tq,4,2,"div",10),fe()),t&2&&(ie(4),Za("Total Progress ( ",i.getTotalCompletedProblems()," of ",i.getTotalProblems()," - Remaining ",i.getTotalProblems()-i.getTotalCompletedProblems()," ) : "),ie(2),xe("value",i.getPercentage(i.getTotalProblems(),i.getTotalCompletedProblems()))("striped",!0)("animated",!0),ie(2),Zi("",i.getPercentage(i.getTotalProblems(),i.getTotalCompletedProblems()),"%"),ie(2),ci("ngModel",i.selectedSubcategoryIndex),ie(),xe("ngValue",null),ie(2),xe("ngForOf",i.levels),ie(),xe("ngIf",i.filteredData.length>0))},dependencies:[ic,kC,zd,Oh,CS,AS,my,Ph,Rh,Uc,lf,dM,vh]})};var Cq=()=>["/dashboard"],ip=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Pt({type:n,selectors:[["app-rounds"]],standalone:!0,features:[Ot],decls:5,vars:2,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-12"],[1,"float-end",3,"routerLink"]],template:function(t,i){t&1&&(_e(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),He(4,"Dashboard"),fe()()()()),t&2&&(ie(3),xe("routerLink",fC(1,Cq)))},dependencies:[vh,Q1],styles:[".form-check[_ngcontent-%COMP%]{margin-left:20px}"]})};var gN=J(n=>!!n),qw=(()=>{class n{router;auth;constructor(t,i){this.router=t,this.auth=i}canActivate=(t,i)=>{let r=t.data.authGuardPipe||(()=>gN);return sM(this.auth).pipe(Jt(1),r(t,i),J(s=>typeof s=="boolean"?s:Array.isArray(s)?this.router.createUrlTree(s):this.router.parseUrl(s)))};static \u0275fac=function(i){return new(i||n)(H(At),H(yn))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var mN=n=>Ts(gN,J(e=>e||n));var _N=()=>mN(["login"]),yN=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:uf},{path:"dashboard",component:np,canActivate:[qw],data:{authGuardPipe:_N}},{path:"rounds",component:ip,canActivate:[qw],data:{authGuardPipe:_N}}];var vN={production:!1,firebaseConfig:{apiKey:"AIzaSyBia2IEyDJQ19hnNah3x3FI9s0omrWITZk",authDomain:"dsa-roadmap.firebaseapp.com",projectId:"dsa-roadmap",storageBucket:"dsa-roadmap.appspot.com",messagingSenderId:"914631704450",appId:"1:914631704450:web:266e2b4f1f53ef12d3d99b"}};var wN={providers:[Y1(yN),rA(()=>sA(vN.firebaseConfig)),rM(()=>oM()),uN(()=>fN()),T_()]};var rp=class n{title="angular-login-dashboard";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Pt({type:n,selectors:[["app-root"]],standalone:!0,features:[Ot],decls:1,vars:0,template:function(t,i){t&1&&ro(0,"router-outlet")},dependencies:[ly,ZC,lf]})};o1(rp,wN).catch(n=>console.error(n));
